import{u as e,C as l}from"./index-a94c176.js";import{d as a,r as t,w as u,B as n,h as i,aV as o,aW as r,F as s}from"./vendor-1e8bcb55-a94c176.js";const p=a({props:{initialValue:{type:String,required:!0},onSubmit:{type:Function,required:!0},placeholder:{type:String},type:{type:String,default:"input"},options:{type:Array,default:()=>[]}},setup(a){const p=t(a.initialValue);u((()=>a.initialValue),(e=>{p.value=e}));const c=t(!1),v=t(),d=n();u((()=>c.value),(e=>{e&&(d.info("回车以完成修改",{duration:1500}),requestAnimationFrame((()=>{var e;null==(e=v.value)||e.focus()})))}));const f=()=>{a.onSubmit(p.value),c.value=!1};return e(l),()=>i(s,null,c.value?i("div",{class:"flex items-center w-full relative flex-nowrap"},(()=>{var e,l;switch(a.type){case"input":return i(r,{onKeydown:e=>{"Enter"==e.key&&f()},class:"w-3/4",value:p.value,placeholder:null!=(e=a.placeholder)?e:a.initialValue,size:"tiny",autofocus:!0,ref:v,onBlur:()=>{c.value=!1},onInput:e=>{p.value=e}});case"select":return i(o,{class:"w-full",placeholder:null!=(l=a.placeholder)?l:a.initialValue,value:p.value,onUpdateValue:e=>{p.value=e,f()},onBlur:()=>{c.value=!1},options:a.options})}})()):i("button",{class:"w-full text-left",onClick:()=>{c.value=!0}},a.initialValue," "))}});export{p as E};
//# sourceMappingURL=edit-column-de9ecc73-a94c176.js.map
