import{u as e,C as a}from"./index-4dda24a.js";import{d as l,r as t,w as u,C as n,h as i,aY as o,aZ as r,F as s}from"./vendor-0c7bba75-4dda24a.js";const p=l({props:{initialValue:{type:String,required:!0},onSubmit:{type:Function,required:!0},placeholder:{type:String},type:{type:String,default:"input"},options:{type:Array,default:()=>[]}},setup(l){const p=t(l.initialValue);u((()=>l.initialValue),(e=>{p.value=e}));const c=t(!1),d=t(),v=n();u((()=>c.value),(e=>{e&&(v.info("回车以完成修改",{duration:1500}),requestAnimationFrame((()=>{var e;null==(e=d.value)||e.focus()})))}));const f=()=>{l.onSubmit(p.value),c.value=!1};return e(a),()=>i(s,null,c.value?i("div",{class:"flex items-center w-full relative flex-nowrap"},(()=>{var e,a;switch(l.type){case"input":return i(r,{onKeydown:e=>{"Enter"==e.key&&f()},class:"w-3/4",value:p.value,placeholder:null!=(e=l.placeholder)?e:l.initialValue,size:"tiny",autofocus:!0,ref:d,onBlur:()=>{c.value=!1},onInput:e=>{p.value=e}});case"select":return i(o,{class:"w-full",placeholder:null!=(a=l.placeholder)?a:l.initialValue,value:p.value,onUpdateValue:e=>{p.value=e,f()},onBlur:()=>{c.value=!1},options:l.options})}})()):i("button",{class:"w-full text-left",onClick:()=>{c.value=!0}},l.initialValue," "))}});export{p as E};
//# sourceMappingURL=edit-column-69c8229b-4dda24a.js.map
