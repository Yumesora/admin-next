import{j as a,u as s,k as e,R as t}from"./index-a0ff6ee.js";import{d as n,r,B as o,ac as d,ad as i,ae as l,b as u,e as p,f as c,n as m,ag as f,ah as g,ai as v,af as w}from"./vendor-809a1dd7-a0ff6ee.js";const b=window.injectData.LOGIN_BG||"https://gitee.com/xun7788/my-imagination/raw/master/images/88426823_p0.jpg",h=n({components:{ParallaxButtonVue:a},setup(){const a=r(!1),{updateToken:n}=s(e),d=o(),i=r(""),l=r("");return{bgUrl:b,loaded:a,password:i,handleRegister:async a=>{null==a||a.stopPropagation();try{const a=await t.api.master.register.post({data:{username:l.value,password:i.value}});n(a.token),d.success("欧尼酱!"),setTimeout((()=>{location.href="#/setting/user"}),500)}catch(s){d.error("出了点小问题, 不要慌"),d.error(s.message)}},username:l}}});var y=h;d("data-v-4fc4f0fd");const k={class:"wrapper"},j={class:"input-wrap"},x={class:"input-wrap"};i(),y.render=function(a,s,e,t,n,r){const o=l("ParallaxButtonVue");return u(),p("div",null,[c("div",{class:"bg transition-opacity duration-700",style:m({backgroundImage:`url(${a.bgUrl})`,opacity:a.loaded?1:0})},null,4),c("div",k,[c("form",{action:"#",onSubmit:s[2]||(s[2]=f(((...s)=>a.handleRegister&&a.handleRegister(...s)),["prevent"]))},[c("div",j,[g(c("input",{"onUpdate:modelValue":s[0]||(s[0]=s=>a.username=s),autofocus:""},null,512),[[v,a.username]])]),c("div",x,[g(c("input",{"onUpdate:modelValue":s[1]||(s[1]=s=>a.password=s),type:"password",class:"password"},null,512),[[v,a.password]])]),w(o,{title:"注册",class:"p-button-raised p-button-rounded",onClick:f(a.handleRegister,["prevent","stop"])},null,8,["onClick"])],32)])])},y.__scopeId="data-v-4fc4f0fd";export{h as InitView,y as default};
//# sourceMappingURL=index-7d8d351e-a0ff6ee.js.map
