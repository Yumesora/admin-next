{"version":3,"file":"index-cd8d1d4.js","sources":["../vite/modulepreload-polyfill","../vite/preload-helper","../src/layouts/router-view.tsx","../src/configs.ts","../src/utils/auth.ts","../src/stores/user.ts","../src/utils/build-menus.ts","../src/hooks/use-deps-injection.ts","../src/components/avatar/index.vue","../src/constants/env.ts","../src/stores/ui.ts","../src/components/sidebar/index.tsx","../src/layouts/sidebar/index.tsx","../src/utils/time.ts","../src/components/ip-info/index.tsx","../src/external/api/hitokoto.ts","../src/layouts/content/index.tsx","../src/router/name.ts","../src/views/dashboard/index.tsx","../src/external/api/jinrishici.ts","../src/components/button/parallax-button.vue","../src/views/login/index.vue","../src/router/route.tsx","../src/router/router.ts","../src/utils/rest.ts","../src/stores/category.ts","../src/App.tsx","../src/router/guard.ts","../src/main.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","const scriptRel = 'modulepreload';const seen = {};const base = 'https://cdn.jsdelivr.net/gh/mx-space/admin-next@gh-pages/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","import { defineComponent } from 'vue'\nimport { NSpin } from 'naive-ui'\n\nimport { Suspense, VNode } from 'vue'\nimport { RouteLocation, RouterView } from 'vue-router'\nconst $RouterView = defineComponent({\n  setup() {\n    return () => (\n      <RouterView>\n        {{\n          default({ Component }: { Component: VNode; route: RouteLocation }) {\n            return (\n              <Suspense>\n                {{\n                  default: () => Component,\n\n                  fallback() {\n                    return () => (\n                      <div class=\"fixed left-1/2 top-1/2 transform text-primary-default -translate-y-1/2 -translate-x-1/2\">\n                        <NSpin strokeWidth={14} show rotate />\n                      </div>\n                    )\n                  },\n                }}\n              </Suspense>\n            )\n          },\n        }}\n      </RouterView>\n    )\n  },\n})\nexport default $RouterView\n","export const configs = {\n  title: window.injectData.TITLE || '静かな森',\n}\n","import Cookies from 'js-cookie'\n\nconst TokenKey = 'mx-admin-token'\n\nexport function getToken(): string | null {\n  return Cookies.get(TokenKey)\n    ? JSON.parse(Cookies.get(TokenKey) as string)\n    : null\n}\n\nexport function setToken(token: string, expires: number | Date) {\n  if (!token) {\n    return\n  }\n  return Cookies.set(TokenKey, JSON.stringify(token), { expires })\n}\n\nexport function removeToken() {\n  return Cookies.remove(TokenKey)\n}\n","import { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { UserModel } from '../models/user'\nimport { getToken, setToken } from '../utils/auth'\nimport { RESTManager } from '../utils/rest'\nexport function UserStore() {\n  const user = ref<UserModel | null>(null)\n  const token = ref<string>('')\n\n  const $token = getToken()\n  if ($token) {\n    token.value = $token\n  }\n  const router = useRouter()\n  return {\n    user,\n    token,\n\n    async fetchUser() {\n      try {\n        const $user = await RESTManager.api.master.get<UserModel>()\n        user.value = $user\n      } catch (e) {\n        if (e.data?.message == '没有完成初始化!') {\n          router.replace('/setup')\n        }\n      }\n    },\n\n    updateToken($token: string) {\n      if ($token) {\n        setToken($token, 7)\n      }\n\n      token.value = $token\n    },\n  }\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport { RouteRecordNormalized } from 'vue-router'\n\ntype TRouteRecordNormalized = Omit<RouteRecordNormalized, 'meta'> & {\n  meta?: {\n    query?: KV\n    params?: KV\n    icon: JSX.Element\n    title?: string\n    hide?: boolean\n    [key: string]: any\n  }\n}\nexport interface MenuModel {\n  title: string\n  path: string\n  icon: any\n  subItems?: Array<MenuModel>\n  hasParent: boolean\n  fullPath: string\n  query?: any\n}\n\nconst parsePath = (path: string, params?: KV) => {\n  // 1. add slash\n  let n = /^\\//.test(path) ? path : '/' + path\n\n  // 2. replace default params into path\n  const hasParams = n.match(/(\\/?:)/)\n  if (!hasParams) {\n    return n\n  }\n  if (!params || Object.prototype.toString.call(params) !== '[object Object]') {\n    throw new TypeError('params must be object')\n  }\n  for (const paramKey in params) {\n    n = n.replaceAll(':' + paramKey, params[paramKey])\n  }\n  return n\n}\n\nconst buildModel = (\n  item: TRouteRecordNormalized,\n  hasParent: boolean,\n  prevPath: string,\n): MenuModel => {\n  const path = parsePath(item.path, item.meta?.params)\n\n  const fullPath = prevPath + '/' + path\n\n  return {\n    title: (item.meta?.title as string) || item.name?.toString() || path,\n    path: path,\n    icon: item.meta?.icon as any,\n    subItems: buildSubMenus(item, fullPath),\n    hasParent,\n    fullPath: fullPath.replaceAll('//', '/'),\n    query: item.meta?.query,\n  }\n}\nfunction buildSubMenus(route: TRouteRecordNormalized, prevPath = '') {\n  if (Array.isArray(route.children)) {\n    return route.children\n      .filter((item) => {\n        if (!item.meta) {\n          return true\n        }\n        return item.meta.hide !== true\n      })\n      .map((item) => {\n        return buildModel(item as TRouteRecordNormalized, true, prevPath)\n      })\n  } else {\n    return []\n  }\n}\n\nexport const buildMenus = (\n  routes: Array<TRouteRecordNormalized>,\n): MenuModel[] =>\n  (\n    routes.find((item) => item.name === 'home' && item.path === '/') as any\n  ).children\n    .filter(\n      (item: TRouteRecordNormalized) =>\n        item.path !== '*' && item.meta?.hide !== true,\n    )\n    .map((item: TRouteRecordNormalized) => {\n      return buildModel(item, false, '')\n    })\n","import { camelCase } from 'lodash-es'\nimport { provide, inject } from 'vue'\n//定义一个用于状态共享的hook函数的标准接口\nexport interface FunctionalStore<T extends object> {\n  (...args: any[]): T\n  token?: symbol\n  root?: T\n}\n\n//对原生provide进行封装\n\n//由于inject函数只会从父组件开始查找，所以useProvider默认返回hook函数的调用结果，以防同组件层级需要使用\nexport function useProvider<T extends object>(func: FunctionalStore<T>): T {\n  !func.token && (func.token = Symbol('functional store'))\n  const depends = func()\n  provide(func.token, depends)\n  return depends\n}\n\n// 可以一次传入多个hook函数， 统一管理\nexport function useProviders(...funcs: FunctionalStore<any>[]) {\n  const stores = {} as any\n  funcs.forEach((func) => {\n    const deps = useProvider(func)\n    stores[camelCase(func.name)] = deps\n  })\n  return stores\n}\n\n//对原生inject进行封装\n\ntype InjectType = 'root' | 'optional'\n\n//接收第二个参数，'root'表示直接全局使用；optional表示可选注入，防止父组件的provide并未传入相关hook\nexport function useInjector<T extends object>(\n  func: FunctionalStore<T>,\n  type: 'optional',\n): T | null\nexport function useInjector<T extends object>(\n  func: FunctionalStore<T>,\n  type: 'root',\n): T\nexport function useInjector<T extends object>(func: FunctionalStore<T>): T\nexport function useInjector<T extends object>(\n  func: FunctionalStore<T>,\n  type?: InjectType,\n) {\n  const token = func.token as any\n  const root = func.root\n\n  switch (type) {\n    case 'optional':\n      return inject<T>(token) || func.root || null\n    case 'root':\n      if (!func.root) func.root = func()\n      return func.root\n    default:\n      if (inject(token)) {\n        return inject<T>(token)\n      }\n      if (root) return func.root\n      if (__DEV__) {\n        // vite reload bug\n        console.debug(\n          `状态钩子函数${func.name}未在上层组件通过调用useProvider提供`,\n        )\n        setTimeout(() => {\n          location.reload()\n        }, 50)\n      } else {\n        throw new Error(\n          `状态钩子函数${func.name}未在上层组件通过调用useProvider提供`,\n        )\n      }\n  }\n}\n","<template>\n  <div class=\"avatar\" :style=\"{ height: `${size}px`, width: `${size}px` }\">\n    <img :src=\"src\" alt=\"\" :style=\"{ display: loaded ? '' : 'none' }\" />\n    <div class=\"sr-only\">一个头像</div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, ref, watch } from 'vue'\n\nexport default defineComponent({\n  props: {\n    size: {\n      type: Number,\n      default: 50,\n    },\n    src: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const loaded = ref(false)\n\n    const preloadImage = () => {\n      if (!props.src) {\n        return\n      }\n      const $$ = new Image()\n      $$.src = props.src\n\n      $$.onload = (e) => {\n        loaded.value = true\n      }\n    }\n    onMounted(() => {\n      preloadImage()\n    })\n\n    watch(\n      () => props.src,\n      () => {\n        preloadImage()\n      },\n    )\n\n    return {\n      loaded,\n    }\n  },\n})\n</script>\n\n<style lang=\"postcss\">\n.avatar {\n  @apply bg-gray$-default inline-block rounded-full relative overflow-hidden select-none;\n}\n.avatar img {\n  @apply rounded-full h-full max-w-full;\n\n  animation: scale 0.5s ease-out;\n}\n@keyframes scale {\n  0% {\n    transform: scale(0);\n  }\n  to {\n    transform: scale(1);\n  }\n}\n</style>\n","export const BASE_URL: string =\n  window.injectData.WEB_URL ||\n  (import.meta.env.VITE_APP_WEB_URL as string) ||\n  'http://localhost:2323'\n\n// export const __DEV__ = import.meta.env.DEV\n","/*\n * @Author: Innei\n * @Date: 2021-03-22 11:41:32\n * @LastEditTime: 2021-03-22 11:41:32\n * @LastEditors: Innei\n * @FilePath: /admin-next/src/stores/ui.ts\n * Mark: Coding with Love\n */\n\nimport { useDark, useToggle } from '@vueuse/core'\nimport { debounce } from 'lodash-es'\nimport { computed, onMounted, ref, watch } from 'vue'\n\nexport interface ViewportRecord {\n  w: number\n  h: number\n  mobile: boolean\n  pad: boolean\n  hpad: boolean\n  wider: boolean\n  widest: boolean\n  phone: boolean\n}\n\nexport function UIStore() {\n  const viewport = ref<ViewportRecord>({} as any)\n  const sidebarWidth = ref(250)\n  const sidebarCollapse = ref(viewport.value.mobile ? true : false)\n\n  const isDark = useDark()\n  const toggleDark = useToggle(isDark)\n\n  onMounted(() => {\n    const resizeHandler = debounce(updateViewport, 500, { trailing: true })\n    window.onresize = resizeHandler\n    updateViewport()\n  })\n  const updateViewport = () => {\n    const innerHeight = window.innerHeight\n    const width = document.documentElement.getBoundingClientRect().width\n    const { hpad, pad, mobile } = viewport.value\n\n    // 忽略移动端浏览器 上下滚动 导致的视图大小变化\n    if (\n      viewport.value.h &&\n      // chrome mobile delta == 56\n      Math.abs(innerHeight - viewport.value.h) < 80 &&\n      width === viewport.value.w &&\n      (hpad || pad || mobile)\n    ) {\n      return\n    }\n    viewport.value = {\n      w: width,\n      h: innerHeight,\n      mobile: window.screen.width <= 568 || window.innerWidth <= 568,\n      pad: window.innerWidth <= 768 && window.innerWidth > 568,\n      hpad: window.innerWidth <= 1024 && window.innerWidth > 768,\n      wider: window.innerWidth > 1024 && window.innerWidth < 1920,\n      widest: window.innerWidth >= 1920,\n\n      phone: window.innerWidth <= 768,\n    }\n  }\n\n  const contentWidth = computed(\n    () =>\n      viewport.value.w -\n      sidebarWidth.value +\n      (sidebarCollapse.value ? (viewport.value.mobile ? 50 : 100) : 0),\n  )\n\n  const contentInsetWidth = computed(\n    () =>\n      contentWidth.value -\n      parseInt(getComputedStyle(document.documentElement).fontSize) * 6,\n  )\n\n  watch(\n    () => isDark.value,\n    (isDark) => {\n      if (isDark) {\n        document.documentElement.classList.add('dark')\n      } else {\n        document.documentElement.classList.remove('dark')\n      }\n    },\n  )\n  return {\n    viewport,\n    contentWidth,\n    sidebarWidth,\n    contentInsetWidth,\n    sidebarCollapse,\n\n    isDark,\n    toggleDark,\n  }\n}\n","import { onClickOutside } from '@vueuse/core'\nimport Hamburger from '@vicons/ionicons5/es/Menu'\nimport { Icon } from '@vicons/utils'\nimport clsx from 'clsx'\nimport { computed, defineComponent, onMounted, PropType, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { configs } from '../../configs'\nimport { UserStore } from '../../stores/user'\nimport { buildMenus, MenuModel } from '../../utils/build-menus'\nimport { useInjector } from '../../hooks/use-deps-injection'\nimport { Avatar } from '../avatar'\nimport styles from './index.module.css'\nimport { NLayoutContent } from 'naive-ui'\nimport { BASE_URL } from 'constants/env'\nimport { UIStore } from 'stores/ui'\nexport const Sidebar = defineComponent({\n  name: 'SidebarComp',\n  props: {\n    collapse: {\n      type: Boolean,\n      required: true,\n    },\n    width: {\n      type: Number,\n      required: true,\n    },\n    onCollapseChange: {\n      type: Function as PropType<{ (status: boolean): void }>,\n      required: true,\n    },\n  },\n  setup(props) {\n    const router = useRouter()\n    const { user } = useInjector(UserStore)\n    const route = computed(() => router.currentRoute.value)\n    const menus = ref<MenuModel[]>([])\n    onMounted(() => {\n      // @ts-expect-error\n      menus.value = buildMenus(router.getRoutes())\n    })\n\n    const _index = ref(0)\n\n    function updateIndex(index: number) {\n      if (index === _index.value) {\n        _index.value = -1\n        return\n      }\n      _index.value = index\n    }\n\n    function handleRoute(item: MenuModel, index?: number) {\n      if (item.subItems?.length) {\n      } else {\n        // console.log(item.fullPath)\n\n        router.push({\n          path: item.fullPath,\n          query: item.query,\n        })\n        if (index) {\n          updateIndex(index)\n        }\n      }\n    }\n\n    const title = configs.title\n    const sidebarRef = ref<HTMLDivElement>()\n    const uiStore = useInjector(UIStore)\n    onClickOutside(sidebarRef, (event) => {\n      const v = uiStore.viewport\n      const isM = v.value.pad || v.value.mobile\n      if (isM) {\n        props.onCollapseChange(true)\n      }\n    })\n    return () => (\n      <div\n        class={clsx(styles['root'], props.collapse ? styles['collapse'] : null)}\n        style={{\n          width: !props.collapse && props.width ? props.width + 'px' : '',\n        }}\n        ref={sidebarRef}\n      >\n        <div\n          class={\n            'fixed left-0 top-0 h-screen overflow-hidden z-10 text-white ' +\n            styles['sidebar']\n          }\n        >\n          <div class={'title relative font-medium text-center text-2xl'}>\n            <h1 class=\"py-6\" style={{ display: props.collapse ? 'none' : '' }}>\n              {title}\n            </h1>\n            <button\n              class={styles['collapse-button']}\n              onClick={() => {\n                props.onCollapseChange(!props.collapse)\n              }}\n            >\n              <Icon>\n                <Hamburger />\n              </Icon>\n            </button>\n          </div>\n\n          <NLayoutContent class={styles['menu']} nativeScrollbar={false}>\n            <div class={styles['items']}>\n              {menus.value.map((item, index) => {\n                return (\n                  <div\n                    class={clsx(\n                      'py-2',\n                      route.value.fullPath === item.fullPath ||\n                        route.value.fullPath.startsWith(item.fullPath)\n                        ? styles['active']\n                        : '',\n\n                      styles['item'],\n                    )}\n                    data-path={item.fullPath}\n                  >\n                    <button\n                      key={item.title}\n                      class={'py-2 flex w-full items-center'}\n                      onClick={\n                        item.subItems?.length\n                          ? () => updateIndex(index)\n                          : () => handleRoute(item, index)\n                      }\n                    >\n                      <span\n                        style={{ flexBasis: '3rem' }}\n                        class=\"flex justify-center\"\n                      >\n                        {item.icon}\n                      </span>\n                      <span class={styles['item-title']}>{item.title}</span>\n                    </button>\n                    {item.subItems && (\n                      <ul\n                        class={clsx(\n                          'overflow-hidden  ' +\n                            (!!item.subItems.length ? styles['has-child'] : ''),\n                          _index.value === index ? styles['expand'] : '',\n                        )}\n                        style={{\n                          maxHeight:\n                            _index.value === index\n                              ? item.subItems.length * 3.5 + 'rem'\n                              : '0',\n                        }}\n                      >\n                        {item.subItems.map((child) => {\n                          return (\n                            <li\n                              key={child.path}\n                              // data-fullPath={child.fullPath}\n                              class={clsx(\n                                route.value.fullPath === child.fullPath ||\n                                  route.value.fullPath.startsWith(\n                                    child.fullPath,\n                                  )\n                                  ? styles['active']\n                                  : '',\n                                styles['item'],\n                              )}\n                            >\n                              <button\n                                onClick={() => handleRoute(child)}\n                                class={'flex w-full items-center py-4'}\n                              >\n                                <span\n                                  class=\"flex justify-center items-center\"\n                                  style={{ flexBasis: '3rem' }}\n                                >\n                                  {child.icon}\n                                </span>\n                                <span class={styles['item-title']}>\n                                  {child.title}\n                                </span>\n                              </button>\n                            </li>\n                          )\n                        })}\n                      </ul>\n                    )}\n                  </div>\n                )\n              })}\n            </div>\n          </NLayoutContent>\n\n          <button\n            class={clsx(\n              'bottom-bar flex space-x-2 items-center  transform translate-y-1/3 phone:hidden',\n              props.collapse ? 'px-8' : 'px-12',\n            )}\n            onClick={() => {\n              window.open(BASE_URL)\n            }}\n          >\n            <Avatar src={user.value?.avatar} size={40} />\n            {!props.collapse ? (\n              <span class=\"pl-12\">{user.value?.name}</span>\n            ) : null}\n          </button>\n          <button\n            class=\"hidden phone:flex w-full items-center justify-center absolute bottom-0 pb-4\"\n            onClick={() => {\n              window.open(BASE_URL)\n            }}\n          >\n            <Avatar src={user.value?.avatar} size={40} />\n          </button>\n        </div>\n      </div>\n    )\n  },\n})\n","import $RouterView from 'layouts/router-view'\nimport { NLayoutContent } from 'naive-ui'\nimport { computed, CSSProperties, defineComponent, watchEffect } from 'vue'\nimport { Sidebar } from '../../components/sidebar'\nimport { UIStore } from '../../stores/ui'\nimport { useInjector } from '../../hooks/use-deps-injection'\nimport styles from './index.module.css'\nexport const SidebarLayout = defineComponent({\n  name: 'SidebarLayout',\n\n  setup(props) {\n    const ui = useInjector(UIStore)\n\n    const collapse = ui.sidebarCollapse\n    const isLaptop = computed(\n      () => ui.viewport.value.mobile || ui.viewport.value.pad,\n    )\n    watchEffect(() => {\n      collapse.value = isLaptop.value ? true : false\n    })\n\n    const sidebarWidth = ui.sidebarWidth\n    return () => (\n      <div class={styles['root']}>\n        <Sidebar\n          collapse={collapse.value}\n          width={sidebarWidth.value}\n          onCollapseChange={(s) => {\n            collapse.value = s\n          }}\n        />\n\n        <NLayoutContent\n          embedded\n          nativeScrollbar={false}\n          class={styles['content']}\n          style={\n            {\n              left: !collapse.value ? sidebarWidth.value + 'px' : '100px',\n              pointerEvents:\n                isLaptop.value && !collapse.value ? 'none' : 'auto',\n            } as CSSProperties\n          }\n        >\n          <$RouterView />\n        </NLayoutContent>\n      </div>\n    )\n  },\n})\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { parse, format as f } from 'date-fns'\n\nexport enum DateFormat {\n  'yyyy年M月d日',\n  'yyyy年M月d日 HH:mm:ss',\n  'HH:mm',\n\n  'H:mm:ss A',\n  'M-d HH:mm:ss',\n}\n\nexport const parseDate = (\n  time: string | Date,\n  format: keyof typeof DateFormat = 'yyyy年M月d日',\n) => f(new Date(time), format)\n\nexport const relativeTimeFromNow = (\n  time: Date | string,\n  current = new Date(),\n) => {\n  time = new Date(time)\n  const msPerMinute = 60 * 1000\n  const msPerHour = msPerMinute * 60\n  const msPerDay = msPerHour * 24\n  const msPerMonth = msPerDay * 30\n  const msPerYear = msPerDay * 365\n\n  const elapsed = +current - +time\n\n  if (elapsed < msPerMinute) {\n    const gap = Math.ceil(elapsed / 1000)\n    return gap <= 0 ? '刚刚' : gap + ' 秒前'\n  } else if (elapsed < msPerHour) {\n    return Math.round(elapsed / msPerMinute) + ' 分钟前'\n  } else if (elapsed < msPerDay) {\n    return Math.round(elapsed / msPerHour) + ' 小时前'\n  } else if (elapsed < msPerMonth) {\n    return Math.round(elapsed / msPerDay) + ' 天前'\n  } else if (elapsed < msPerYear) {\n    return Math.round(elapsed / msPerMonth) + ' 个月前'\n  } else {\n    return Math.round(elapsed / msPerYear) + ' 年前'\n  }\n}\n\nexport const getDayOfYear = (date = new Date()) => {\n  const now = date\n  const start = new Date(now.getFullYear(), 0, 0)\n  const diff = now.getTime() - start.getTime()\n  const oneDay = 1000 * 60 * 60 * 24\n  const day = Math.floor(diff / oneDay)\n\n  return day\n}\nexport default { parseDate, relativeTimeFromNow }\n","import { NPopover, PopoverTrigger } from 'naive-ui'\nimport { RESTManager } from 'utils'\nimport { defineComponent, PropType, ref } from 'vue'\nconst ipLocationCacheMap = new Map<string, IP>()\n\nexport const IpInfoPopover = defineComponent({\n  props: {\n    ip: {\n      type: String,\n      required: true,\n    },\n    triggerEl: {\n      type: [Object, Function] as PropType<(() => JSX.Element) | JSX.Element>,\n      required: true,\n    },\n    trigger: {\n      type: String as PropType<PopoverTrigger>,\n      default: 'click',\n    },\n  },\n  setup(props) {\n    const ipInfoText = ref('获取中..')\n    const setIpInfoText = (info: IP) => {\n      ipInfoText.value = `IP: ${info.ip}<br />\n      城市: ${\n        [info.countryName, info.regionName, info.cityName]\n          .filter(Boolean)\n          .join(' - ') || 'N/A'\n      }<br />\n      ISP: ${info.ispDomain || 'N/A'}<br />\n      组织: ${info.ownerDomain || 'N/A'}<br />\n      范围: ${info.range ? Object.values(info.range).join(' - ') : 'N/A'}\n      `\n    }\n    const resetIpInfoText = () => (ipInfoText.value = '获取中..')\n\n    const onIpInfoShow = async (show: boolean, ip: string) => {\n      if (!ip) {\n        return\n      }\n      if (show) {\n        if (ipLocationCacheMap.has(ip)) {\n          const ipInfo = ipLocationCacheMap.get(ip)!\n          setIpInfoText(ipInfo)\n          return\n        }\n\n        const data: any = await RESTManager.api.tools.ip(ip).get()\n\n        setIpInfoText(data)\n        ipLocationCacheMap.set(ip, data)\n      } else {\n        resetIpInfoText()\n      }\n    }\n\n    return () => (\n      <NPopover\n        trigger={props.trigger}\n        placement=\"top\"\n        onUpdateShow={async (show) => {\n          if (!props.ip) {\n            return\n          }\n          await onIpInfoShow(show, props.ip)\n        }}\n      >\n        {{\n          trigger() {\n            return typeof props.triggerEl == 'function'\n              ? props.triggerEl()\n              : props.triggerEl\n          },\n          default() {\n            return <div innerHTML={ipInfoText.value}></div>\n          },\n        }}\n      </NPopover>\n    )\n  },\n})\n\ninterface IP {\n  ip: string\n  countryName: string\n  regionName: string\n  cityName: string\n  ownerDomain: string\n  ispDomain: string\n  range?: {\n    from: string\n    to: string\n  }\n}\n\ninterface IPv6 {\n  status: string\n  country: string\n  countryCode: string\n  region: string\n  regionName: string\n  city: string\n  zip: string\n  lat: number\n  lon: number\n  timezone: string\n  isp: string\n  org: string\n  as: string\n  query: string\n}\n","export enum SentenceType {\n  '动画' = 'a',\n  '漫画' = 'b',\n  '游戏' = 'c',\n  '文学' = 'd',\n  '原创' = 'e',\n  '来自网络' = 'f',\n  '其他' = 'g',\n  '影视' = 'h',\n  '诗词' = 'i',\n  '网易云' = 'j',\n  '哲学' = 'k',\n  '抖机灵' = 'l',\n}\nexport const fetchHitokoto = async (\n  type: SentenceType[] | SentenceType = SentenceType.文学,\n) => {\n  const json = await fetch(\n    'https://v1.hitokoto.cn/' +\n      (Array.isArray(type)\n        ? '?' + type.map((t) => 'c=' + t).join('&')\n        : '?c=' + type),\n  )\n  const data = (await (json.json() as unknown)) as {\n    id: number\n    hitokoto: string\n    type: string\n    from: string\n    from_who: string\n    creator: string\n    creator_uid: number\n    reviewer: number\n    uuid: string\n    created_at: string\n  }\n\n  return data\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-empty-function */\nimport {\n  computed,\n  defineComponent,\n  inject,\n  onUnmounted,\n  PropType,\n  provide,\n  ref,\n  VNode,\n} from 'vue'\nimport clsx from 'clsx'\nimport { useRouter } from 'vue-router'\nimport styles from './index.module.css'\nimport { Icon } from '@vicons/utils'\nimport Sun from '@vicons/fa/es/Sun'\nimport Moon from '@vicons/fa/es/Moon'\nimport { useInjector } from 'hooks/use-deps-injection'\nimport { UIStore } from 'stores/ui'\n\nconst ProvideKey = Symbol('inject')\n\nexport const useLayout = () =>\n  inject(ProvideKey, {\n    addFloatButton(el: VNode) {},\n    removeFloatButton(name: symbol) {},\n    setHeaderButton(el: VNode | null) {},\n  })\nexport const ContentLayout = defineComponent({\n  props: {\n    actionsElement: {\n      type: Object as PropType<JSX.Element | null>,\n      required: false,\n    },\n    footerButtonElement: {\n      type: Object as PropType<JSX.Element | null>,\n      required: false,\n    },\n    title: {\n      type: String,\n    },\n  },\n  setup(props, ctx) {\n    const { slots } = ctx\n    const router = useRouter()\n    const route = computed(() => router.currentRoute)\n    const A$ael = () => props.actionsElement ?? null\n    const A$fel = () => props.footerButtonElement ?? null\n    const footerExtraButtonEl = ref<\n      null | ((() => VNode) & { displayName$: symbol })[]\n    >(null)\n    provide(ProvideKey, {\n      addFloatButton(el: VNode | (() => VNode)) {\n        footerExtraButtonEl.value ??= []\n        const E: any = typeof el === 'function' ? el : () => el\n        E.displayName$ = E.name ? Symbol(E.name) : Symbol('fab')\n        footerExtraButtonEl.value.push(E)\n\n        return E.displayName$\n      },\n      removeFloatButton(name: symbol) {\n        if (!footerExtraButtonEl.value) {\n          return\n        }\n        const index = footerExtraButtonEl.value.findIndex(\n          (E) => E.displayName$ === name,\n        )\n        if (index && index !== -1) {\n          footerExtraButtonEl.value.splice(index, 1)\n        }\n      },\n\n      setHeaderButton(el: VNode | null) {\n        if (!el) {\n          SettingHeaderEl.value = null\n          return\n        }\n        SettingHeaderEl.value = () => el\n      },\n    })\n\n    onUnmounted(() => {\n      footerExtraButtonEl.value = null\n    })\n\n    const { isDark, toggleDark } = useInjector(UIStore)\n    const SettingHeaderEl = ref<(() => VNode) | null>()\n    return () => (\n      <>\n        <header class={styles['header']}>\n          <div class={styles['header-blur']}></div>\n          <h1 class={styles['title']}>\n            {props.title ?? route.value.value.meta.title}\n          </h1>\n\n          <div class={clsx(styles['header-actions'], 'space-x-4')}>\n            {SettingHeaderEl.value ? (\n              <SettingHeaderEl.value />\n            ) : props.actionsElement ? (\n              <A$ael />\n            ) : (\n              slots.actions?.()\n            )}\n          </div>\n        </header>\n        <main class={styles['main']}>{slots.default?.()}</main>\n        <footer class={styles['buttons']}>\n          {footerExtraButtonEl.value\n            ? footerExtraButtonEl.value.map((E: any) => (\n                <E key={E.displayName} />\n              ))\n            : null}\n          {props.footerButtonElement ? <A$fel /> : slots.buttons?.()}\n          <button onClick={() => void toggleDark()}>\n            <Icon>{isDark.value ? <Sun /> : <Moon />}</Icon>\n          </button>\n        </footer>\n      </>\n    )\n  },\n})\n","export enum RouteName {\n  Dashboard = 'dashboard',\n  Post = 'post',\n  ViewPost = 'view-posts',\n  EditPost = 'edit-posts',\n  EditCategory = 'edit-category',\n  Note = 'note',\n  ViewNote = 'view-notes',\n  EditNote = 'edit-notes',\n  Comment = 'comment',\n  Page = 'page',\n  ListPage = 'page-list',\n  EditPage = 'page-edit',\n  Say = 'say',\n  ListSay = 'say-list',\n  EditSay = 'say-edit',\n  Project = 'project',\n  ListProject = 'project-list',\n\n  EditProject = 'project-edit',\n  Friend = 'friends',\n  File = 'files',\n  Analyze = 'analyze',\n  Setting = 'setting',\n  Profile = 'setting-profile',\n  System = 'setting-system',\n  Security = 'setting-security',\n  Reset = 'reset',\n  Other = 'other',\n  Backup = 'backup',\n  Markdown = 'markdown',\n  Cron = 'cron',\n  Log = 'log',\n  Optimize = 'optimize',\n  Login = 'login',\n  Home = 'home',\n  Setup = 'setup',\n}\n","import Code24Filled from '@vicons/fluent/es/Code24Filled'\nimport Comment24Filled from '@vicons/fluent/es/Comment24Filled'\nimport Extension24Filled from '@vicons/fluent/es/Extension24Filled'\nimport Games24Regular from '@vicons/fluent/es/Games24Regular'\nimport Guest16Filled from '@vicons/fluent/es/Guest16Filled'\nimport Link24Filled from '@vicons/fluent/es/Link24Filled'\nimport Note24Filled from '@vicons/fluent/es/Note24Filled'\nimport ChatbubblesSharp from '@vicons/ionicons5/es/ChatbubblesSharp'\nimport AddLinkFilled from '@vicons/material/es/AddLinkFilled'\nimport BubbleChartFilled from '@vicons/material/es/BubbleChartFilled'\nimport OnlinePredictionFilled from '@vicons/material/es/OnlinePredictionFilled'\nimport Activity from '@vicons/tabler/es/Activity'\nimport Copy from '@vicons/tabler/es/Copy'\nimport File from '@vicons/tabler/es/File'\nimport Refresh from '@vicons/tabler/es/Refresh'\nimport { Icon } from '@vicons/utils'\nimport { IpInfoPopover } from 'components/ip-info'\nimport { fetchHitokoto, SentenceType } from 'external/api/hitokoto'\nimport { getJinRiShiCiOne, ShiJuData } from 'external/api/jinrishici'\nimport { useInjector } from 'hooks/use-deps-injection'\nimport { ContentLayout } from 'layouts/content'\nimport { pick } from 'lodash-es'\nimport { Stat } from 'models/stat'\nimport {\n  NBadge,\n  NButton,\n  NCard,\n  NGi,\n  NGrid,\n  NH1,\n  NH3,\n  NP,\n  NPopover,\n  NSkeleton,\n  NSpace,\n  NStatistic,\n  NText,\n  NThing,\n  useMessage,\n} from 'naive-ui'\nimport { RouteName } from 'router/name'\nimport { UserStore } from 'stores/user'\nimport { parseDate, RESTManager } from 'utils'\nimport {\n  computed,\n  defineComponent,\n  onBeforeMount,\n  PropType,\n  ref,\n  VNode,\n} from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport const DashBoardView = defineComponent({\n  name: 'Dashboard',\n  setup() {\n    const stat = ref(\n      new Proxy(\n        {},\n        {\n          get() {\n            return 'N/A'\n          },\n        },\n      ) as Stat,\n    )\n    const statTime = ref(null as unknown as Date)\n    const fetchStat = async () => {\n      const counts = (await RESTManager.api.aggregate.stat.get()) as any\n      stat.value = counts\n      statTime.value = new Date()\n    }\n\n    const refreshHitokoto = () => {\n      fetchHitokoto([\n        SentenceType.动画,\n        SentenceType.原创,\n        SentenceType.哲学,\n        SentenceType.文学,\n      ]).then((data) => {\n        const postfix = Object.values(\n          pick(data, ['from', 'from_who', 'creator']),\n        ).filter(Boolean)[0]\n        if (!data.hitokoto) {\n          hitokoto.value = '没有获取到句子信息'\n        } else {\n          hitokoto.value = data.hitokoto + (postfix ? ' —— ' + postfix : '')\n        }\n      })\n    }\n\n    const shiju = ref('')\n    const shijuData = ref<ShiJuData | null>(null)\n\n    onBeforeMount(() => {\n      refreshHitokoto()\n      fetchStat()\n\n      getJinRiShiCiOne().then((data) => {\n        shiju.value = data.content\n        shijuData.value = data\n      })\n    })\n    const hitokoto = ref('')\n    const message = useMessage()\n    // const uiStore = useInjector(UIStore)\n    const userStore = useInjector(UserStore)\n    const router = useRouter()\n    const UserLoginStat = defineComponent(() => () => (\n      <>\n        <NH3 class=\"text-opacity-80 font-light\">登陆记录</NH3>\n        <p class=\"-mt-2 mb-3 relative text-gray-500\">\n          <span>\n            上次登陆 IP:{' '}\n            {userStore.user.value?.lastLoginIp ? (\n              <IpInfoPopover\n                trigger=\"hover\"\n                triggerEl={<span>{userStore.user.value?.lastLoginIp}</span>}\n                ip={userStore.user.value?.lastLoginIp}\n              ></IpInfoPopover>\n            ) : (\n              'N/A'\n            )}\n          </span>\n          <div class=\"pt-[.5rem]\"></div>\n          <span>\n            上次登陆时间:{' '}\n            {userStore.user.value?.lastLoginTime ? (\n              <time>\n                {parseDate(\n                  userStore.user.value?.lastLoginTime,\n                  'yyyy年M月d日 HH:mm:ss',\n                )}\n              </time>\n            ) : (\n              'N/A'\n            )}\n          </span>\n        </p>\n\n        <div class=\"pb-4\"></div>\n      </>\n    ))\n\n    const dataStat = computed<CardProps[]>(() => [\n      {\n        label: '博文',\n        value: stat.value.posts,\n        icon: <Code24Filled />,\n        actions: [\n          {\n            name: '撰写',\n            primary: true,\n            onClick() {\n              router.push({ name: RouteName.EditPost })\n            },\n          },\n          {\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.ViewPost, query: { page: 1 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '日记',\n        value: stat.value.notes,\n        icon: <Note24Filled />,\n        actions: [\n          {\n            name: '撰写',\n            primary: true,\n            onClick() {\n              router.push({ name: RouteName.EditNote })\n            },\n          },\n          {\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.ViewNote, query: { page: 1 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '页面',\n        value: stat.value.pages,\n        icon: <File />,\n        actions: [\n          {\n            primary: true,\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.ListPage, query: { page: 1 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '分类',\n        value: stat.value.categories,\n        icon: <Extension24Filled />,\n        actions: [\n          {\n            primary: true,\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.EditCategory })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '全部评论',\n        value: stat.value.allComments,\n        icon: <Comment24Filled />,\n        actions: [\n          {\n            primary: true,\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.Comment, query: { state: 1 } })\n            },\n          },\n        ],\n      },\n      {\n        label: '未读评论',\n        value: stat.value.unreadComments,\n        icon: <ChatbubblesSharp />,\n        actions: [\n          {\n            primary: true,\n            showBadage: true,\n            name: '查看',\n            onClick() {\n              router.push({ name: RouteName.Comment, query: { state: 0 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '友链',\n        value: stat.value.links,\n        icon: <Link24Filled />,\n        actions: [\n          {\n            primary: true,\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.Friend, query: { state: 0 } })\n            },\n          },\n        ],\n      },\n      {\n        label: '新的友链申请',\n        value: stat.value.linkApply,\n        icon: <AddLinkFilled />,\n        actions: [\n          {\n            primary: true,\n            showBadage: true,\n            name: '查看',\n            onClick() {\n              router.push({ name: RouteName.Friend, query: { state: 1 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '说说',\n        value: stat.value.says,\n        icon: <AddLinkFilled />,\n        actions: [\n          {\n            primary: true,\n\n            name: '说一句',\n            onClick() {\n              router.push({\n                name: RouteName.EditSay,\n              })\n            },\n          },\n\n          {\n            primary: false,\n            name: '管理',\n            onClick() {\n              router.push({\n                name: RouteName.ListSay,\n              })\n            },\n          },\n        ],\n      },\n\n      {\n        label: 'API 总调用次数',\n        value:\n          // @ts-expect-error\n          stat.value.callTime !== 'N/A'\n            ? Intl.NumberFormat('en-us').format(stat.value.callTime)\n            : 'N/A',\n        icon: <Activity />,\n        actions: [\n          {\n            primary: true,\n            name: '查看',\n            onClick() {\n              router.push({\n                name: RouteName.Analyze,\n              })\n            },\n          },\n\n          {\n            name: '清空缓存',\n            onClick() {\n              RESTManager.api.clean_catch.get().then(() => {\n                message.success('清除成功')\n              })\n            },\n          },\n        ],\n      },\n      {\n        label: '今日 IP 访问次数',\n        value: stat.value.todayIpAccessCount,\n        icon: <BubbleChartFilled />,\n        actions: [\n          {\n            primary: true,\n            name: '查看',\n            onClick() {\n              router.push({\n                name: RouteName.Analyze,\n              })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '当前在线访客',\n        value: stat.value.online,\n        icon: <OnlinePredictionFilled />,\n      },\n      {\n        label: '今日访客',\n        value: stat.value.todayOnlineTotal,\n        icon: <Guest16Filled />,\n      },\n      {\n        value: stat.value.todayMaxOnline,\n        label: '今日最多同时在线人数',\n        icon: <Games24Regular />,\n      },\n    ])\n\n    const DataStat = defineComponent(() => {\n      return () => (\n        <>\n          <NSpace vertical>\n            <NH3 class=\"text-opacity-80 font-light\">数据统计</NH3>\n\n            <p class=\"-mt-4 mb-3 relative text-gray-500 flex items-center\">\n              <span>数据更新于: </span>\n              <time>\n                {' '}\n                {statTime.value\n                  ? parseDate(statTime.value, 'yyyy年M月d日 HH:mm:ss')\n                  : 'N/A'}\n              </time>\n\n              <NButton text onClick={fetchStat} class=\"ml-4 text-black\">\n                <Icon>\n                  <Refresh />\n                </Icon>\n              </NButton>\n            </p>\n          </NSpace>\n          <NGrid\n            xGap={20}\n            yGap={20}\n            cols={'2 100:1 400:2 600:3 900:4 1200:5 1600:6'}\n          >\n            {dataStat.value.map((props) => (\n              <NGi key={props.label}>\n                <Card {...props} />\n              </NGi>\n            ))}\n          </NGrid>\n        </>\n      )\n    })\n    return () => (\n      <ContentLayout>\n        <NH1 class=\"font-light\">欢迎回来</NH1>\n        <NGrid xGap={12} cols={'1 900:2'}>\n          <NGi>\n            <NH3 class=\"text-opacity-80 font-light !mt-[10px] !mb-[10px]\">\n              一言\n            </NH3>\n            <NP>\n              <NSpace align=\"center\" class=\"min-h-[3rem]\">\n                {hitokoto.value ? (\n                  <>\n                    <NText class=\"leading-normal\">{hitokoto.value}</NText>\n                    <div class=\"space-x-2 flex items-center\">\n                      <NButton\n                        text\n                        onClick={refreshHitokoto}\n                        class=\"ml-0 phone:float-right\"\n                      >\n                        <Icon>\n                          <Refresh />\n                        </Icon>\n                      </NButton>\n\n                      <NButton\n                        text\n                        onClick={() => {\n                          navigator.clipboard.writeText(hitokoto.value)\n                          message.success('已复制')\n                          message.info(hitokoto.value)\n                        }}\n                      >\n                        <Icon>\n                          <Copy />\n                        </Icon>\n                      </NButton>\n                    </div>\n                  </>\n                ) : (\n                  <NText>加载中...</NText>\n                )}\n              </NSpace>\n            </NP>\n          </NGi>\n          <NGi>\n            <NH3 class=\"text-opacity-80 font-light !mt-[10px] !mb-[10px]\">\n              今日诗句\n            </NH3>\n            <NP>\n              <NPopover trigger={'hover'} placement=\"bottom\">\n                {{\n                  trigger() {\n                    return <NText>{shiju.value || '获取中'}</NText>\n                  },\n                  default() {\n                    const origin = shijuData.value?.origin\n                    if (!origin) {\n                      return null\n                    }\n                    return (\n                      <NCard\n                        class=\"text-center min-w-[350px] max-w-[65vw] max-h-[60vh] overflow-auto\"\n                        bordered={false}\n                      >\n                        <NH3>{origin.title}</NH3>\n                        {origin.content.map((c) => (\n                          <NP key={c}>{c}</NP>\n                        ))}\n                      </NCard>\n                    )\n                  },\n                }}\n              </NPopover>\n            </NP>\n          </NGi>\n        </NGrid>\n        <UserLoginStat />\n        <DataStat />\n      </ContentLayout>\n    )\n  },\n})\n\nconst Statistic = defineComponent({\n  props: { label: String, value: [String, Number] },\n  setup(props) {\n    return () => (\n      <Fragment>\n        {props.value === 'N/A' ? (\n          <NSpace vertical align=\"center\" class=\"min-h-[4rem]\">\n            <NSkeleton style={{ height: '.8rem', width: '5rem' }}></NSkeleton>\n            <NSkeleton style={{ height: '1.8rem', width: '3rem' }}></NSkeleton>\n          </NSpace>\n        ) : (\n          <NStatistic label={props.label} value={props.value}></NStatistic>\n        )}\n      </Fragment>\n    )\n  },\n})\n\nconst Badge = defineComponent({\n  props: { processing: Boolean, value: [String, Number] },\n  setup(props, ctx) {\n    return () => (\n      <Fragment>\n        {props.value === 'N/A' ? (\n          ctx.slots\n        ) : (\n          <NBadge {...props}>{ctx.slots}</NBadge>\n        )}\n      </Fragment>\n    )\n  },\n})\n\ninterface CardProps {\n  label: string\n  value: number | string\n  icon: VNode | (() => VNode)\n  actions?: {\n    name: string\n    onClick: () => void\n    primary?: boolean\n    showBadage?: boolean\n  }[]\n}\n// const cardProps = ['label', 'value', 'icon', 'actions']\nconst Card = defineComponent({\n  props: {\n    label: String,\n    value: [Number, String],\n    icon: Function as PropType<() => JSX.Element>,\n    actions: {\n      type: Array as PropType<\n        {\n          name: string\n          onClick: () => void\n          primary?: boolean\n          showBadge?: { type: Boolean; default: false }\n        }[]\n      >,\n      default: () => [],\n    },\n  },\n  // @ts-expect-error\n  setup(props: CardProps) {\n    return () => (\n      <>\n        <NCard>\n          <NThing>\n            {{\n              header() {\n                return (\n                  <Statistic\n                    label={props.label}\n                    value={props.value}\n                  ></Statistic>\n                )\n              },\n              ['header-extra']() {\n                return (\n                  <Icon class=\"text-4xl opacity-70\">\n                    {typeof props.icon == 'function'\n                      ? props.icon()\n                      : props.icon}\n                  </Icon>\n                )\n              },\n\n              action() {\n                if (!props.actions) {\n                  return null\n                }\n                return (\n                  <NSpace size=\"medium\" align=\"center\">\n                    {props.actions.map((i) => {\n                      const Inner = () =>\n                        i.primary ? (\n                          <NButton round type=\"primary\" onClick={i.onClick}>\n                            {i.name}\n                          </NButton>\n                        ) : (\n                          <NButton text onClick={i.onClick}>\n                            {i.name}\n                          </NButton>\n                        )\n                      return i.showBadage ? (\n                        <Badge value={props.value} processing>\n                          <Inner />\n                        </Badge>\n                      ) : (\n                        <Inner />\n                      )\n                    })}\n                  </NSpace>\n                )\n              },\n            }}\n          </NThing>\n        </NCard>\n      </>\n    )\n  },\n})\n","export interface ShiJuData {\n  id: number\n  content: string\n  origin: {\n    title: string\n    dynasty: string\n    author: string\n    content: string[]\n    matchTags: string[]\n  }\n}\nexport const getJinRiShiCiOne = async () => {\n  const res = await fetch('https://v2.jinrishici.com/one.json')\n  const json = await res.json()\n  return json.data as ShiJuData\n}\n","<template>\n  <button\n    ref=\"parallaxBtn\"\n    class=\"parallax-btn pr\"\n    :data-title=\"title\"\n    :class=\"type\"\n    :style=\"{ color: forecolor }\"\n    @mousemove=\"move\"\n    @mouseup=\"up\"\n    @mousedown=\"down\"\n    @mouseleave=\"leave\"\n  />\n</template>\n\n<script lang=\"ts\">\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { computed, defineComponent, onMounted, PropType, ref } from 'vue'\n\nexport default defineComponent({\n  props: {\n    title: {\n      type: String,\n      default: 'Button',\n    },\n    type: {\n      type: String as PropType<'normal' | 'warning' | 'danger'>,\n      default: 'normal',\n      validator(val: string) {\n        return ['normal', 'warning', 'danger'].includes(val)\n      },\n    },\n    forecolor: {\n      type: String,\n      default: '#fff',\n    },\n  },\n  setup() {\n    const btnStyle = ref<CSSStyleDeclaration>()\n    const parallaxBtn = ref<HTMLAnchorElement>()\n    onMounted(() => {\n      btnStyle.value = parallaxBtn.value?.style\n    })\n\n    const boundingClientRect = computed(() =>\n      parallaxBtn.value?.getBoundingClientRect(),\n    )\n\n    return {\n      parallaxBtn,\n      btnStyle,\n      boundingClientRect,\n      down(e) {\n        btnStyle.value!.setProperty('--tz', '-25px')\n      },\n      leave(e) {\n        btnStyle.value!.setProperty('--ty', '0')\n        btnStyle.value!.setProperty('--rx', '0')\n        btnStyle.value!.setProperty('--ry', '0')\n      },\n      move(e) {\n        const x = e.clientX - boundingClientRect.value!.left\n        const y = e.clientY - boundingClientRect.value!.top\n        const xc = boundingClientRect.value!.width / 2\n        const yc = boundingClientRect.value!.height / 2\n        const dx = x - xc\n        const dy = y - yc\n        btnStyle.value!.setProperty('--rx', `${dy / -1}deg`)\n        btnStyle.value!.setProperty('--ry', `${dx / 10}deg`)\n      },\n      up() {\n        btnStyle.value!.setProperty('--tz', '-12px')\n      },\n    }\n  },\n})\n</script>\n\n<style lang=\"postcss\">\n.parallax-btn {\n  &:not(:last-child) {\n    margin-right: 12px;\n  }\n  position: relative;\n  display: inline-block;\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n  user-select: none;\n  text-align: center;\n  font-size: 15px;\n  font-weight: 400;\n  color: #fff;\n  font-family: system-ui;\n  border-radius: 24px;\n  &::before {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border-radius: 4px;\n    background: linear-gradient(135deg, #6e8efb, #a777e3);\n    box-shadow: 0 2px 5px rgba(#000, 0.2);\n    content: '';\n    will-change: transform;\n    transform: translateY(var(--ty, 0)) rotateX(var(--rx, 0))\n      rotateY(var(--ry, 0)) translateZ(var(--tz, -12px));\n    transition: box-shadow 500ms ease, transform 200ms ease;\n  }\n  &.warning::before {\n    background: linear-gradient(135deg, #e67e22, #f1c40f);\n  }\n  &.danger::before {\n    background: linear-gradient(135deg, #e74c3c, #d35400);\n  }\n  &::after {\n    display: inline-block;\n    position: relative;\n    font-weight: bold;\n    content: attr(data-title);\n    will-change: transform;\n    transform: translateY(var(--ty, 0)) rotateX(var(--rx, 0))\n      rotateY(var(--ry, 0));\n    transition: transform 200ms ease;\n  }\n  &:hover {\n    color: inherit;\n  }\n  &:hover::before {\n    box-shadow: 0 5px 15px rgba(#000, 0.3);\n  }\n}\n</style>\n","<script lang=\"ts\">\nimport { useInjector } from 'hooks/use-deps-injection'\nimport { useMessage } from 'naive-ui'\nimport { defineComponent, onMounted, onUnmounted, ref } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport Avatar from '../../components/avatar/index.vue'\nimport ParallaxButtonVue from '../../components/button/parallax-button.vue'\nimport { UserModel } from '../../models/user'\nimport { UserStore } from '../../stores/user'\n\nimport { RESTManager } from '../../utils/rest'\n\nconst bgUrl =\n  window.injectData.LOGIN_BG ||\n  (import.meta.env.VITE_APP_LOGIN_BG as string) ||\n  'https://gitee.com/xun7788/my-imagination/raw/master/uPic/1615516941397.jpg'\nexport const LoginView = defineComponent({\n  components: { Avatar, ParallaxButtonVue },\n  setup() {\n    const loaded = ref(false)\n    const { user, updateToken } = useInjector(UserStore)\n    const router = useRouter()\n    const input = ref<HTMLInputElement>(null!)\n\n    onBeforeMount(async () => {\n      const isInit =\n        window.injectData.INIT ??\n        (await RESTManager.api.init.get<{ isInit: boolean }>()).isInit\n      if (!isInit) {\n        return router.replace('/setup')\n      }\n    })\n    onMounted(() => {\n      const $$ = new Image()\n      $$.src = bgUrl\n      $$.onload = (e) => {\n        loaded.value = true\n      }\n      input.value.focus()\n\n      document.onkeydown = (e) => {\n        input.value.focus()\n      }\n    })\n\n    onUnmounted(() => {\n      document.onkeydown = null\n    })\n\n    const toast = useMessage()\n\n    const password = ref('')\n    const route = useRoute()\n    const handleLogin = async (e: Event) => {\n      e?.stopPropagation()\n      try {\n        if (!user.value || !user.value.username) {\n          toast.error('主人信息无法获取')\n          return\n        }\n        const res = await RESTManager.api.master.login.post<{\n          token: string & UserModel\n        }>({\n          data: {\n            username: user.value?.username,\n            password: password.value,\n          },\n        })\n        updateToken(res.token)\n\n        router.push(\n          route.query.from\n            ? decodeURI(route.query.from as string)\n            : '/dashboard',\n        )\n        toast.success('欢迎回来')\n      } catch (e) {\n        toast.error('登陆失败')\n      }\n    }\n\n    return {\n      // bgUrl: loaded.value ? bgUrl : '',\n      bgUrl,\n      loaded,\n      user,\n      password,\n      handleLogin,\n      input,\n    }\n  },\n})\n\nexport default LoginView\n</script>\n\n<template>\n  <div>\n    <div\n      class=\"bg transition-opacity duration-700\"\n      :style=\"{ backgroundImage: `url(${bgUrl})`, opacity: loaded ? 1 : 0 }\"\n    />\n\n    <div class=\"wrapper\">\n      <Avatar :src=\"user?.avatar\" :size=\"80\" />\n      <form action=\"#\" @submit.prevent=\"handleLogin\">\n        <div class=\"input-wrap\">\n          <input ref=\"input\" v-model=\"password\" type=\"password\" autofocus />\n        </div>\n        <ParallaxButtonVue\n          title=\"登陆\"\n          class=\"p-button-raised p-button-rounded\"\n          @click.prevent.stop=\"handleLogin\"\n        />\n      </form>\n    </div>\n  </div>\n</template>\n\n<style scoped=\"\">\n@import './index.css';\n</style>\n","/**\n * 路由在此定义\n * @author Innei <https://innei.ren>\n */\nimport Book from '@vicons/fa/es/Book'\nimport ChartLine from '@vicons/fa/es/ChartLine'\nimport Code from '@vicons/fa/es/Code'\nimport Cogs from '@vicons/fa/es/Cogs'\nimport Comment from '@vicons/fa/es/Comment'\nimport Comments from '@vicons/fa/es/Comments'\nimport EllipsisH from '@vicons/fa/es/EllipsisH'\nimport Eye from '@vicons/fa/es/Eye'\nimport File from '@vicons/fa/es/File'\nimport Flask from '@vicons/fa/es/Flask'\nimport Markdown from '@vicons/fa/es/Markdown'\nimport PencilAlt from '@vicons/fa/es/PencilAlt'\nimport PuzzlePiece from '@vicons/fa/es/PuzzlePiece'\nimport TachometerAlt from '@vicons/fa/es/TachometerAlt'\nimport UndoAlt from '@vicons/fa/es/UndoAlt'\nimport UserFriends from '@vicons/fa/es/UserFriends'\nimport Clock from '@vicons/tabler/es/Clock'\nimport Log from '@vicons/tabler/es/News'\nimport { Icon } from '@vicons/utils'\nimport $RouterView from 'layouts/router-view'\nimport { SidebarLayout } from 'layouts/sidebar'\nimport { DashBoardView } from 'views/dashboard'\nimport { RouteRecordRaw } from 'vue-router'\nimport LoginView from '../views/login/index.vue'\nimport { RouteName } from './name'\n\nexport const routeForMenu: Array<RouteRecordRaw> = [\n  {\n    path: '/dashboard',\n    component: DashBoardView,\n    name: RouteName.Dashboard,\n    meta: {\n      title: '仪表盘',\n      icon: (\n        <Icon>\n          <TachometerAlt />\n        </Icon>\n      ),\n    },\n  },\n  {\n    path: '/posts',\n    name: RouteName.Post,\n    meta: {\n      title: '博文',\n      icon: (\n        <Icon>\n          <Code />\n        </Icon>\n      ),\n    },\n    redirect: '/posts/view',\n    component: $RouterView,\n    children: [\n      {\n        path: 'view',\n        name: RouteName.ViewPost,\n        meta: {\n          title: '管理文章',\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n          query: { page: 1 },\n        },\n        component: () =>\n          import('../views/manage-posts/list').then(\n            (m) => m.ManagePostListView,\n          ),\n      },\n\n      {\n        path: 'edit',\n        name: RouteName.EditPost,\n        meta: {\n          title: '撰写文章',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        props: true,\n        component: () => import('../views/manage-posts/write'),\n      },\n\n      {\n        path: 'category',\n        name: RouteName.EditCategory,\n        meta: {\n          title: '分类/标签',\n          icon: (\n            <Icon>\n              <PuzzlePiece />\n            </Icon>\n          ),\n        },\n        component: () =>\n          import('../views/manage-posts/category').then((m) => m.CategoryView),\n      },\n    ],\n  },\n  {\n    path: '/notes',\n    name: RouteName.Note,\n    meta: {\n      title: '记录',\n      icon: (\n        <Icon>\n          <Book />\n        </Icon>\n      ),\n    },\n    redirect: '/notes/view',\n    component: $RouterView,\n    children: [\n      {\n        path: 'view',\n        name: 'view-notes',\n        meta: {\n          title: '管理',\n          query: { page: 1 },\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n        },\n        component: () =>\n          import('../views/manage-notes/list').then(\n            (m) => m.ManageNoteListView,\n          ),\n      },\n      {\n        path: 'edit',\n        name: RouteName.EditNote,\n        meta: {\n          title: '树洞',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-notes/write'),\n      },\n    ],\n  },\n  {\n    path: '/comments',\n    name: RouteName.Comment,\n    meta: {\n      title: '评论',\n      query: { page: 1, state: 0 },\n      icon: (\n        <Icon>\n          <Comment />\n        </Icon>\n      ),\n    },\n    component: () => import('../views/comments/index'),\n  },\n  {\n    path: '/pages',\n    name: RouteName.Page,\n    redirect: '/pages/list',\n    meta: {\n      title: '页面',\n      icon: (\n        <Icon>\n          <File />\n        </Icon>\n      ),\n    },\n    component: $RouterView,\n    children: [\n      {\n        path: 'list',\n        name: RouteName.ListPage,\n        meta: {\n          title: '独立页面',\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n          query: { page: 1 },\n        },\n        component: () =>\n          import('../views/manage-pages/list').then(\n            (m) => m.ManagePageListView,\n          ),\n      },\n      {\n        path: 'edit',\n        name: RouteName.EditPage,\n        meta: {\n          title: '创建页面',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-pages/write'),\n      },\n    ],\n  },\n  {\n    path: '/says',\n    name: RouteName.Say,\n    meta: {\n      title: '说说',\n      icon: (\n        <Icon>\n          <Comments />\n        </Icon>\n      ),\n    },\n    component: $RouterView,\n    children: [\n      {\n        path: 'list',\n        name: RouteName.ListSay,\n        meta: {\n          title: '说什么了',\n          query: { page: 1 },\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-says/list'),\n      },\n      {\n        path: 'edit',\n        name: RouteName.EditSay,\n        meta: {\n          title: '说点什么呢',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-says/edit'),\n      },\n    ],\n  },\n  {\n    path: '/projects',\n    name: RouteName.Project,\n    meta: {\n      title: '项目',\n      icon: (\n        <Icon>\n          <Flask />\n        </Icon>\n      ),\n    },\n    component: $RouterView,\n    children: [\n      {\n        path: 'list',\n        name: RouteName.ListProject,\n        meta: {\n          title: '项目列表',\n          query: { page: 1 },\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-project/list'),\n      },\n      {\n        path: 'edit',\n        name: RouteName.EditProject,\n        meta: {\n          title: '创建项目',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-project/edit'),\n      },\n    ],\n  },\n  {\n    path: '/friends',\n    name: RouteName.Friend,\n    meta: {\n      title: '朋友们',\n      icon: (\n        <Icon>\n          <UserFriends />\n        </Icon>\n      ),\n      query: { state: '0' },\n    },\n    component: () => import('../views/manage-friends'),\n  },\n\n  {\n    path: '/analyze',\n    name: RouteName.Analyze,\n    component: () => import('../views/analzye'),\n    meta: {\n      title: '数据',\n      icon: (\n        <Icon>\n          <ChartLine />\n        </Icon>\n      ),\n      query: { page: 1 },\n    },\n  },\n  {\n    path: '/setting',\n    redirect: '/setting/user',\n    meta: {\n      title: '设定',\n      icon: (\n        <Icon>\n          <Cogs />\n        </Icon>\n      ),\n      params: { type: 'user' },\n    },\n    component: () => null,\n  },\n  {\n    path: '/setting/:type',\n    name: RouteName.Setting,\n    meta: {\n      title: '设定',\n      params: { type: 'user' },\n      hide: true,\n    },\n    component: () => import('../views/setting'),\n  },\n  {\n    path: '/other',\n    name: RouteName.Other,\n    meta: {\n      title: '其他',\n      icon: (\n        <Icon>\n          <EllipsisH />\n        </Icon>\n      ),\n    },\n    component: $RouterView,\n    children: [\n      {\n        path: 'backup',\n        name: RouteName.Backup,\n        meta: {\n          title: '备份',\n          icon: (\n            <Icon>\n              <UndoAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/other/backup'),\n      },\n      {\n        path: 'markdown',\n        name: RouteName.Markdown,\n        meta: {\n          title: 'Markdown 导入导出',\n\n          icon: (\n            <Icon>\n              <Markdown />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/other/markdown-helper'),\n      },\n      {\n        path: 'cron',\n        name: RouteName.Cron,\n        meta: {\n          title: '任务',\n          icon: (\n            <Icon>\n              <Clock />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/other/cron'),\n      },\n      {\n        path: 'log',\n        name: RouteName.Log,\n        meta: {\n          title: '日志',\n          icon: (\n            <Icon>\n              <Log />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/other/log'),\n      },\n    ],\n  },\n]\n\nexport const routes: RouteRecordRaw[] = [\n  {\n    path: '/',\n    component: SidebarLayout,\n    name: RouteName.Home,\n    redirect: '/dashboard',\n    children: [...routeForMenu],\n  },\n\n  {\n    path: '/login',\n    name: RouteName.Login,\n    meta: { isPublic: true, title: '登陆' },\n    component: LoginView,\n  },\n\n  {\n    path: '/setup',\n    name: RouteName.Setup,\n    meta: { isPublic: true, title: '初始化' },\n    component: () => import('../views/setup/index.vue'),\n  },\n  // for dev\n  {\n    path: '/dev',\n    redirect: __DEV__ ? undefined : '/',\n    component: $RouterView,\n    children: __DEV__\n      ? Object.entries(import.meta.glob('../views/dev/**/*.tsx')).map(\n          ([path, comp]) => ({\n            path: path\n              .split('/')\n              .slice(-1)[0]\n              .replace(/\\.[jt]sx$/, ''),\n            component: comp,\n          }),\n        )\n      : [],\n  },\n  // v1 compatibility\n  {\n    path: '/page/:path(.*)*',\n    name: 'page$',\n    redirect: (to) => {\n      return to.fullPath.replace(/^\\/page\\//, '/pages/')\n    },\n  },\n  {\n    path: '/extra/:path(.*)*',\n    name: 'extra',\n    redirect: (to) => {\n      return to.fullPath.replace(/^\\/extra/, '')\n    },\n  },\n  {\n    path: '/:pathMatch(.*)*',\n    name: '404',\n    meta: { isPublic: true },\n    redirect: '/',\n  },\n]\n","import {\n  createRouter,\n  createWebHashHistory,\n  createWebHistory,\n} from 'vue-router'\nimport { routes } from './route'\n\nexport const router = createRouter({\n  history: __DEV__ ? createWebHistory() : createWebHashHistory(),\n  routes,\n})\n","import camelcaseKeys from 'camelcase-keys'\nimport { isPlainObject } from 'lodash-es'\nimport {\n  extend,\n  RequestMethod,\n  RequestOptionsInit,\n  RequestOptionsWithResponse,\n} from 'umi-request'\nimport { router } from '../router/router'\nimport { getToken } from './auth'\n\nclass RESTManagerStatic {\n  private _$$instance: RequestMethod = null!\n  get instance() {\n    return this._$$instance\n  }\n  constructor() {\n    this._$$instance = extend({\n      // @ts-ignore\n      prefix: window.injectData.BASE_API || import.meta.env.VITE_APP_BASE_API,\n      timeout: 10000,\n      errorHandler: async (error) => {\n        const Message = window.message\n        if (error.request && !error.response) {\n          Message.error('网络错误')\n          return\n        }\n\n        if (error.response) {\n          if (process.env.NODE_ENV === 'development') {\n            console.log(error.response)\n            console.dir(error.response)\n          }\n          try {\n            const json = await error.response.json()\n            const message = json.message\n            if (Array.isArray(message)) {\n              message.forEach((m) => {\n                Message.error(m)\n              })\n            } else {\n              Message.error(message)\n            }\n          } catch (e) {\n            // Message.error('出错了, 请查看控制台')\n            console.log(e)\n          }\n\n          if (error?.response?.status === 401) {\n            router.push('/login')\n          }\n          return Promise.reject(error)\n        }\n      },\n    })\n  }\n  request(method: Method, route: string, options: RequestOptionsWithResponse) {\n    return this._$$instance[method](route, options)\n  }\n\n  get api() {\n    return buildRoute(this)\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => {}\nconst methods = ['get', 'post', 'delete', 'patch', 'put']\nconst reflectors = [\n  'toString',\n  'valueOf',\n  'inspect',\n  'constructor',\n  Symbol.toPrimitive,\n  Symbol.for('util.inspect.custom'),\n]\n\nfunction buildRoute(manager: RESTManagerStatic): IRequestHandler {\n  const route = ['']\n  const handler: any = {\n    get(target: any, name: Method) {\n      if (reflectors.includes(name)) return () => route.join('/')\n      if (methods.includes(name)) {\n        return async (options: RequestOptionsWithResponse) => {\n          const res = await manager.request(name, route.join('/'), {\n            ...options,\n          })\n\n          return Array.isArray(res) || isPlainObject(res)\n            ? (() => {\n                const transform = camelcaseKeys(res, { deep: true })\n\n                return {\n                  ...transform,\n                  get data() {\n                    return transform.data ?? transform\n                  },\n                }\n              })()\n            : res\n        }\n      }\n      route.push(name)\n      return new Proxy(noop, handler)\n    },\n    // @ts-ignore\n    apply(target: any, _, args) {\n      route.push(...args.filter((x: string) => x != null)) // eslint-disable-line eqeqeq\n      return new Proxy(noop, handler)\n    },\n  }\n  // @ts-ignore\n  return new Proxy(noop, handler)\n}\n\nexport const RESTManager = new RESTManagerStatic()\n\n// @ts-ignore\nif (__DEV__ && !window.api) {\n  Object.defineProperty(window, 'api', {\n    get() {\n      return RESTManager.api\n    },\n  })\n}\n\nRESTManager.instance.interceptors.request.use((url, options) => {\n  const token = getToken()\n\n  if (token) {\n    // @ts-ignore\n    options.headers.Authorization = 'bearer ' + token\n  }\n  return {\n    url: url + '?t=' + +new Date(),\n    options: {\n      ...options,\n\n      interceptors: true,\n    },\n  }\n}, {})\n\ninterface IRequestHandler<T = RequestOptionsInit> {\n  (id?: string): IRequestHandler\n  // @ts-ignore\n  get<P = unknown>(options?: T): Promise<P>\n  // @ts-ignore\n  post<P = unknown>(options?: T): Promise<P>\n  // @ts-ignore\n  patch<P = unknown>(options?: T): Promise<P>\n  // @ts-ignore\n  delete<P = unknown>(options?: T): Promise<P>\n  // @ts-ignore\n  put<P = unknown>(options?: T): Promise<P>\n  [key: string]: IRequestHandler\n}\nexport type Method = 'get' | 'delete' | 'post' | 'put' | 'patch'\n","import { ref } from 'vue'\nimport { CategoryModel, CategoryResponse } from 'models/category'\nimport { RESTManager } from 'utils/rest'\nimport { computed } from 'vue'\nexport function CategoryStore() {\n  const data = ref<CategoryModel[]>()\n\n  const map = computed(\n    () => new Map(data.value?.map((i) => [i.id, i])) || new Map(),\n  )\n\n  return {\n    data,\n    map,\n    get(id: string) {\n      return map.value.get(id)\n    },\n    async fetch(force?: boolean) {\n      if (!data.value || force) {\n        const response = (await RESTManager.api.categories.get({\n          params: {\n            type: 'Category',\n          },\n        })) as CategoryResponse\n\n        data.value = response.data\n      } else {\n        return data.value\n      }\n    },\n  }\n}\n","import {\n  darkTheme,\n  dateZhCN,\n  NConfigProvider,\n  NDialogProvider,\n  NMessageProvider,\n  NNotificationProvider,\n  useDialog,\n  useMessage,\n  useNotification,\n  zhCN,\n} from 'naive-ui'\nimport { CategoryStore } from 'stores/category'\nimport { defineComponent, onMounted } from 'vue'\nimport { RouterView } from 'vue-router'\nimport {\n  useInjector,\n  useProvider,\n  useProviders,\n} from './hooks/use-deps-injection'\nimport { UIStore } from './stores/ui'\nimport { UserStore } from './stores/user'\n\nconst Root = defineComponent({\n  name: 'Home',\n\n  setup() {\n    const { fetchUser } = useInjector(UserStore)\n    const { isDark } = useInjector(UIStore)\n\n    onMounted(() => {\n      const message = useMessage()\n      const _error = message.error\n      Object.assign(message, {\n        error: (...rest: any[]) => {\n          // @ts-ignore\n          _error.apply(this, rest)\n          throw rest[0]\n        },\n      })\n\n      window.message = message\n      window.notification = useNotification()\n      window.dialog = useDialog()\n\n      import('socket').then((mo) => {\n        mo.socket.initIO()\n      })\n\n      fetchUser()\n    })\n\n    return () => {\n      return <RouterView />\n    }\n  },\n})\n\nconst App = defineComponent({\n  setup() {\n    useProviders(UIStore, UserStore, CategoryStore)\n    const { isDark } = useProvider(UIStore)\n    return () => (\n      <NConfigProvider\n        locale={zhCN}\n        dateLocale={dateZhCN}\n        theme={isDark.value ? darkTheme : null}\n      >\n        <NNotificationProvider>\n          <NMessageProvider>\n            <NDialogProvider>\n              <Root />\n            </NDialogProvider>\n          </NMessageProvider>\n        </NNotificationProvider>\n      </NConfigProvider>\n    )\n  },\n})\n\nexport default App\n","import QProgress from 'qier-progress'\nimport { configs } from '../configs'\nimport { RESTManager } from '../utils/rest'\nimport { router } from './router'\nexport const progress = new QProgress({ colorful: false, color: '#1a9cf3' })\nconst title = configs.title\n\nrouter.beforeEach(async (to) => {\n  progress.start()\n  // guard for setup route\n\n  if (to.path === '/setup') {\n    const isInit =\n      window.injectData.INIT ??\n      (await RESTManager.api.init.get<{ isInit: boolean }>()).isInit\n\n    console.log('[isInit]', isInit)\n    if (isInit) {\n      return '/'\n    }\n  }\n\n  if (to.meta.isPublic || to.fullPath.startsWith('/dev')) {\n    return\n  } else {\n    const { ok } = await RESTManager.api('master')('check_logged').get<{\n      ok: number\n    }>()\n    if (!ok) {\n      return '/login?from=' + encodeURI(to.fullPath)\n    }\n  }\n})\n\nrouter.afterEach((to, _) => {\n  document.title = getPageTitle(to?.meta.title as any)\n  progress.finish()\n})\n\n// HACK editor save\nrouter.afterEach((to) => {\n  if (to.hash == '|publish') {\n    router.replace({ ...to, hash: '' })\n  }\n})\n\nrouter.onError(() => {\n  progress.finish()\n})\n\nfunction getPageTitle(pageTitle?: string | null) {\n  if (pageTitle) {\n    return `${pageTitle} - ${title}`\n  }\n  return `${title}`\n}\n","import 'reflect-metadata'\nimport { bus } from 'utils/event-bus'\nimport { createApp } from 'vue'\nimport App from './App'\nimport './index.css'\nimport { router } from './router'\n\nconst app = createApp(App)\n\napp.use(router)\napp.mount('#app')\n\nif (__DEV__) {\n  window.app = app\n  window.bus = bus\n}\n"],"names":["relList","document","createElement","supports","link","querySelectorAll","MutationObserver","mutations","mutation","type","node","addedNodes","tagName","rel","observe","childList","subtree","ep","fetchOpts","script","integrity","referrerpolicy","referrerPolicy","crossorigin","credentials","getFetchOpts","href","p","seen","__vitePreload","baseModule","deps","length","Promise","all","map","dep","isCss","endsWith","cssSelector","querySelector","as","crossOrigin","head","appendChild","res","rej","addEventListener","then","$RouterView","defineComponent","setup","RouterView","default","Component","Suspense","fallback","class","NSpin","strokeWidth","show","rotate","configs","title","window","injectData","TITLE","TokenKey","Cookies","get","JSON","parse","remove","user","ref","token","$token","getToken","value","router2","useRouter","$user","RESTManager","api","master","e","data","message","replace","updateToken","$token2","expires","set","stringify","buildModel","item2","hasParent","prevPath","path","params","n","test","match","Object","prototype","toString","call","TypeError","paramKey","replaceAll","parsePath","meta","fullPath","name","icon","subItems","buildSubMenus","query","route","Array","isArray","children","filter","hide","func","Symbol","depends","root2","root","inject","Error","props","size","Number","src","String","required","loaded","preloadImage","$$","Image","onload","BASE_URL","WEB_URL","viewport","sidebarWidth","sidebarCollapse","mobile","isDark","useDark","toggleDark","useToggle","resizeHandler","debounce","updateViewport","trailing","onresize","innerHeight","width","documentElement","getBoundingClientRect","hpad","pad","h","Math","abs","w","screen","innerWidth","wider","widest","phone","contentWidth","computed","contentInsetWidth","parseInt","getComputedStyle","fontSize","isDark2","classList","add","Sidebar","collapse","Boolean","onCollapseChange","Function","useInjector","UserStore","currentRoute","menus","getRoutes","find","_index","index2","push","title2","sidebarRef","uiStore","UIStore","event","v","clsx","styles","style","display","onClick","Icon","Hamburger","NLayoutContent","nativeScrollbar","startsWith","key","updateIndex","handleRoute","flexBasis","maxHeight","child","open","Avatar","avatar","SidebarLayout","ui","collapse2","isLaptop","s","embedded","left","pointerEvents","DateFormat","DateFormat2","parseDate","time","format","f","Date","relativeTimeFromNow","current","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","gap","ceil","round","getDayOfYear","date","now","start","getFullYear","diff","getTime","floor","ipLocationCacheMap","Map","IpInfoPopover","ip","triggerEl","trigger","ipInfoText","setIpInfoText","info","countryName","regionName","cityName","join","ispDomain","ownerDomain","range","values","onIpInfoShow","async","show2","has","ipInfo","tools","NPopover","placement","onUpdateShow","innerHTML","SentenceType","SentenceType2","fetchHitokoto","json","fetch","t","ProvideKey","useLayout","addFloatButton","el","removeFloatButton","setHeaderButton","ContentLayout","actionsElement","footerButtonElement","ctx","slots","A$ael","A$fel","footerExtraButtonEl","E","displayName$","findIndex","splice","SettingHeaderEl","actions","displayName","buttons","Sun","Moon","RouteName","RouteName2","DashBoardView","stat","Proxy","statTime","fetchStat","counts","aggregate","refreshHitokoto","postfix","pick","hitokoto","shiju","shijuData","content","useMessage","userStore","UserLoginStat","NH3","lastLoginIp","lastLoginTime","dataStat","label","posts","Code24Filled","primary","EditPost","ViewPost","page","notes","Note24Filled","EditNote","ViewNote","pages","File","ListPage","categories","Extension24Filled","EditCategory","allComments","Comment24Filled","Comment","state","unreadComments","ChatbubblesSharp","showBadage","links","Link24Filled","Friend","linkApply","AddLinkFilled","says","EditSay","ListSay","callTime","Intl","NumberFormat","Activity","Analyze","clean_catch","success","todayIpAccessCount","BubbleChartFilled","online","OnlinePredictionFilled","todayOnlineTotal","Guest16Filled","todayMaxOnline","Games24Regular","DataStat","NSpace","vertical","NButton","text","Refresh","NGrid","xGap","yGap","cols","NGi","Card","NH1","NP","align","NText","clipboard","writeText","Copy","origin","NCard","bordered","c","Statistic","Fragment","NSkeleton","height","NStatistic","Badge","processing","NBadge","NThing","header","action","i","Inner","validator","val","includes","forecolor","btnStyle","parallaxBtn","boundingClientRect","down","setProperty","leave","move","x","clientX","y","clientY","top","dx","dy","up","bgUrl","LOGIN_BG","LoginView","components","ParallaxButtonVue","input","INIT","init","isInit","focus","onkeydown","toast","password","useRoute","handleLogin","stopPropagation","username","error","login","post","from","decodeURI","e2","routeForMenu","component","Dashboard","TachometerAlt","Post","Code","redirect","Eye","m","ManagePostListView","PencilAlt","PuzzlePiece","CategoryView","Note","Book","ManageNoteListView","Page","ManagePageListView","EditPage","Say","Comments","Project","Flask","ListProject","EditProject","UserFriends","ChartLine","Cogs","Setting","Other","EllipsisH","Backup","UndoAlt","Markdown","Cron","Clock","Log","routes","Home","Login","isPublic","Setup","to","router","createRouter","history","createWebHashHistory","noop","methods","reflectors","toPrimitive","for","constructor","_$$instance","extend","prefix","BASE_API","timeout","errorHandler","Message","request","response","forEach","log","status","reject","this","method","options","manager","handler","target","isPlainObject","transform","camelcaseKeys","deep","apply","_","args","buildRoute","id","force","instance","interceptors","use","url","headers","Authorization","Root","fetchUser","_error","assign","rest","notification","useNotification","dialog","useDialog","mo","socket","initIO","App","funcs","stores","useProvider","camelCase","CategoryStore","NConfigProvider","locale","zhCN","dateLocale","dateZhCN","theme","darkTheme","NNotificationProvider","NMessageProvider","NDialogProvider","progress","QProgress","colorful","color","beforeEach","ok","encodeURI","afterEach","pageTitle","getPageTitle","finish","hash","onError","app","createApp","mount"],"mappings":"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"}