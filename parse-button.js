import{d as L,j as H,aT as U,ai as V,r as P,b5 as zt,w as G,h as p,y as yt,b7 as W,N as F,aU as Rt,b8 as St,A as X,I as Z,x as $t,b2 as z,b9 as Ht,ba as mt,F as tt,Q as At,b1 as xt,b4 as Ut,bb as Ot,V as _t,T as Gt,a_ as Wt,s as nt,P as qt,S as Jt,o as Yt,bc as Qt,B as Et}from"./vendor.js";import{H as Kt}from"./rounded-button.js";import{u as Mt}from"./use-react.js";import{_ as et,e as Xt}from"./index.js";import{e as rt,u as Zt,s as q}from"./props.js";const tn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},nn=V("path",{d:"M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z",fill:"currentColor"},null,-1);var re=L({name:"SlidersH",render:function(t,n){return H(),U("svg",tn,[nn])}});const en={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},rn=V("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z",fill:"currentColor"},null,-1);var on=L({name:"FullscreenExitOutlined",render:function(t,n){return H(),U("svg",en,[rn])}});const sn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},an=V("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[V("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065z"}),V("circle",{cx:"12",cy:"12",r:"3"})],-1);var un=L({name:"Settings",render:function(t,n){return H(),U("svg",sn,[an])}});const Ct={editor:"editor-pref",general:"editor-general",vditor:"editor-vditor-pref"};var N;(function(r){r.monaco="monaco",r.codemirror="codemirror",r.vditor="vditor",r.plain="plain"})(N||(N={}));const wt=L({props:{...rt},setup(r){const t=P();let n=zt(r.text);return G(()=>r.text,e=>{!n&&e&&(n=e)}),Zt(r.unSaveConfirm,()=>n===r.text),()=>p("div",null,p(yt,{ref:t,type:"textarea",onInput:e=>void r.onChange(e),value:r.text,class:"h-full"}))}}),k={[N.monaco]:null,[N.vditor]:null,[N.plain]:null,[N.codemirror]:null},J=r=>{if(k[r])return k[r];switch(r){case"monaco":{const t=W({loader:()=>et(()=>import("./monaco.js"),["monaco.js","index.js","assets/index.11ac3144.css","vendor.js","index6.js","props.js","assets/props.0fdc2ef0.css"]).then(n=>n.MonacoEditor),loadingComponent:p(F,{strokeWidth:14,show:!0,rotate:!0}),suspensible:!0});return k[r]=t,t}case"vditor":{const t=W({loader:()=>et(()=>import("./vditor.js"),["vditor.js","assets/vditor.24bd0a9c.css","index.js","assets/index.11ac3144.css","vendor.js","props.js","assets/props.0fdc2ef0.css"]).then(n=>n.VditorEditor),loadingComponent:p(F,{strokeWidth:14,show:!0,rotate:!0}),suspensible:!0});return k[r]=t,t}case"plain":return k[r]=wt,wt;case"codemirror":{const t=W({loader:()=>et(()=>import("./codemirror.js").then(function(n){return n.x}),["codemirror.js","assets/codemirror.8936d5cc.css","vendor.js","props.js","assets/props.0fdc2ef0.css","index.js","assets/index.11ac3144.css"]).then(n=>n.CodemirrorEditor),loadingComponent:p(F,{strokeWidth:14,show:!0,rotate:!0}),suspensible:!0});return k[r]=t,t}default:return null}};var g;(function(r){r[r.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",r[r.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",r[r.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(g||(g={}));var cn=function(){function r(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return r.prototype.addTypeMetadata=function(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)},r.prototype.addTransformMetadata=function(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)},r.prototype.addExposeMetadata=function(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)},r.prototype.addExcludeMetadata=function(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)},r.prototype.findTransformMetadatas=function(t,n,e){return this.findMetadatas(this._transformMetadatas,t,n).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?e===g.CLASS_TO_CLASS||e===g.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?e===g.CLASS_TO_PLAIN:!0})},r.prototype.findExcludeMetadata=function(t,n){return this.findMetadata(this._excludeMetadatas,t,n)},r.prototype.findExposeMetadata=function(t,n){return this.findMetadata(this._exposeMetadatas,t,n)},r.prototype.findExposeMetadataByCustomName=function(t,n){return this.getExposedMetadatas(t).find(function(e){return e.options&&e.options.name===n})},r.prototype.findTypeMetadata=function(t,n){return this.findMetadata(this._typeMetadatas,t,n)},r.prototype.getStrategy=function(t){var n=this._excludeMetadatas.get(t),e=n&&n.get(void 0),i=this._exposeMetadatas.get(t),o=i&&i.get(void 0);return e&&o||!e&&!o?"none":e?"excludeAll":"exposeAll"},r.prototype.getExposedMetadatas=function(t){return this.getMetadata(this._exposeMetadatas,t)},r.prototype.getExcludedMetadatas=function(t){return this.getMetadata(this._excludeMetadatas,t)},r.prototype.getExposedProperties=function(t,n){return this.getExposedMetadatas(t).filter(function(e){return!e.options||e.options.toClassOnly===!0&&e.options.toPlainOnly===!0?!0:e.options.toClassOnly===!0?n===g.CLASS_TO_CLASS||n===g.PLAIN_TO_CLASS:e.options.toPlainOnly===!0?n===g.CLASS_TO_PLAIN:!0}).map(function(e){return e.propertyName})},r.prototype.getExcludedProperties=function(t,n){return this.getExcludedMetadatas(t).filter(function(e){return!e.options||e.options.toClassOnly===!0&&e.options.toPlainOnly===!0?!0:e.options.toClassOnly===!0?n===g.CLASS_TO_CLASS||n===g.PLAIN_TO_CLASS:e.options.toPlainOnly===!0?n===g.CLASS_TO_PLAIN:!0}).map(function(e){return e.propertyName})},r.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},r.prototype.getMetadata=function(t,n){var e=t.get(n),i;e&&(i=Array.from(e.values()).filter(function(l){return l.propertyName!==void 0}));for(var o=[],s=0,a=this.getAncestors(n);s<a.length;s++){var f=a[s],u=t.get(f);if(u){var d=Array.from(u.values()).filter(function(l){return l.propertyName!==void 0});o.push.apply(o,d)}}return o.concat(i||[])},r.prototype.findMetadata=function(t,n,e){var i=t.get(n);if(i){var o=i.get(e);if(o)return o}for(var s=0,a=this.getAncestors(n);s<a.length;s++){var f=a[s],u=t.get(f);if(u){var d=u.get(e);if(d)return d}}},r.prototype.findMetadatas=function(t,n,e){var i=t.get(n),o;i&&(o=i.get(e));for(var s=[],a=0,f=this.getAncestors(n);a<f.length;a++){var u=f[a],d=t.get(u);d&&d.has(e)&&s.push.apply(s,d.get(e))}return s.slice().reverse().concat((o||[]).slice().reverse())},r.prototype.getAncestors=function(t){if(!t)return[];if(!this._ancestorsMap.has(t)){for(var n=[],e=Object.getPrototypeOf(t.prototype.constructor);typeof e.prototype!="undefined";e=Object.getPrototypeOf(e.prototype.constructor))n.push(e);this._ancestorsMap.set(t,n)}return this._ancestorsMap.get(t)},r}(),w=new cn;function fn(){if(typeof globalThis!="undefined")return globalThis;if(typeof global!="undefined")return global;if(typeof window!="undefined")return window;if(typeof self!="undefined")return self}function ln(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var bt=globalThis&&globalThis.__spreadArray||function(r,t,n){if(n||arguments.length===2)for(var e=0,i=t.length,o;e<i;e++)(o||!(e in t))&&(o||(o=Array.prototype.slice.call(t,0,e)),o[e]=t[e]);return r.concat(o||Array.prototype.slice.call(t))};function pn(r){var t=new r;return!(t instanceof Set)&&!("push"in t)?[]:t}var D=function(){function r(t,n){this.transformationType=t,this.options=n,this.recursionStack=new Set}return r.prototype.transform=function(t,n,e,i,o,s){var a=this;if(s===void 0&&(s=0),Array.isArray(n)||n instanceof Set){var f=i&&this.transformationType===g.PLAIN_TO_CLASS?pn(i):[];return n.forEach(function(h,C){var _=t?t[C]:void 0;if(!a.options.enableCircularCheck||!a.isCircular(h)){var x=void 0;if(typeof e!="function"&&e&&e.options&&e.options.discriminator&&e.options.discriminator.property&&e.options.discriminator.subTypes){if(a.transformationType===g.PLAIN_TO_CLASS){x=e.options.discriminator.subTypes.find(function(M){return M.name===h[e.options.discriminator.property]});var T={newObject:f,object:h,property:void 0},v=e.typeFunction(T);x===void 0?x=v:x=x.value,e.options.keepDiscriminatorProperty||delete h[e.options.discriminator.property]}a.transformationType===g.CLASS_TO_CLASS&&(x=h.constructor),a.transformationType===g.CLASS_TO_PLAIN&&(h[e.options.discriminator.property]=e.options.discriminator.subTypes.find(function(M){return M.value===h.constructor}).name)}else x=e;var m=a.transform(_,h,x,void 0,h instanceof Map,s+1);f instanceof Set?f.add(m):f.push(m)}else a.transformationType===g.CLASS_TO_CLASS&&(f instanceof Set?f.add(h):f.push(h))}),f}else{if(e===String&&!o)return n==null?n:String(n);if(e===Number&&!o)return n==null?n:Number(n);if(e===Boolean&&!o)return n==null?n:Boolean(n);if((e===Date||n instanceof Date)&&!o)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(!!fn().Buffer&&(e===Buffer||n instanceof Buffer)&&!o)return n==null?n:Buffer.from(n);if(ln(n)&&!o)return new Promise(function(h,C){n.then(function(_){return h(a.transform(void 0,_,e,void 0,void 0,s+1))},C)});if(!o&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!e&&n.constructor!==Object&&(!Array.isArray(n)&&n.constructor===Array||(e=n.constructor)),!e&&t&&(e=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);var u=this.getKeys(e,n,o),d=t||{};!t&&(this.transformationType===g.PLAIN_TO_CLASS||this.transformationType===g.CLASS_TO_CLASS)&&(o?d=new Map:e?d=new e:d={});for(var l=function(h){if(h==="__proto__"||h==="constructor")return"continue";var C=h,_=h,x=h;if(!c.options.ignoreDecorators&&e){if(c.transformationType===g.PLAIN_TO_CLASS){var T=w.findExposeMetadataByCustomName(e,h);T&&(x=T.propertyName,_=T.propertyName)}else if(c.transformationType===g.CLASS_TO_PLAIN||c.transformationType===g.CLASS_TO_CLASS){var T=w.findExposeMetadata(e,h);T&&T.options&&T.options.name&&(_=T.options.name)}}var v=void 0;c.transformationType===g.PLAIN_TO_CLASS?v=n[C]:n instanceof Map?v=n.get(C):n[C]instanceof Function?v=n[C]():v=n[C];var m=void 0,M=v instanceof Map;if(e&&o)m=e;else if(e){var S=w.findTypeMetadata(e,x);if(S){var K={newObject:d,object:n,property:x},R=S.typeFunction?S.typeFunction(K):S.reflectedType;S.options&&S.options.discriminator&&S.options.discriminator.property&&S.options.discriminator.subTypes?n[C]instanceof Array?m=S:(c.transformationType===g.PLAIN_TO_CLASS&&(m=S.options.discriminator.subTypes.find(function(B){if(v&&v instanceof Object&&S.options.discriminator.property in v)return B.name===v[S.options.discriminator.property]}),m===void 0?m=R:m=m.value,S.options.keepDiscriminatorProperty||v&&v instanceof Object&&S.options.discriminator.property in v&&delete v[S.options.discriminator.property]),c.transformationType===g.CLASS_TO_CLASS&&(m=v.constructor),c.transformationType===g.CLASS_TO_PLAIN&&v&&(v[S.options.discriminator.property]=S.options.discriminator.subTypes.find(function(B){return B.value===v.constructor}).name)):m=R,M=M||S.reflectedType===Map}else if(c.options.targetMaps)c.options.targetMaps.filter(function(B){return B.target===e&&!!B.properties[x]}).forEach(function(B){return m=B.properties[x]});else if(c.options.enableImplicitConversion&&c.transformationType===g.PLAIN_TO_CLASS){var dt=Reflect.getMetadata("design:type",e.prototype,x);dt&&(m=dt)}}var ht=Array.isArray(n[C])?c.getReflectedType(e,x):void 0,vt=t?t[C]:void 0;if(d.constructor.prototype){var gt=Object.getOwnPropertyDescriptor(d.constructor.prototype,_);if((c.transformationType===g.PLAIN_TO_CLASS||c.transformationType===g.CLASS_TO_CLASS)&&(gt&&!gt.set||d[_]instanceof Function))return"continue"}if(!c.options.enableCircularCheck||!c.isCircular(v)){var $=c.transformationType===g.PLAIN_TO_CLASS?_:h,A=void 0;c.transformationType===g.CLASS_TO_PLAIN?(A=n[$],A=c.applyCustomTransformations(A,e,$,n,c.transformationType),A=n[$]===A?v:A,A=c.transform(vt,A,m,ht,M,s+1)):v===void 0&&c.options.exposeDefaultValues?A=d[_]:(A=c.transform(vt,v,m,ht,M,s+1),A=c.applyCustomTransformations(A,e,$,n,c.transformationType)),(A!==void 0||c.options.exposeUnsetFields)&&(d instanceof Map?d.set(_,A):d[_]=A)}else if(c.transformationType===g.CLASS_TO_CLASS){var A=v;A=c.applyCustomTransformations(A,e,h,n,c.transformationType),(A!==void 0||c.options.exposeUnsetFields)&&(d instanceof Map?d.set(_,A):d[_]=A)}},c=this,E=0,y=u;E<y.length;E++){var O=y[E];l(O)}return this.options.enableCircularCheck&&this.recursionStack.delete(n),d}else return n}},r.prototype.applyCustomTransformations=function(t,n,e,i,o){var s=this,a=w.findTransformMetadatas(n,e,this.transformationType);return this.options.version!==void 0&&(a=a.filter(function(f){return f.options?s.checkVersion(f.options.since,f.options.until):!0})),this.options.groups&&this.options.groups.length?a=a.filter(function(f){return f.options?s.checkGroups(f.options.groups):!0}):a=a.filter(function(f){return!f.options||!f.options.groups||!f.options.groups.length}),a.forEach(function(f){t=f.transformFn({value:t,key:e,obj:i,type:o,options:s.options})}),t},r.prototype.isCircular=function(t){return this.recursionStack.has(t)},r.prototype.getReflectedType=function(t,n){if(!!t){var e=w.findTypeMetadata(t,n);return e?e.reflectedType:void 0}},r.prototype.getKeys=function(t,n,e){var i=this,o=w.getStrategy(t);o==="none"&&(o=this.options.strategy||"exposeAll");var s=[];if((o==="exposeAll"||e)&&(n instanceof Map?s=Array.from(n.keys()):s=Object.keys(n)),e)return s;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&t){var a=w.getExposedProperties(t,this.transformationType),f=w.getExcludedProperties(t,this.transformationType);s=bt(bt([],a,!0),f,!0)}if(!this.options.ignoreDecorators&&t){var a=w.getExposedProperties(t,this.transformationType);this.transformationType===g.PLAIN_TO_CLASS&&(a=a.map(function(l){var c=w.findExposeMetadata(t,l);return c&&c.options&&c.options.name?c.options.name:l})),this.options.excludeExtraneousValues?s=a:s=s.concat(a);var u=w.getExcludedProperties(t,this.transformationType);u.length>0&&(s=s.filter(function(l){return!u.includes(l)})),this.options.version!==void 0&&(s=s.filter(function(l){var c=w.findExposeMetadata(t,l);return!c||!c.options?!0:i.checkVersion(c.options.since,c.options.until)})),this.options.groups&&this.options.groups.length?s=s.filter(function(l){var c=w.findExposeMetadata(t,l);return!c||!c.options?!0:i.checkGroups(c.options.groups)}):s=s.filter(function(l){var c=w.findExposeMetadata(t,l);return!c||!c.options||!c.options.groups||!c.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(s=s.filter(function(d){return i.options.excludePrefixes.every(function(l){return d.substr(0,l.length)!==l})})),s=s.filter(function(d,l,c){return c.indexOf(d)===l}),s},r.prototype.checkVersion=function(t,n){var e=!0;return e&&t&&(e=this.options.version>=t),e&&n&&(e=this.options.version<n),e},r.prototype.checkGroups=function(t){return t?this.options.groups.some(function(n){return t.includes(n)}):!0},r}(),j={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},b=globalThis&&globalThis.__assign||function(){return b=Object.assign||function(r){for(var t,n=1,e=arguments.length;n<e;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},b.apply(this,arguments)},dn=function(){function r(){}return r.prototype.instanceToPlain=function(t,n){var e=new D(g.CLASS_TO_PLAIN,b(b({},j),n));return e.transform(void 0,t,void 0,void 0,void 0,void 0)},r.prototype.classToPlainFromExist=function(t,n,e){var i=new D(g.CLASS_TO_PLAIN,b(b({},j),e));return i.transform(n,t,void 0,void 0,void 0,void 0)},r.prototype.plainToInstance=function(t,n,e){var i=new D(g.PLAIN_TO_CLASS,b(b({},j),e));return i.transform(void 0,n,t,void 0,void 0,void 0)},r.prototype.plainToClassFromExist=function(t,n,e){var i=new D(g.PLAIN_TO_CLASS,b(b({},j),e));return i.transform(t,n,void 0,void 0,void 0,void 0)},r.prototype.instanceToInstance=function(t,n){var e=new D(g.CLASS_TO_CLASS,b(b({},j),n));return e.transform(void 0,t,void 0,void 0,void 0,void 0)},r.prototype.classToClassFromExist=function(t,n,e){var i=new D(g.CLASS_TO_CLASS,b(b({},j),e));return i.transform(n,t,void 0,void 0,void 0,void 0)},r.prototype.serialize=function(t,n){return JSON.stringify(this.instanceToPlain(t,n))},r.prototype.deserialize=function(t,n,e){var i=JSON.parse(n);return this.plainToInstance(t,i,e)},r.prototype.deserializeArray=function(t,n,e){var i=JSON.parse(n);return this.plainToInstance(t,i,e)},r}(),Tt=new dn;function It(r,t){return Tt.instanceToPlain(r,t)}function hn(r,t,n){return Tt.plainToInstance(r,t,n)}var Lt=function(){function r(t){this.groups=[],this.each=!1,this.context=void 0,this.type=t.type,this.target=t.target,this.propertyName=t.propertyName,this.constraints=t.constraints,this.constraintCls=t.constraintCls,this.validationTypeOptions=t.validationTypeOptions,t.validationOptions&&(this.message=t.validationOptions.message,this.groups=t.validationOptions.groups,this.always=t.validationOptions.always,this.each=t.validationOptions.each,this.context=t.validationOptions.context)}return r}(),vn=function(){function r(){}return r.prototype.transform=function(t){var n=[];return Object.keys(t.properties).forEach(function(e){t.properties[e].forEach(function(i){var o={message:i.message,groups:i.groups,always:i.always,each:i.each},s={type:i.type,target:t.name,propertyName:e,constraints:i.constraints,validationTypeOptions:i.options,validationOptions:o};n.push(new Lt(s))})}),n},r}();function gn(r){return r instanceof Map?Array.from(r.values()):Array.isArray(r)?r:Array.from(r)}function yn(){if(typeof globalThis!="undefined")return globalThis;if(typeof global!="undefined")return global;if(typeof window!="undefined")return window;if(typeof self!="undefined")return self}function it(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var Nt=function(){function r(){this.validationMetadatas=[],this.constraintMetadatas=[]}return Object.defineProperty(r.prototype,"hasValidationMetaData",{get:function(){return!!this.validationMetadatas.length},enumerable:!1,configurable:!0}),r.prototype.addValidationSchema=function(t){var n=this,e=new vn().transform(t);e.forEach(function(i){return n.addValidationMetadata(i)})},r.prototype.addValidationMetadata=function(t){this.validationMetadatas.push(t)},r.prototype.addConstraintMetadata=function(t){this.constraintMetadatas.push(t)},r.prototype.groupByPropertyName=function(t){var n={};return t.forEach(function(e){n[e.propertyName]||(n[e.propertyName]=[]),n[e.propertyName].push(e)}),n},r.prototype.getTargetValidationMetadatas=function(t,n,e,i,o){var s=function(l){return typeof l.always!="undefined"?l.always:l.groups&&l.groups.length?!1:e},a=function(l){return!!(i&&(!o||!o.length)&&l.groups&&l.groups.length)},f=this.validationMetadatas.filter(function(l){return l.target!==t&&l.target!==n?!1:s(l)?!0:a(l)?!1:o&&o.length>0?l.groups&&!!l.groups.find(function(c){return o.indexOf(c)!==-1}):!0}),u=this.validationMetadatas.filter(function(l){return typeof l.target=="string"||l.target===t||l.target instanceof Function&&!(t.prototype instanceof l.target)?!1:s(l)?!0:a(l)?!1:o&&o.length>0?l.groups&&!!l.groups.find(function(c){return o.indexOf(c)!==-1}):!0}),d=u.filter(function(l){return!f.find(function(c){return c.propertyName===l.propertyName&&c.type===l.type})});return f.concat(d)},r.prototype.getTargetValidatorConstraints=function(t){return this.constraintMetadatas.filter(function(n){return n.target===t})},r}();function ot(){var r=yn();return r.classValidatorMetadataStorage||(r.classValidatorMetadataStorage=new Nt),r.classValidatorMetadataStorage}var st=function(){function r(){}return r.prototype.toString=function(t,n,e){var i=this;t===void 0&&(t=!1),n===void 0&&(n=!1),e===void 0&&(e="");var o=t?"[1m":"",s=t?"[22m":"",a=function(u){return" - property ".concat(o).concat(e).concat(u).concat(s," has failed the following constraints: ").concat(o).concat(Object.keys(i.constraints).join(", ")).concat(s,` 
`)};if(n){var f=Number.isInteger(+this.property)?"[".concat(this.property,"]"):"".concat(e?".":"").concat(this.property);return this.constraints?a(f):this.children?this.children.map(function(u){return u.toString(t,!0,"".concat(e).concat(f))}).join(""):""}else return"An instance of ".concat(o).concat(this.target?this.target.constructor.name:"an object").concat(s,` has failed the validation:
`)+(this.constraints?a(this.property):"")+(this.children?this.children.map(function(u){return u.toString(t,!0,i.property)}).join(""):"")},r}(),I=function(){function r(){}return r.isValid=function(t){var n=this;return t!=="isValid"&&t!=="getMessage"&&Object.keys(this).map(function(e){return n[e]}).indexOf(t)!==-1},r.CUSTOM_VALIDATION="customValidation",r.NESTED_VALIDATION="nestedValidation",r.PROMISE_VALIDATION="promiseValidation",r.CONDITIONAL_VALIDATION="conditionalValidation",r.WHITELIST="whitelistValidation",r.IS_DEFINED="isDefined",r}();function Sn(r){return Array.isArray(r)?r.join(", "):"".concat(r)}var mn=function(){function r(){}return r.replaceMessageSpecialTokens=function(t,n){var e;return t instanceof Function?e=t(n):typeof t=="string"&&(e=t),e&&Array.isArray(n.constraints)&&n.constraints.forEach(function(i,o){e=e.replace(new RegExp("\\$constraint".concat(o+1),"g"),Sn(i))}),e&&n.value!==void 0&&n.value!==null&&typeof n.value=="string"&&(e=e.replace(/\$value/g,n.value)),e&&(e=e.replace(/\$property/g,n.property)),e&&(e=e.replace(/\$target/g,n.targetName)),e},r}(),Pt=function(){function r(t,n){this.validator=t,this.validatorOptions=n,this.awaitingPromises=[],this.ignoreAsyncValidations=!1,this.metadataStorage=ot()}return r.prototype.execute=function(t,n,e){var i=this,o;!this.metadataStorage.hasValidationMetaData&&((o=this.validatorOptions)===null||o===void 0?void 0:o.enableDebugMessages)===!0&&console.warn("No metadata found. There is more than once class-validator version installed probably. You need to flatten your dependencies.");var s=this.validatorOptions?this.validatorOptions.groups:void 0,a=this.validatorOptions&&this.validatorOptions.strictGroups||!1,f=this.validatorOptions&&this.validatorOptions.always||!1,u=this.metadataStorage.getTargetValidationMetadatas(t.constructor,n,f,a,s),d=this.metadataStorage.groupByPropertyName(u);if(this.validatorOptions&&this.validatorOptions.forbidUnknownValues&&!u.length){var l=new st;(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.target===void 0||this.validatorOptions.validationError.target===!0)&&(l.target=t),l.value=void 0,l.property=void 0,l.children=[],l.constraints={unknownValue:"an unknown value was passed to the validate function"},e.push(l);return}this.validatorOptions&&this.validatorOptions.whitelist&&this.whitelist(t,d,e),Object.keys(d).forEach(function(c){var E=t[c],y=d[c].filter(function(h){return h.type===I.IS_DEFINED}),O=d[c].filter(function(h){return h.type!==I.IS_DEFINED&&h.type!==I.WHITELIST});E instanceof Promise&&O.find(function(h){return h.type===I.PROMISE_VALIDATION})?i.awaitingPromises.push(E.then(function(h){i.performValidations(t,h,c,y,O,e)})):i.performValidations(t,E,c,y,O,e)})},r.prototype.whitelist=function(t,n,e){var i=this,o=[];Object.keys(t).forEach(function(s){(!n[s]||n[s].length===0)&&o.push(s)}),o.length>0&&(this.validatorOptions&&this.validatorOptions.forbidNonWhitelisted?o.forEach(function(s){var a,f=i.generateValidationError(t,t[s],s);f.constraints=(a={},a[I.WHITELIST]="property ".concat(s," should not exist"),a),f.children=void 0,e.push(f)}):o.forEach(function(s){return delete t[s]}))},r.prototype.stripEmptyErrors=function(t){var n=this;return t.filter(function(e){if(e.children&&(e.children=n.stripEmptyErrors(e.children)),Object.keys(e.constraints).length===0){if(e.children.length===0)return!1;delete e.constraints}return!0})},r.prototype.performValidations=function(t,n,e,i,o,s){var a=o.filter(function(c){return c.type===I.CUSTOM_VALIDATION}),f=o.filter(function(c){return c.type===I.NESTED_VALIDATION}),u=o.filter(function(c){return c.type===I.CONDITIONAL_VALIDATION}),d=this.generateValidationError(t,n,e);s.push(d);var l=this.conditionalValidations(t,n,u);!l||(this.customValidations(t,n,i,d),this.mapContexts(t,n,i,d),!(n===void 0&&this.validatorOptions&&this.validatorOptions.skipUndefinedProperties===!0)&&(n===null&&this.validatorOptions&&this.validatorOptions.skipNullProperties===!0||n==null&&this.validatorOptions&&this.validatorOptions.skipMissingProperties===!0||(this.customValidations(t,n,a,d),this.nestedValidations(n,f,d.children),this.mapContexts(t,n,o,d),this.mapContexts(t,n,a,d))))},r.prototype.generateValidationError=function(t,n,e){var i=new st;return(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.target===void 0||this.validatorOptions.validationError.target===!0)&&(i.target=t),(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.value===void 0||this.validatorOptions.validationError.value===!0)&&(i.value=n),i.property=e,i.children=[],i.constraints={},i},r.prototype.conditionalValidations=function(t,n,e){return e.map(function(i){return i.constraints[0](t,n)}).reduce(function(i,o){return i&&o},!0)},r.prototype.customValidations=function(t,n,e,i){var o=this;e.forEach(function(s){o.metadataStorage.getTargetValidatorConstraints(s.constraintCls).forEach(function(a){if(!(a.async&&o.ignoreAsyncValidations)&&!(o.validatorOptions&&o.validatorOptions.stopAtFirstError&&Object.keys(i.constraints||{}).length>0)){var f={targetName:t.constructor?t.constructor.name:void 0,property:s.propertyName,object:t,value:n,constraints:s.constraints};if(!s.each||!(Array.isArray(n)||n instanceof Set||n instanceof Map)){var u=a.instance.validate(n,f);if(it(u)){var d=u.then(function(v){if(!v){var m=o.createValidationError(t,n,s,a),M=m[0],S=m[1];i.constraints[M]=S,s.context&&(i.contexts||(i.contexts={}),i.contexts[M]=Object.assign(i.contexts[M]||{},s.context))}});o.awaitingPromises.push(d)}else if(!u){var l=o.createValidationError(t,n,s,a),c=l[0],E=l[1];i.constraints[c]=E}return}var y=gn(n),O=y.map(function(v){return a.instance.validate(v,f)}),h=O.some(function(v){return it(v)});if(h){var C=O.map(function(v){return it(v)?v:Promise.resolve(v)}),_=Promise.all(C).then(function(v){var m=v.every(function(R){return R});if(!m){var M=o.createValidationError(t,n,s,a),S=M[0],K=M[1];i.constraints[S]=K,s.context&&(i.contexts||(i.contexts={}),i.contexts[S]=Object.assign(i.contexts[S]||{},s.context))}});o.awaitingPromises.push(_);return}var x=O.every(function(v){return v});if(!x){var T=o.createValidationError(t,n,s,a),c=T[0],E=T[1];i.constraints[c]=E}}})})},r.prototype.nestedValidations=function(t,n,e){var i=this;t!==void 0&&n.forEach(function(o){var s;if(!(o.type!==I.NESTED_VALIDATION&&o.type!==I.PROMISE_VALIDATION))if(Array.isArray(t)||t instanceof Set||t instanceof Map){var a=t instanceof Set?Array.from(t):t;a.forEach(function(E,y){i.performValidations(t,E,y.toString(),[],n,e)})}else if(t instanceof Object){var f=typeof o.target=="string"?o.target:o.target.name;i.execute(t,f,e)}else{var u=new st;u.value=t,u.property=o.propertyName,u.target=o.target;var d=i.createValidationError(o.target,t,o),l=d[0],c=d[1];u.constraints=(s={},s[l]=c,s),e.push(u)}})},r.prototype.mapContexts=function(t,n,e,i){var o=this;return e.forEach(function(s){if(s.context){var a=void 0;if(s.type===I.CUSTOM_VALIDATION){var f=o.metadataStorage.getTargetValidatorConstraints(s.constraintCls);a=f[0]}var u=o.getConstraintType(s,a);i.constraints[u]&&(i.contexts||(i.contexts={}),i.contexts[u]=Object.assign(i.contexts[u]||{},s.context))}})},r.prototype.createValidationError=function(t,n,e,i){var o=t.constructor?t.constructor.name:void 0,s=this.getConstraintType(e,i),a={targetName:o,property:e.propertyName,object:t,value:n,constraints:e.constraints},f=e.message||"";!e.message&&(!this.validatorOptions||this.validatorOptions&&!this.validatorOptions.dismissDefaultMessages)&&i&&i.instance.defaultMessage instanceof Function&&(f=i.instance.defaultMessage(a));var u=mn.replaceMessageSpecialTokens(f,a);return[s,u]},r.prototype.getConstraintType=function(t,n){var e=n&&n.name?n.name:t.type;return e},r}(),An=globalThis&&globalThis.__awaiter||function(r,t,n,e){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(e.next(d))}catch(l){s(l)}}function f(d){try{u(e.throw(d))}catch(l){s(l)}}function u(d){d.done?o(d.value):i(d.value).then(a,f)}u((e=e.apply(r,t||[])).next())})},xn=globalThis&&globalThis.__generator||function(r,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return f([u,d])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;n;)try{if(e=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(r,n)}catch(d){u=[6,d],i=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Bt=function(){function r(){}return r.prototype.validate=function(t,n,e){return this.coreValidate(t,n,e)},r.prototype.validateOrReject=function(t,n,e){return An(this,void 0,void 0,function(){var i;return xn(this,function(o){switch(o.label){case 0:return[4,this.coreValidate(t,n,e)];case 1:return i=o.sent(),i.length?[2,Promise.reject(i)]:[2]}})})},r.prototype.validateSync=function(t,n,e){var i=typeof t=="string"?n:t,o=typeof t=="string"?e:n,s=typeof t=="string"?t:void 0,a=new Pt(this,o);a.ignoreAsyncValidations=!0;var f=[];return a.execute(i,s,f),a.stripEmptyErrors(f)},r.prototype.coreValidate=function(t,n,e){var i=typeof t=="string"?n:t,o=typeof t=="string"?e:n,s=typeof t=="string"?t:void 0,a=new Pt(this,o),f=[];return a.execute(i,s,f),Promise.all(a.awaitingPromises).then(function(){return a.stripEmptyErrors(f)})},r}(),On=new(function(){function r(){this.instances=[]}return r.prototype.get=function(t){var n=this.instances.find(function(e){return e.type===t});return n||(n={type:t,object:new t},this.instances.push(n)),n.object},r}());function Y(r){return On.get(r)}var _n=function(){function r(t,n,e){e===void 0&&(e=!1),this.target=t,this.name=n,this.async=e}return Object.defineProperty(r.prototype,"instance",{get:function(){return Y(this.target)},enumerable:!1,configurable:!0}),r}();function En(r){var t;if(r.validator instanceof Function){t=r.validator;var n=Y(Nt).getTargetValidatorConstraints(r.validator);if(n.length>1)throw"More than one implementation of ValidatorConstraintInterface found for validator on: ".concat(r.target.name,":").concat(r.propertyName)}else{var e=r.validator;t=function(){function o(){}return o.prototype.validate=function(s,a){return e.validate(s,a)},o.prototype.defaultMessage=function(s){return e.defaultMessage?e.defaultMessage(s):""},o}(),ot().addConstraintMetadata(new _n(t,r.name,r.async))}var i={type:r.name&&I.isValid(r.name)?r.name:I.CUSTOM_VALIDATION,target:r.target,propertyName:r.propertyName,validationOptions:r.options,constraintCls:t,constraints:r.constraints};ot().addValidationMetadata(new Lt(i))}function at(r,t){return function(n){var e=t&&t.each?"each value in ":"";return r(e,n)}}function ut(r,t){return function(n,e){En({name:r.name,target:n.constructor,propertyName:e,options:t,constraints:r.constraints,validator:r.validator})}}var Mn="isBoolean";function Cn(r){return r instanceof Boolean||typeof r=="boolean"}function wn(r){return ut({name:Mn,validator:{validate:function(t,n){return Cn(t)},defaultMessage:at(function(t){return t+"$property must be a boolean value"},r)}},r)}var bn="isInt";function Tn(r){return typeof r=="number"&&Number.isInteger(r)}function In(r){return ut({name:bn,validator:{validate:function(t,n){return Tn(t)},defaultMessage:at(function(t){return t+"$property must be an integer number"},r)}},r)}var Ln="isString";function Nn(r){return r instanceof String||typeof r=="string"}function Pn(r){return ut({name:Ln,validator:{validate:function(t,n){return Nn(t)},defaultMessage:at(function(t){return t+"$property must be a string"},r)}},r)}function Bn(r,t,n){return typeof r=="string"?Y(Bt).validateSync(r,t,n):Y(Bt).validateSync(r,t)}const Vt=(r,t,n=!0)=>{const i=Rt((()=>{const o=localStorage.getItem(t);if(!o)return null;try{const s=JSON.parse(o),a=hn(r,s),f=Bn(a);if(f.length>0){if(n){const u=new r;f.forEach(d=>{const l=d.property;s[l]=u[l],localStorage.setItem(t,JSON.stringify(s))})}return n?s:null}return s}catch(s){return console.log(s),null}})()??It(new r));return G(()=>i,St(o=>{localStorage.setItem(t,JSON.stringify(o))},400,{trailing:!0}),{deep:!0}),{storage:i,reset:()=>{Object.assign(i,It(new r))},clear(){localStorage.removeItem(t)}}};var Vn=Object.defineProperty,Fn=Object.getOwnPropertyDescriptor,ct=(r,t,n,e)=>{for(var i=e>1?void 0:e?Fn(t,n):t,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(e?s(t,n,i):s(i))||i);return e&&i&&Vn(t,n,i),i};class ft{fontSize=14;fontFamily='"Helvetica Neue","Luxi Sans","DejaVu Sans","Hiragino Sans GB","Microsoft Yahei",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"'}ct([In()],ft.prototype,"fontSize",2);ct([Pn()],ft.prototype,"fontFamily",2);class Ft{typewriterMode=!1}ct([wn()],Ft.prototype,"typewriterMode",2);const kn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Dn=V("path",{d:"M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208c114.69 0 208-93.31 208-208c0-114.87-93.13-208-208-208zm0 313a94 94 0 0 1 0-188h4.21l-14.11-14.1a14 14 0 0 1 19.8-19.8l40 40a14 14 0 0 1 0 19.8l-40 40a14 14 0 0 1-19.8-19.8l18-18c-2.38-.1-5.1-.1-8.1-.1a66 66 0 1 0 66 66a14 14 0 0 1 28 0a94.11 94.11 0 0 1-94 94z",fill:"currentColor"},null,-1);var jn=L({name:"RefreshCircle",render:function(t,n){return H(),U("svg",kn,[Dn])}});const kt=L({props:{resetFn:{type:Function,required:!0}},setup(r){return()=>p($t,{trigger:"hover"},{trigger(){return p(X,{text:!0,class:"ml-2",onClick:()=>r.resetFn()},p(Z,{size:"20",class:"opacity-40 hover:opacity-100 transition-opacity duration-500"},p(jn,null)))},default(){return"\u5C06\u4F1A\u91CD\u7F6E\u8FD9\u4E9B\u8BBE\u5B9A"}})}}),Dt={editor:"editor-pref",general:"editor-general",vditor:"editor-vditor-pref"},zn=()=>{const{storage:r,reset:t}=Vt(ft,Dt.general),n=L(()=>()=>p(tt,null,p(mt,{class:"!flex items-center !mt-0"},"\u901A\u7528\u8BBE\u7F6E",p(kt,{resetFn:t})),p(z,{label:"\u5B57\u4F53\u8BBE\u5B9A"},p(yt,{onInput:s=>void(r.fontFamily=s),value:r.fontFamily})),p(z,{label:"\u5B57\u53F7\u8BBE\u5B9A"},p(Ht,{onUpdateValue:s=>void(r.fontSize=s??14),value:r.fontSize})),p(z,{label:"\u6CE8\u610F: ",labelAlign:"right"},p(At,null,"\u4EE5\u4E0A\u8BBE\u5B9A\u6682\u65F6\u4E0D\u9002\u4E8E Monaco Editor")))),{storage:e,reset:i}=Vt(Ft,Dt.vditor),o=L(()=>()=>p(tt,null,p(mt,{class:"!flex items-center !mt-0"},"Vditor \u8BBE\u5B9A",p(kt,{resetFn:i})),p(xt,{labelWidth:"8rem",labelAlign:"right"},p(z,{label:"\u6253\u5B57\u673A\u6A21\u5F0F",labelPlacement:"left"},p(Ut,{value:e.typewriterMode,onUpdateValue:s=>void(e.typewriterMode=s)})))));return[{generalSetting:r,resetGeneralSetting:t,GeneralSetting:n},{vditorSetting:e,resetVditorSetting:i,VditorSetting:o}]},Rn=()=>{const r=localStorage.getItem(Ct.editor);if(!r)return null;try{const t=JSON.parse(r);return Object.keys(N).includes(t)?t:null}catch{return null}};let lt=!1;const $n=L({props:{...rt,loading:{type:Boolean,required:!0}},setup(r){const t=Rn(),n=P(t??N.codemirror),e=P(!1),i=Xt(),o=P();Mt(()=>{if(lt)return;const y=i.addFloatButton(p("button",{onClick:()=>{e.value=!0}},p(Z,{size:18},p(un,null)))),O=i.addFloatButton(p("button",{onClick:()=>{o.value?.$el.requestFullscreen()}},p(Z,{size:18},p(on,null))));return lt=!0,()=>{i.removeFloatButton(y),i.removeFloatButton(O),lt=!1}}),Mt(()=>{document.addEventListener("fullscreenchange",y=>{document.fullscreenElement===o.value?document.documentElement.classList.add("editor-fullscreen"):document.documentElement.classList.remove("editor-fullscreen")})}),G(()=>n.value,St(y=>{localStorage.setItem(Ct.editor,JSON.stringify(y))},300,{trailing:!0}));const s=P(),a=P(),[{GeneralSetting:f,generalSetting:u,resetGeneralSetting:d},{VditorSetting:l,resetVditorSetting:c,vditorSetting:E}]=zn();return G(()=>E.typewriterMode,y=>{const O=a.value;if(!O)return;const h=O.vditor.options;h.typewriterMode=y}),()=>p(qt,{tag:"div",style:{"--editor-font-size":u.fontSize?u.fontSize/14+"rem":"","--editor-font-family":u.fontFamily},class:"editor-wrapper",ref:o},(()=>{if(r.loading)return p("div",{class:nt(q.editor,q.loading)},p(F,{strokeWidth:14,show:!0,rotate:!0}));switch(n.value){case"monaco":{const h=J(n.value);return p(h,{ref:s,...r})}case"vditor":{const h=J(n.value);return p(h,{...r,innerRef:a})}case"plain":const y=J(n.value);return p(y,{...r});case"codemirror":const O=J(n.value);return p(O,{...r});default:return null}})(),p(Ot,{show:e.value,onUpdateShow:y=>void(e.value=y)},p(_t,{closable:!0,onClose:()=>{e.value=!1},title:"\u7F16\u8F91\u5668\u8BBE\u5B9A",style:"max-width: 90vw;width: 500px; max-height: 65vh; overflow: auto",bordered:!1},p(At,{class:"text-center"},p(Gt,{depth:"3"},"\u6B64\u8BBE\u5B9A\u4EC5\u5B58\u50A8\u5728\u672C\u5730!")),p(xt,{labelPlacement:"left",labelWidth:"8rem",labelAlign:"right"},p(z,{label:"\u7F16\u8F91\u5668\u9009\u62E9"},p(Wt,{value:n.value,onUpdateValue:y=>void(n.value=y),options:Object.keys(N).map(y=>({key:y,label:y,value:y}))})),p(f,null),n.value==N.vditor&&p(l,null)))))}}),Hn=W({loader:()=>Promise.resolve($n),loadingComponent:()=>p(F,{strokeWidth:14,show:!0,rotate:!0})}),Un=L({props:{...rt,loading:{type:Boolean,required:!0}},setup(r){return()=>p(Jt,null,{default(){return p(Hn,{...r})},fallback(){return p("div",{class:nt(q.editor,q.loading)},p(F,{strokeWidth:14,show:!0,rotate:!0}))}})}}),Gn={type:{type:String},value:{type:String,required:!0},placeholder:{type:String},onChange:{type:Function,required:!0}},Wn="_root_1e9b2_1",qn="_group_1e9b2_5",Jn="_bar_1e9b2_47";var pt={root:Wn,group:qn,bar:Jn};const ie=L({props:{...Gn,label:{type:String,required:!0}},emits:["compositionend","compositionstart"],setup(r,{emit:t}){const n=P();return Yt(()=>{!n.value||(n.value.addEventListener("compositionstart",()=>{t("compositionstart")}),n.value.addEventListener("compositionend",()=>{t("compositionend")}))}),()=>p("div",{class:nt(pt.root,pt.group)},p("input",{required:!0,ref:n,type:r.type??"text",value:r.value,onInput:e=>r.onChange(e.target.value)}),p("span",{class:pt.bar}),p("label",null,r.label))}});var jt={};Object.defineProperty(jt,"__esModule",{value:!0});const Q=Qt,Yn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Qn=Q.createVNode("path",{d:"M446.2 270.4c-6.2-19-26.9-29.1-46-22.9l-45.4 15.1l-30.3-90l45.4-15.1c19.1-6.2 29.1-26.8 23-45.9c-6.2-19-26.9-29.1-46-22.9l-45.4 15.1l-15.7-47c-6.2-19-26.9-29.1-46-22.9c-19.1 6.2-29.1 26.8-23 45.9l15.7 47l-93.4 31.2l-15.7-47c-6.2-19-26.9-29.1-46-22.9c-19.1 6.2-29.1 26.8-23 45.9l15.7 47l-45.3 15c-19.1 6.2-29.1 26.8-23 45.9c5 14.5 19.1 24 33.6 24.6c6.8 1 12-1.6 57.7-16.8l30.3 90L78 354.8c-19 6.2-29.1 26.9-23 45.9c5 14.5 19.1 24 33.6 24.6c6.8 1 12-1.6 57.7-16.8l15.7 47c5.9 16.9 24.7 29 46 22.9c19.1-6.2 29.1-26.8 23-45.9l-15.7-47l93.6-31.3l15.7 47c5.9 16.9 24.7 29 46 22.9c19.1-6.2 29.1-26.8 23-45.9l-15.7-47l45.4-15.1c19-6 29.1-26.7 22.9-45.7zm-254.1 47.2l-30.3-90.2l93.5-31.3l30.3 90.2l-93.5 31.3z",fill:"currentColor"},null,-1);var Kn=jt.default=Q.defineComponent({name:"SlackHash",render:function(t,n){return Q.openBlock(),Q.createBlock("svg",Yn,[Qn])}});const oe=L({props:{data:{type:Object,required:!0}},setup(r){const t=P(!1),n=P(""),e=i=>{const s=i.trim().split(`
`),f=s.slice(0,1)[0].replace("# ","");r.data.title=f,s.shift(),r.data.text=s.filter(Boolean).join(`

`),t.value=!1};return()=>p(tt,null,p(Kt,{icon:p(Kn,null),variant:"info",onClick:()=>t.value=!0}),p(Ot,{show:t.value,onUpdateShow:i=>t.value=i},p(_t,{title:"\u89E3\u6790 Markdown",class:"modal-card",closable:!0,onClose:()=>t.value=!1},p(Et,{vertical:!0,size:"large"},p(Un,{loading:!1,onChange:i=>void(n.value=i),text:n.value,unSaveConfirm:!1}),p(Et,{justify:"end"},p(X,{round:!0,type:"primary",onClick:()=>e(n.value)},"\u786E\u5B9A"),p(X,{onClick:i=>{n.value=""},round:!0},"\u91CD\u7F6E"))))))}});export{Un as E,Pn as I,ie as M,oe as P,re as S,ut as V,at as b,Gn as i,Vt as u};
