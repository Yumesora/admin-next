import{d as I,b as U,aT as $,ai as V,r as P,b4 as jt,w as G,h as l,y as yt,b6 as W,N as F,aU as zt,b7 as St,A as K,I as X,x as Rt,b1 as z,b8 as Ht,b9 as mt,F as tt,Q as xt,b0 as Ot,b3 as Ut,ba as At,V as _t,T as $t,aZ as Gt,s as nt,P as Wt,S as qt,o as Jt,bb as Yt,B as Ct}from"./vendor.js";import{H as Qt}from"./rounded-button.js";import{u as Et}from"./use-react.js";import{_ as et,e as Zt}from"./index.js";import{e as rt,u as Kt,s as q}from"./props.js";const Xt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},tn=V("path",{d:"M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z",fill:"currentColor"},null,-1);var ee=I({name:"SlidersH",render:function(t,n){return U(),$("svg",Xt,[tn])}});const nn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},en=V("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z",fill:"currentColor"},null,-1);var rn=I({name:"FullscreenExitOutlined",render:function(t,n){return U(),$("svg",nn,[en])}});const on={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},sn=V("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[V("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065z"}),V("circle",{cx:"12",cy:"12",r:"3"})],-1);var an=I({name:"Settings",render:function(t,n){return U(),$("svg",on,[sn])}});const Mt={editor:"editor-pref",general:"editor-general",vditor:"editor-vditor-pref"};var N;(function(e){e.monaco="monaco",e.codemirror="codemirror",e.vditor="vditor",e.plain="plain"})(N||(N={}));const wt=I({props:{...rt},setup(e){const t=P();let n=jt(e.text);return G(()=>e.text,r=>{!n&&r&&(n=r)}),Kt(e.unSaveConfirm,()=>n===e.text),()=>l("div",null,l(yt,{ref:t,type:"textarea",onInput:r=>void e.onChange(r),value:e.text,class:"h-full"}))}}),k={[N.monaco]:null,[N.vditor]:null,[N.plain]:null,[N.codemirror]:null},J=e=>{if(k[e])return k[e];switch(e){case"monaco":{const t=W({loader:()=>et(()=>import("./monaco.js"),["monaco.js","index.js","assets/index.4afccc3e.css","vendor.js","index6.js","props.js","assets/props.0fdc2ef0.css"]).then(n=>n.MonacoEditor),loadingComponent:l(F,{strokeWidth:14,show:!0,rotate:!0}),suspensible:!0});return k[e]=t,t}case"vditor":{const t=W({loader:()=>et(()=>import("./vditor.js"),["vditor.js","assets/vditor.013171f5.css","index.js","assets/index.4afccc3e.css","vendor.js","props.js","assets/props.0fdc2ef0.css"]).then(n=>n.VditorEditor),loadingComponent:l(F,{strokeWidth:14,show:!0,rotate:!0}),suspensible:!0});return k[e]=t,t}case"plain":return k[e]=wt,wt;case"codemirror":{const t=W({loader:()=>et(()=>import("./codemirror.js").then(function(n){return n.x}),["codemirror.js","assets/codemirror.02213332.css","vendor.js","props.js","assets/props.0fdc2ef0.css","index.js","assets/index.4afccc3e.css"]).then(n=>n.CodemirrorEditor),loadingComponent:l(F,{strokeWidth:14,show:!0,rotate:!0}),suspensible:!0});return k[e]=t,t}default:return null}};var v;(function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(v||(v={}));var un=function(){function e(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return e.prototype.addTypeMetadata=function(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)},e.prototype.addTransformMetadata=function(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)},e.prototype.addExposeMetadata=function(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)},e.prototype.addExcludeMetadata=function(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)},e.prototype.findTransformMetadatas=function(t,n,r){return this.findMetadatas(this._transformMetadatas,t,n).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?r===v.CLASS_TO_CLASS||r===v.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?r===v.CLASS_TO_PLAIN:!0})},e.prototype.findExcludeMetadata=function(t,n){return this.findMetadata(this._excludeMetadatas,t,n)},e.prototype.findExposeMetadata=function(t,n){return this.findMetadata(this._exposeMetadatas,t,n)},e.prototype.findExposeMetadataByCustomName=function(t,n){return this.getExposedMetadatas(t).find(function(r){return r.options&&r.options.name===n})},e.prototype.findTypeMetadata=function(t,n){return this.findMetadata(this._typeMetadatas,t,n)},e.prototype.getStrategy=function(t){var n=this._excludeMetadatas.get(t),r=n&&n.get(void 0),i=this._exposeMetadatas.get(t),o=i&&i.get(void 0);return r&&o||!r&&!o?"none":r?"excludeAll":"exposeAll"},e.prototype.getExposedMetadatas=function(t){return this.getMetadata(this._exposeMetadatas,t)},e.prototype.getExcludedMetadatas=function(t){return this.getMetadata(this._excludeMetadatas,t)},e.prototype.getExposedProperties=function(t,n){return this.getExposedMetadatas(t).filter(function(r){return!r.options||r.options.toClassOnly===!0&&r.options.toPlainOnly===!0?!0:r.options.toClassOnly===!0?n===v.CLASS_TO_CLASS||n===v.PLAIN_TO_CLASS:r.options.toPlainOnly===!0?n===v.CLASS_TO_PLAIN:!0}).map(function(r){return r.propertyName})},e.prototype.getExcludedProperties=function(t,n){return this.getExcludedMetadatas(t).filter(function(r){return!r.options||r.options.toClassOnly===!0&&r.options.toPlainOnly===!0?!0:r.options.toClassOnly===!0?n===v.CLASS_TO_CLASS||n===v.PLAIN_TO_CLASS:r.options.toPlainOnly===!0?n===v.CLASS_TO_PLAIN:!0}).map(function(r){return r.propertyName})},e.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},e.prototype.getMetadata=function(t,n){var r=t.get(n),i;r&&(i=Array.from(r.values()).filter(function(p){return p.propertyName!==void 0}));for(var o=[],s=0,u=this.getAncestors(n);s<u.length;s++){var c=u[s],a=t.get(c);if(a){var f=Array.from(a.values()).filter(function(p){return p.propertyName!==void 0});o.push.apply(o,f)}}return o.concat(i||[])},e.prototype.findMetadata=function(t,n,r){var i=t.get(n);if(i){var o=i.get(r);if(o)return o}for(var s=0,u=this.getAncestors(n);s<u.length;s++){var c=u[s],a=t.get(c);if(a){var f=a.get(r);if(f)return f}}},e.prototype.findMetadatas=function(t,n,r){var i=t.get(n),o;i&&(o=i.get(r));for(var s=[],u=0,c=this.getAncestors(n);u<c.length;u++){var a=c[u],f=t.get(a);f&&f.has(r)&&s.push.apply(s,f.get(r))}return s.slice().reverse().concat((o||[]).slice().reverse())},e.prototype.getAncestors=function(t){if(!t)return[];if(!this._ancestorsMap.has(t)){for(var n=[],r=Object.getPrototypeOf(t.prototype.constructor);typeof r.prototype!="undefined";r=Object.getPrototypeOf(r.prototype.constructor))n.push(r);this._ancestorsMap.set(t,n)}return this._ancestorsMap.get(t)},e}(),L=new un;function fn(){if(typeof globalThis!="undefined")return globalThis;if(typeof global!="undefined")return global;if(typeof window!="undefined")return window;if(typeof self!="undefined")return self}function cn(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}function ln(e){var t=new e;return!(t instanceof Set)&&!("push"in t)?[]:t}var D=function(){function e(t,n){this.transformationType=t,this.options=n,this.recursionStack=new Set}return e.prototype.transform=function(t,n,r,i,o,s){var u=this;if(s===void 0&&(s=0),Array.isArray(n)||n instanceof Set){var c=i&&this.transformationType===v.PLAIN_TO_CLASS?ln(i):[];return n.forEach(function(h,w){var _=t?t[w]:void 0;if(!u.options.enableCircularCheck||!u.isCircular(h)){var O=void 0;if(typeof r!="function"&&r&&r.options&&r.options.discriminator&&r.options.discriminator.property&&r.options.discriminator.subTypes){if(u.transformationType===v.PLAIN_TO_CLASS){O=r.options.discriminator.subTypes.find(function(E){return E.name===h[r.options.discriminator.property]});var b={newObject:c,object:h,property:void 0},g=r.typeFunction(b);O===void 0?O=g:O=O.value,r.options.keepDiscriminatorProperty||delete h[r.options.discriminator.property]}u.transformationType===v.CLASS_TO_CLASS&&(O=h.constructor),u.transformationType===v.CLASS_TO_PLAIN&&(h[r.options.discriminator.property]=r.options.discriminator.subTypes.find(function(E){return E.value===h.constructor}).name)}else O=r;var m=u.transform(_,h,O,void 0,h instanceof Map,s+1);c instanceof Set?c.add(m):c.push(m)}else u.transformationType===v.CLASS_TO_CLASS&&(c instanceof Set?c.add(h):c.push(h))}),c}else{if(r===String&&!o)return n==null?n:String(n);if(r===Number&&!o)return n==null?n:Number(n);if(r===Boolean&&!o)return n==null?n:Boolean(n);if((r===Date||n instanceof Date)&&!o)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(!!fn().Buffer&&(r===Buffer||n instanceof Buffer)&&!o)return n==null?n:Buffer.from(n);if(cn(n)&&!o)return new Promise(function(h,w){n.then(function(_){return h(u.transform(void 0,_,r,void 0,void 0,s+1))},w)});if(!o&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!r&&n.constructor!==Object&&(r=n.constructor),!r&&t&&(r=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);var a=this.getKeys(r,n,o),f=t||{};!t&&(this.transformationType===v.PLAIN_TO_CLASS||this.transformationType===v.CLASS_TO_CLASS)&&(o?f=new Map:r?f=new r:f={});for(var p=function(h){if(h==="__proto__"||h==="constructor")return"continue";var w=h,_=h,O=h;if(!d.options.ignoreDecorators&&r){if(d.transformationType===v.PLAIN_TO_CLASS){var b=L.findExposeMetadataByCustomName(r,h);b&&(O=b.propertyName,_=b.propertyName)}else if(d.transformationType===v.CLASS_TO_PLAIN||d.transformationType===v.CLASS_TO_CLASS){var b=L.findExposeMetadata(r,h);b&&b.options&&b.options.name&&(_=b.options.name)}}var g=void 0;n instanceof Map?g=n.get(w):n[w]instanceof Function?g=n[w]():g=n[w];var m=void 0,E=g instanceof Map;if(r&&o)m=r;else if(r){var S=L.findTypeMetadata(r,O);if(S){var Z={newObject:f,object:n,property:O},R=S.typeFunction?S.typeFunction(Z):S.reflectedType;S.options&&S.options.discriminator&&S.options.discriminator.property&&S.options.discriminator.subTypes?n[w]instanceof Array?m=S:(d.transformationType===v.PLAIN_TO_CLASS&&(m=S.options.discriminator.subTypes.find(function(B){if(g&&g instanceof Object&&S.options.discriminator.property in g)return B.name===g[S.options.discriminator.property]}),m===void 0?m=R:m=m.value,S.options.keepDiscriminatorProperty||g&&g instanceof Object&&S.options.discriminator.property in g&&delete g[S.options.discriminator.property]),d.transformationType===v.CLASS_TO_CLASS&&(m=g.constructor),d.transformationType===v.CLASS_TO_PLAIN&&(g[S.options.discriminator.property]=S.options.discriminator.subTypes.find(function(B){return B.value===g.constructor}).name)):m=R,E=E||S.reflectedType===Map}else if(d.options.targetMaps)d.options.targetMaps.filter(function(B){return B.target===r&&!!B.properties[O]}).forEach(function(B){return m=B.properties[O]});else if(d.options.enableImplicitConversion&&d.transformationType===v.PLAIN_TO_CLASS){var dt=Reflect.getMetadata("design:type",r.prototype,O);dt&&(m=dt)}}var ht=Array.isArray(n[w])?d.getReflectedType(r,O):void 0,vt=t?t[w]:void 0;if(f.constructor.prototype){var gt=Object.getOwnPropertyDescriptor(f.constructor.prototype,_);if((d.transformationType===v.PLAIN_TO_CLASS||d.transformationType===v.CLASS_TO_CLASS)&&(gt&&!gt.set||f[_]instanceof Function))return"continue"}if(!d.options.enableCircularCheck||!d.isCircular(g)){var H=d.transformationType===v.PLAIN_TO_CLASS?_:h,x=void 0;d.transformationType===v.CLASS_TO_PLAIN?(x=n[H],x=d.applyCustomTransformations(x,r,H,n,d.transformationType),x=n[H]===x?g:x,x=d.transform(vt,x,m,ht,E,s+1)):g===void 0&&d.options.exposeDefaultValues?x=f[_]:(x=d.transform(vt,g,m,ht,E,s+1),x=d.applyCustomTransformations(x,r,H,n,d.transformationType)),(x!==void 0||d.options.exposeUnsetFields)&&(f instanceof Map?f.set(_,x):f[_]=x)}else if(d.transformationType===v.CLASS_TO_CLASS){var x=g;x=d.applyCustomTransformations(x,r,h,n,d.transformationType),(x!==void 0||d.options.exposeUnsetFields)&&(f instanceof Map?f.set(_,x):f[_]=x)}},d=this,C=0,y=a;C<y.length;C++){var A=y[C];p(A)}return this.options.enableCircularCheck&&this.recursionStack.delete(n),f}else return n}},e.prototype.applyCustomTransformations=function(t,n,r,i,o){var s=this,u=L.findTransformMetadatas(n,r,this.transformationType);return this.options.version!==void 0&&(u=u.filter(function(c){return c.options?s.checkVersion(c.options.since,c.options.until):!0})),this.options.groups&&this.options.groups.length?u=u.filter(function(c){return c.options?s.checkGroups(c.options.groups):!0}):u=u.filter(function(c){return!c.options||!c.options.groups||!c.options.groups.length}),u.forEach(function(c){t=c.transformFn({value:t,key:r,obj:i,type:o,options:s.options})}),t},e.prototype.isCircular=function(t){return this.recursionStack.has(t)},e.prototype.getReflectedType=function(t,n){if(!!t){var r=L.findTypeMetadata(t,n);return r?r.reflectedType:void 0}},e.prototype.getKeys=function(t,n,r){var i=this,o=L.getStrategy(t);o==="none"&&(o=this.options.strategy||"exposeAll");var s=[];if((o==="exposeAll"||r)&&(n instanceof Map?s=Array.from(n.keys()):s=Object.keys(n)),r)return s;if(!this.options.ignoreDecorators&&t){var u=L.getExposedProperties(t,this.transformationType);this.transformationType===v.PLAIN_TO_CLASS&&(u=u.map(function(a){var f=L.findExposeMetadata(t,a);return f&&f.options&&f.options.name?f.options.name:a})),this.options.excludeExtraneousValues?s=u:s=s.concat(u);var c=L.getExcludedProperties(t,this.transformationType);c.length>0&&(s=s.filter(function(a){return!c.includes(a)})),this.options.version!==void 0&&(s=s.filter(function(a){var f=L.findExposeMetadata(t,a);return!f||!f.options?!0:i.checkVersion(f.options.since,f.options.until)})),this.options.groups&&this.options.groups.length?s=s.filter(function(a){var f=L.findExposeMetadata(t,a);return!f||!f.options?!0:i.checkGroups(f.options.groups)}):s=s.filter(function(a){var f=L.findExposeMetadata(t,a);return!f||!f.options||!f.options.groups||!f.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(s=s.filter(function(a){return i.options.excludePrefixes.every(function(f){return a.substr(0,f.length)!==f})})),s=s.filter(function(a,f,p){return p.indexOf(a)===f}),s},e.prototype.checkVersion=function(t,n){var r=!0;return r&&t&&(r=this.options.version>=t),r&&n&&(r=this.options.version<n),r},e.prototype.checkGroups=function(t){return t?this.options.groups.some(function(n){return t.includes(n)}):!0},e}(),j={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},M=globalThis&&globalThis.__assign||function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},M.apply(this,arguments)},pn=function(){function e(){}return e.prototype.classToPlain=function(t,n){var r=new D(v.CLASS_TO_PLAIN,M(M({},j),n));return r.transform(void 0,t,void 0,void 0,void 0,void 0)},e.prototype.classToPlainFromExist=function(t,n,r){var i=new D(v.CLASS_TO_PLAIN,M(M({},j),r));return i.transform(n,t,void 0,void 0,void 0,void 0)},e.prototype.plainToClass=function(t,n,r){var i=new D(v.PLAIN_TO_CLASS,M(M({},j),r));return i.transform(void 0,n,t,void 0,void 0,void 0)},e.prototype.plainToClassFromExist=function(t,n,r){var i=new D(v.PLAIN_TO_CLASS,M(M({},j),r));return i.transform(t,n,void 0,void 0,void 0,void 0)},e.prototype.classToClass=function(t,n){var r=new D(v.CLASS_TO_CLASS,M(M({},j),n));return r.transform(void 0,t,void 0,void 0,void 0,void 0)},e.prototype.classToClassFromExist=function(t,n,r){var i=new D(v.CLASS_TO_CLASS,M(M({},j),r));return i.transform(n,t,void 0,void 0,void 0,void 0)},e.prototype.serialize=function(t,n){return JSON.stringify(this.classToPlain(t,n))},e.prototype.deserialize=function(t,n,r){var i=JSON.parse(n);return this.plainToClass(t,i,r)},e.prototype.deserializeArray=function(t,n,r){var i=JSON.parse(n);return this.plainToClass(t,i,r)},e}(),bt=new pn;function Tt(e,t){return bt.classToPlain(e,t)}function dn(e,t,n){return bt.plainToClass(e,t,n)}var It=function(){function e(t){this.groups=[],this.each=!1,this.context=void 0,this.type=t.type,this.target=t.target,this.propertyName=t.propertyName,this.constraints=t.constraints,this.constraintCls=t.constraintCls,this.validationTypeOptions=t.validationTypeOptions,t.validationOptions&&(this.message=t.validationOptions.message,this.groups=t.validationOptions.groups,this.always=t.validationOptions.always,this.each=t.validationOptions.each,this.context=t.validationOptions.context)}return e}(),hn=function(){function e(){}return e.prototype.transform=function(t){var n=[];return Object.keys(t.properties).forEach(function(r){t.properties[r].forEach(function(i){var o={message:i.message,groups:i.groups,always:i.always,each:i.each},s={type:i.type,target:t.name,propertyName:r,constraints:i.constraints,validationTypeOptions:i.options,validationOptions:o};n.push(new It(s))})}),n},e}();function vn(e){return e instanceof Map?Array.from(e.values()):Array.isArray(e)?e:Array.from(e)}function gn(){if(typeof globalThis!="undefined")return globalThis;if(typeof global!="undefined")return global;if(typeof window!="undefined")return window;if(typeof self!="undefined")return self}function it(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Lt=function(){function e(){this.validationMetadatas=[],this.constraintMetadatas=[]}return Object.defineProperty(e.prototype,"hasValidationMetaData",{get:function(){return!!this.validationMetadatas.length},enumerable:!1,configurable:!0}),e.prototype.addValidationSchema=function(t){var n=this,r=new hn().transform(t);r.forEach(function(i){return n.addValidationMetadata(i)})},e.prototype.addValidationMetadata=function(t){this.validationMetadatas.push(t)},e.prototype.addConstraintMetadata=function(t){this.constraintMetadatas.push(t)},e.prototype.groupByPropertyName=function(t){var n={};return t.forEach(function(r){n[r.propertyName]||(n[r.propertyName]=[]),n[r.propertyName].push(r)}),n},e.prototype.getTargetValidationMetadatas=function(t,n,r,i,o){var s=function(p){return typeof p.always!="undefined"?p.always:p.groups&&p.groups.length?!1:r},u=function(p){return!!(i&&(!o||!o.length)&&p.groups&&p.groups.length)},c=this.validationMetadatas.filter(function(p){return p.target!==t&&p.target!==n?!1:s(p)?!0:u(p)?!1:o&&o.length>0?p.groups&&!!p.groups.find(function(d){return o.indexOf(d)!==-1}):!0}),a=this.validationMetadatas.filter(function(p){return typeof p.target=="string"||p.target===t||p.target instanceof Function&&!(t.prototype instanceof p.target)?!1:s(p)?!0:u(p)?!1:o&&o.length>0?p.groups&&!!p.groups.find(function(d){return o.indexOf(d)!==-1}):!0}),f=a.filter(function(p){return!c.find(function(d){return d.propertyName===p.propertyName&&d.type===p.type})});return c.concat(f)},e.prototype.getTargetValidatorConstraints=function(t){return this.constraintMetadatas.filter(function(n){return n.target===t})},e}();function ot(){var e=gn();return e.classValidatorMetadataStorage||(e.classValidatorMetadataStorage=new Lt),e.classValidatorMetadataStorage}var st=function(){function e(){}return e.prototype.toString=function(t,n,r){var i=this;t===void 0&&(t=!1),n===void 0&&(n=!1),r===void 0&&(r="");var o=t?"[1m":"",s=t?"[22m":"",u=function(a){return" - property "+o+r+a+s+" has failed the following constraints: "+o+Object.keys(i.constraints).join(", ")+s+` 
`};if(n){var c=Number.isInteger(+this.property)?"["+this.property+"]":""+(r?".":"")+this.property;return this.constraints?u(c):this.children?this.children.map(function(a){return a.toString(t,!0,""+r+c)}).join(""):""}else return"An instance of "+o+(this.target?this.target.constructor.name:"an object")+s+` has failed the validation:
`+(this.constraints?u(this.property):"")+(this.children?this.children.map(function(a){return a.toString(t,!0,i.property)}).join(""):"")},e}(),T=function(){function e(){}return e.isValid=function(t){var n=this;return t!=="isValid"&&t!=="getMessage"&&Object.keys(this).map(function(r){return n[r]}).indexOf(t)!==-1},e.CUSTOM_VALIDATION="customValidation",e.NESTED_VALIDATION="nestedValidation",e.PROMISE_VALIDATION="promiseValidation",e.CONDITIONAL_VALIDATION="conditionalValidation",e.WHITELIST="whitelistValidation",e.IS_DEFINED="isDefined",e}();function yn(e){return Array.isArray(e)?e.join(", "):""+e}var Sn=function(){function e(){}return e.replaceMessageSpecialTokens=function(t,n){var r;return t instanceof Function?r=t(n):typeof t=="string"&&(r=t),r&&n.constraints instanceof Array&&n.constraints.forEach(function(i,o){r=r.replace(new RegExp("\\$constraint"+(o+1),"g"),yn(i))}),r&&n.value!==void 0&&n.value!==null&&typeof n.value=="string"&&(r=r.replace(/\$value/g,n.value)),r&&(r=r.replace(/\$property/g,n.property)),r&&(r=r.replace(/\$target/g,n.targetName)),r},e}(),Nt=function(){function e(t,n){this.validator=t,this.validatorOptions=n,this.awaitingPromises=[],this.ignoreAsyncValidations=!1,this.metadataStorage=ot()}return e.prototype.execute=function(t,n,r){var i=this,o;!this.metadataStorage.hasValidationMetaData&&((o=this.validatorOptions)===null||o===void 0?void 0:o.enableDebugMessages)===!0&&console.warn("No metadata found. There is more than once class-validator version installed probably. You need to flatten your dependencies.");var s=this.validatorOptions?this.validatorOptions.groups:void 0,u=this.validatorOptions&&this.validatorOptions.strictGroups||!1,c=this.validatorOptions&&this.validatorOptions.always||!1,a=this.metadataStorage.getTargetValidationMetadatas(t.constructor,n,c,u,s),f=this.metadataStorage.groupByPropertyName(a);if(this.validatorOptions&&this.validatorOptions.forbidUnknownValues&&!a.length){var p=new st;(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.target===void 0||this.validatorOptions.validationError.target===!0)&&(p.target=t),p.value=void 0,p.property=void 0,p.children=[],p.constraints={unknownValue:"an unknown value was passed to the validate function"},r.push(p);return}this.validatorOptions&&this.validatorOptions.whitelist&&this.whitelist(t,f,r),Object.keys(f).forEach(function(d){var C=t[d],y=f[d].filter(function(h){return h.type===T.IS_DEFINED}),A=f[d].filter(function(h){return h.type!==T.IS_DEFINED&&h.type!==T.WHITELIST});C instanceof Promise&&A.find(function(h){return h.type===T.PROMISE_VALIDATION})?i.awaitingPromises.push(C.then(function(h){i.performValidations(t,h,d,y,A,r)})):i.performValidations(t,C,d,y,A,r)})},e.prototype.whitelist=function(t,n,r){var i=this,o=[];Object.keys(t).forEach(function(s){(!n[s]||n[s].length===0)&&o.push(s)}),o.length>0&&(this.validatorOptions&&this.validatorOptions.forbidNonWhitelisted?o.forEach(function(s){var u,c=i.generateValidationError(t,t[s],s);c.constraints=(u={},u[T.WHITELIST]="property "+s+" should not exist",u),c.children=void 0,r.push(c)}):o.forEach(function(s){return delete t[s]}))},e.prototype.stripEmptyErrors=function(t){var n=this;return t.filter(function(r){if(r.children&&(r.children=n.stripEmptyErrors(r.children)),Object.keys(r.constraints).length===0){if(r.children.length===0)return!1;delete r.constraints}return!0})},e.prototype.performValidations=function(t,n,r,i,o,s){var u=o.filter(function(d){return d.type===T.CUSTOM_VALIDATION}),c=o.filter(function(d){return d.type===T.NESTED_VALIDATION}),a=o.filter(function(d){return d.type===T.CONDITIONAL_VALIDATION}),f=this.generateValidationError(t,n,r);s.push(f);var p=this.conditionalValidations(t,n,a);!p||(this.customValidations(t,n,i,f),this.mapContexts(t,n,i,f),!(n===void 0&&this.validatorOptions&&this.validatorOptions.skipUndefinedProperties===!0)&&(n===null&&this.validatorOptions&&this.validatorOptions.skipNullProperties===!0||n==null&&this.validatorOptions&&this.validatorOptions.skipMissingProperties===!0||(this.customValidations(t,n,u,f),this.nestedValidations(n,c,f.children),this.mapContexts(t,n,o,f),this.mapContexts(t,n,u,f))))},e.prototype.generateValidationError=function(t,n,r){var i=new st;return(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.target===void 0||this.validatorOptions.validationError.target===!0)&&(i.target=t),(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.value===void 0||this.validatorOptions.validationError.value===!0)&&(i.value=n),i.property=r,i.children=[],i.constraints={},i},e.prototype.conditionalValidations=function(t,n,r){return r.map(function(i){return i.constraints[0](t,n)}).reduce(function(i,o){return i&&o},!0)},e.prototype.customValidations=function(t,n,r,i){var o=this;r.forEach(function(s){o.metadataStorage.getTargetValidatorConstraints(s.constraintCls).forEach(function(u){if(!(u.async&&o.ignoreAsyncValidations)&&!(o.validatorOptions&&o.validatorOptions.stopAtFirstError&&Object.keys(i.constraints||{}).length>0)){var c={targetName:t.constructor?t.constructor.name:void 0,property:s.propertyName,object:t,value:n,constraints:s.constraints};if(!s.each||!(n instanceof Array||n instanceof Set||n instanceof Map)){var a=u.instance.validate(n,c);if(it(a)){var f=a.then(function(g){if(!g){var m=o.createValidationError(t,n,s,u),E=m[0],S=m[1];i.constraints[E]=S,s.context&&(i.contexts||(i.contexts={}),i.contexts[E]=Object.assign(i.contexts[E]||{},s.context))}});o.awaitingPromises.push(f)}else if(!a){var p=o.createValidationError(t,n,s,u),d=p[0],C=p[1];i.constraints[d]=C}return}var y=vn(n),A=y.map(function(g){return u.instance.validate(g,c)}),h=A.some(function(g){return it(g)});if(h){var w=A.map(function(g){return it(g)?g:Promise.resolve(g)}),_=Promise.all(w).then(function(g){var m=g.every(function(R){return R});if(!m){var E=o.createValidationError(t,n,s,u),S=E[0],Z=E[1];i.constraints[S]=Z,s.context&&(i.contexts||(i.contexts={}),i.contexts[S]=Object.assign(i.contexts[S]||{},s.context))}});o.awaitingPromises.push(_);return}var O=A.every(function(g){return g});if(!O){var b=o.createValidationError(t,n,s,u),d=b[0],C=b[1];i.constraints[d]=C}}})})},e.prototype.nestedValidations=function(t,n,r){var i=this;t!==void 0&&n.forEach(function(o){var s;if(!(o.type!==T.NESTED_VALIDATION&&o.type!==T.PROMISE_VALIDATION))if(t instanceof Array||t instanceof Set||t instanceof Map){var u=t instanceof Set?Array.from(t):t;u.forEach(function(C,y){i.performValidations(t,C,y.toString(),[],n,r)})}else if(t instanceof Object){var c=typeof o.target=="string"?o.target:o.target.name;i.execute(t,c,r)}else{var a=new st;a.value=t,a.property=o.propertyName,a.target=o.target;var f=i.createValidationError(o.target,t,o),p=f[0],d=f[1];a.constraints=(s={},s[p]=d,s),r.push(a)}})},e.prototype.mapContexts=function(t,n,r,i){var o=this;return r.forEach(function(s){if(s.context){var u=void 0;if(s.type===T.CUSTOM_VALIDATION){var c=o.metadataStorage.getTargetValidatorConstraints(s.constraintCls);u=c[0]}var a=o.getConstraintType(s,u);i.constraints[a]&&(i.contexts||(i.contexts={}),i.contexts[a]=Object.assign(i.contexts[a]||{},s.context))}})},e.prototype.createValidationError=function(t,n,r,i){var o=t.constructor?t.constructor.name:void 0,s=this.getConstraintType(r,i),u={targetName:o,property:r.propertyName,object:t,value:n,constraints:r.constraints},c=r.message||"";!r.message&&(!this.validatorOptions||this.validatorOptions&&!this.validatorOptions.dismissDefaultMessages)&&i&&i.instance.defaultMessage instanceof Function&&(c=i.instance.defaultMessage(u));var a=Sn.replaceMessageSpecialTokens(c,u);return[s,a]},e.prototype.getConstraintType=function(t,n){var r=n&&n.name?n.name:t.type;return r},e}(),mn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(f){try{a(r.next(f))}catch(p){s(p)}}function c(f){try{a(r.throw(f))}catch(p){s(p)}}function a(f){f.done?o(f.value):i(f.value).then(u,c)}a((r=r.apply(e,t||[])).next())})},xn=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(f){return c([a,f])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(f){a=[6,f],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Pt=function(){function e(){}return e.prototype.validate=function(t,n,r){return this.coreValidate(t,n,r)},e.prototype.validateOrReject=function(t,n,r){return mn(this,void 0,void 0,function(){var i;return xn(this,function(o){switch(o.label){case 0:return[4,this.coreValidate(t,n,r)];case 1:return i=o.sent(),i.length?[2,Promise.reject(i)]:[2]}})})},e.prototype.validateSync=function(t,n,r){var i=typeof t=="string"?n:t,o=typeof t=="string"?r:n,s=typeof t=="string"?t:void 0,u=new Nt(this,o);u.ignoreAsyncValidations=!0;var c=[];return u.execute(i,s,c),u.stripEmptyErrors(c)},e.prototype.coreValidate=function(t,n,r){var i=typeof t=="string"?n:t,o=typeof t=="string"?r:n,s=typeof t=="string"?t:void 0,u=new Nt(this,o),c=[];return u.execute(i,s,c),Promise.all(u.awaitingPromises).then(function(){return u.stripEmptyErrors(c)})},e}(),On=new(function(){function e(){this.instances=[]}return e.prototype.get=function(t){var n=this.instances.find(function(r){return r.type===t});return n||(n={type:t,object:new t},this.instances.push(n)),n.object},e}());function Y(e){return On.get(e)}var An=function(){function e(t,n,r){r===void 0&&(r=!1),this.target=t,this.name=n,this.async=r}return Object.defineProperty(e.prototype,"instance",{get:function(){return Y(this.target)},enumerable:!1,configurable:!0}),e}();function _n(e){var t;if(e.validator instanceof Function){t=e.validator;var n=Y(Lt).getTargetValidatorConstraints(e.validator);if(n.length>1)throw"More than one implementation of ValidatorConstraintInterface found for validator on: "+e.target.name+":"+e.propertyName}else{var r=e.validator;t=function(){function o(){}return o.prototype.validate=function(s,u){return r.validate(s,u)},o.prototype.defaultMessage=function(s){return r.defaultMessage?r.defaultMessage(s):""},o}(),ot().addConstraintMetadata(new An(t,e.name,e.async))}var i={type:e.name&&T.isValid(e.name)?e.name:T.CUSTOM_VALIDATION,target:e.target,propertyName:e.propertyName,validationOptions:e.options,constraintCls:t,constraints:e.constraints};ot().addValidationMetadata(new It(i))}function at(e,t){return function(n){var r=t&&t.each?"each value in ":"";return e(r,n)}}function ut(e,t){return function(n,r){_n({name:e.name,target:n.constructor,propertyName:r,options:t,constraints:e.constraints,validator:e.validator})}}var Cn="isBoolean";function En(e){return e instanceof Boolean||typeof e=="boolean"}function Mn(e){return ut({name:Cn,validator:{validate:function(t,n){return En(t)},defaultMessage:at(function(t){return t+"$property must be a boolean value"},e)}},e)}var wn="isInt";function bn(e){return typeof e=="number"&&Number.isInteger(e)}function Tn(e){return ut({name:wn,validator:{validate:function(t,n){return bn(t)},defaultMessage:at(function(t){return t+"$property must be an integer number"},e)}},e)}var In="isString";function Ln(e){return e instanceof String||typeof e=="string"}function Nn(e){return ut({name:In,validator:{validate:function(t,n){return Ln(t)},defaultMessage:at(function(t){return t+"$property must be a string"},e)}},e)}function Pn(e,t,n){return typeof e=="string"?Y(Pt).validateSync(e,t,n):Y(Pt).validateSync(e,t)}const Bt=(e,t,n=!0)=>{const i=zt((()=>{const o=localStorage.getItem(t);if(!o)return null;try{const s=JSON.parse(o),u=dn(e,s),c=Pn(u);if(c.length>0){if(n){const a=new e;c.forEach(f=>{const p=f.property;s[p]=a[p],localStorage.setItem(t,JSON.stringify(s))})}return n?s:null}return s}catch(s){return console.log(s),null}})()??Tt(new e));return G(()=>i,St(o=>{localStorage.setItem(t,JSON.stringify(o))},400,{trailing:!0}),{deep:!0}),{storage:i,reset:()=>{Object.assign(i,Tt(new e))},clear(){localStorage.removeItem(t)}}};var Bn=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,ft=(e,t,n,r)=>{for(var i=r>1?void 0:r?Vn(t,n):t,o=e.length-1,s;o>=0;o--)(s=e[o])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&Bn(t,n,i),i};class ct{fontSize=14;fontFamily='"Helvetica Neue","Luxi Sans","DejaVu Sans","Hiragino Sans GB","Microsoft Yahei",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"'}ft([Tn()],ct.prototype,"fontSize",2);ft([Nn()],ct.prototype,"fontFamily",2);class Vt{typewriterMode=!1}ft([Mn()],Vt.prototype,"typewriterMode",2);const Fn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},kn=V("path",{d:"M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208c114.69 0 208-93.31 208-208c0-114.87-93.13-208-208-208zm0 313a94 94 0 0 1 0-188h4.21l-14.11-14.1a14 14 0 0 1 19.8-19.8l40 40a14 14 0 0 1 0 19.8l-40 40a14 14 0 0 1-19.8-19.8l18-18c-2.38-.1-5.1-.1-8.1-.1a66 66 0 1 0 66 66a14 14 0 0 1 28 0a94.11 94.11 0 0 1-94 94z",fill:"currentColor"},null,-1);var Dn=I({name:"RefreshCircle",render:function(t,n){return U(),$("svg",Fn,[kn])}});const Ft=I({props:{resetFn:{type:Function,required:!0}},setup(e){return()=>l(Rt,{trigger:"hover"},{trigger(){return l(K,{text:!0,class:"ml-2",onClick:()=>e.resetFn()},l(X,{size:"20",class:"opacity-40 hover:opacity-100 transition-opacity duration-500"},l(Dn,null)))},default(){return"\u5C06\u4F1A\u91CD\u7F6E\u8FD9\u4E9B\u8BBE\u5B9A"}})}}),kt={editor:"editor-pref",general:"editor-general",vditor:"editor-vditor-pref"},jn=()=>{const{storage:e,reset:t}=Bt(ct,kt.general),n=I(()=>()=>l(tt,null,l(mt,{class:"!flex items-center !mt-0"},"\u901A\u7528\u8BBE\u7F6E",l(Ft,{resetFn:t})),l(z,{label:"\u5B57\u4F53\u8BBE\u5B9A"},l(yt,{onInput:s=>void(e.fontFamily=s),value:e.fontFamily})),l(z,{label:"\u5B57\u53F7\u8BBE\u5B9A"},l(Ht,{onUpdateValue:s=>void(e.fontSize=s??14),value:e.fontSize})),l(z,{label:"\u6CE8\u610F: ",labelAlign:"right"},l(xt,null,"\u4EE5\u4E0A\u8BBE\u5B9A\u6682\u65F6\u4E0D\u9002\u4E8E Monaco Editor")))),{storage:r,reset:i}=Bt(Vt,kt.vditor),o=I(()=>()=>l(tt,null,l(mt,{class:"!flex items-center !mt-0"},"Vditor \u8BBE\u5B9A",l(Ft,{resetFn:i})),l(Ot,{labelWidth:"8rem",labelAlign:"right"},l(z,{label:"\u6253\u5B57\u673A\u6A21\u5F0F",labelPlacement:"left"},l(Ut,{value:r.typewriterMode,onUpdateValue:s=>void(r.typewriterMode=s)})))));return[{generalSetting:e,resetGeneralSetting:t,GeneralSetting:n},{vditorSetting:r,resetVditorSetting:i,VditorSetting:o}]},zn=()=>{const e=localStorage.getItem(Mt.editor);if(!e)return null;try{const t=JSON.parse(e);return Object.keys(N).includes(t)?t:null}catch{return null}};let lt=!1;const Rn=I({props:{...rt,loading:{type:Boolean,required:!0}},setup(e){const t=zn(),n=P(t??N.codemirror),r=P(!1),i=Zt(),o=P();Et(()=>{if(lt)return;const y=i.addFloatButton(l("button",{onClick:()=>{r.value=!0}},l(X,{size:18},l(an,null)))),A=i.addFloatButton(l("button",{onClick:()=>{o.value?.$el.requestFullscreen()}},l(X,{size:18},l(rn,null))));return lt=!0,()=>{i.removeFloatButton(y),i.removeFloatButton(A),lt=!1}}),Et(()=>{document.addEventListener("fullscreenchange",y=>{document.fullscreenElement===o.value?document.documentElement.classList.add("editor-fullscreen"):document.documentElement.classList.remove("editor-fullscreen")})}),G(()=>n.value,St(y=>{localStorage.setItem(Mt.editor,JSON.stringify(y))},300,{trailing:!0}));const s=P(),u=P(),[{GeneralSetting:c,generalSetting:a,resetGeneralSetting:f},{VditorSetting:p,resetVditorSetting:d,vditorSetting:C}]=jn();return G(()=>C.typewriterMode,y=>{const A=u.value;if(!A)return;const h=A.vditor.options;h.typewriterMode=y}),()=>l(Wt,{tag:"div",style:{"--editor-font-size":a.fontSize?a.fontSize/14+"rem":"","--editor-font-family":a.fontFamily},class:"editor-wrapper",ref:o},(()=>{if(e.loading)return l("div",{class:nt(q.editor,q.loading)},l(F,{strokeWidth:14,show:!0,rotate:!0}));switch(n.value){case"monaco":{const h=J(n.value);return l(h,{ref:s,...e})}case"vditor":{const h=J(n.value);return l(h,{...e,innerRef:u})}case"plain":const y=J(n.value);return l(y,{...e});case"codemirror":const A=J(n.value);return l(A,{...e});default:return null}})(),l(At,{show:r.value,onUpdateShow:y=>void(r.value=y)},l(_t,{closable:!0,onClose:()=>{r.value=!1},title:"\u7F16\u8F91\u5668\u8BBE\u5B9A",style:"max-width: 90vw;width: 500px; max-height: 65vh; overflow: auto",bordered:!1},l(xt,{class:"text-center"},l($t,{depth:"3"},"\u6B64\u8BBE\u5B9A\u4EC5\u5B58\u50A8\u5728\u672C\u5730!")),l(Ot,{labelPlacement:"left",labelWidth:"8rem",labelAlign:"right"},l(z,{label:"\u7F16\u8F91\u5668\u9009\u62E9"},l(Gt,{value:n.value,onUpdateValue:y=>void(n.value=y),options:Object.keys(N).map(y=>({key:y,label:y,value:y}))})),l(c,null),n.value==N.vditor&&l(p,null)))))}}),Hn=W({loader:()=>Promise.resolve(Rn),loadingComponent:()=>l(F,{strokeWidth:14,show:!0,rotate:!0})}),Un=I({props:{...rt,loading:{type:Boolean,required:!0}},setup(e){return()=>l(qt,null,{default(){return l(Hn,{...e})},fallback(){return l("div",{class:nt(q.editor,q.loading)},l(F,{strokeWidth:14,show:!0,rotate:!0}))}})}}),$n={type:{type:String},value:{type:String,required:!0},placeholder:{type:String},onChange:{type:Function,required:!0}},Gn="_root_1e9b2_1",Wn="_group_1e9b2_5",qn="_bar_1e9b2_47";var pt={root:Gn,group:Wn,bar:qn};const re=I({props:{...$n,label:{type:String,required:!0}},emits:["compositionend","compositionstart"],setup(e,{emit:t}){const n=P();return Jt(()=>{!n.value||(n.value.addEventListener("compositionstart",()=>{t("compositionstart")}),n.value.addEventListener("compositionend",()=>{t("compositionend")}))}),()=>l("div",{class:nt(pt.root,pt.group)},l("input",{required:!0,ref:n,type:e.type??"text",value:e.value,onInput:r=>e.onChange(r.target.value)}),l("span",{class:pt.bar}),l("label",null,e.label))}});var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});const Q=Yt.exports,Jn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Yn=Q.createVNode("path",{d:"M446.2 270.4c-6.2-19-26.9-29.1-46-22.9l-45.4 15.1l-30.3-90l45.4-15.1c19.1-6.2 29.1-26.8 23-45.9c-6.2-19-26.9-29.1-46-22.9l-45.4 15.1l-15.7-47c-6.2-19-26.9-29.1-46-22.9c-19.1 6.2-29.1 26.8-23 45.9l15.7 47l-93.4 31.2l-15.7-47c-6.2-19-26.9-29.1-46-22.9c-19.1 6.2-29.1 26.8-23 45.9l15.7 47l-45.3 15c-19.1 6.2-29.1 26.8-23 45.9c5 14.5 19.1 24 33.6 24.6c6.8 1 12-1.6 57.7-16.8l30.3 90L78 354.8c-19 6.2-29.1 26.9-23 45.9c5 14.5 19.1 24 33.6 24.6c6.8 1 12-1.6 57.7-16.8l15.7 47c5.9 16.9 24.7 29 46 22.9c19.1-6.2 29.1-26.8 23-45.9l-15.7-47l93.6-31.3l15.7 47c5.9 16.9 24.7 29 46 22.9c19.1-6.2 29.1-26.8 23-45.9l-15.7-47l45.4-15.1c19-6 29.1-26.7 22.9-45.7zm-254.1 47.2l-30.3-90.2l93.5-31.3l30.3 90.2l-93.5 31.3z",fill:"currentColor"},null,-1);var Qn=Dt.default=Q.defineComponent({name:"SlackHash",render:function(t,n){return Q.openBlock(),Q.createBlock("svg",Jn,[Yn])}});const ie=I({props:{data:{type:Object,required:!0}},setup(e){const t=P(!1),n=P(""),r=i=>{const s=i.trim().split(`
`),c=s.slice(0,1)[0].replace("# ","");e.data.title=c,s.shift(),e.data.text=s.filter(Boolean).join(`

`),t.value=!1};return()=>l(tt,null,l(Qt,{icon:l(Qn,null),variant:"info",onClick:()=>t.value=!0}),l(At,{show:t.value,onUpdateShow:i=>t.value=i},l(_t,{title:"\u89E3\u6790 Markdown",class:"modal-card",closable:!0,onClose:()=>t.value=!1},l(Ct,{vertical:!0,size:"large"},l(Un,{loading:!1,onChange:i=>void(n.value=i),text:n.value,unSaveConfirm:!1}),l(Ct,{justify:"end"},l(K,{round:!0,type:"primary",onClick:()=>r(n.value)},"\u786E\u5B9A"),l(K,{onClick:i=>{n.value=""},round:!0},"\u91CD\u7F6E"))))))}});export{Un as E,Nn as I,re as M,ie as P,ee as S,ut as V,at as b,$n as i,Bt as u};
