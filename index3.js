import{u as U,U as S}from"./index.js";import{d as k,u as q,ag as C,r as y,aU as P,w as j,aY as x,h as B,aZ as F}from"./vendor.js";var h={"table-row":"_table-row_1brqz_3"};const W=h["table-row"],z=k({props:{data:{type:Object,required:!0},noPagination:{type:Boolean,default:!1},pager:{type:Object,required:!1},onUpdateCheckedRowKeys:{type:Function,default:()=>{}},onUpdateSorter:{type:Function,default:()=>{}},onFetchData:{type:Function,required:!1},columns:{type:Array,required:!0},nTableProps:{type:Object,default:{}},maxWidth:{type:Number},loading:{type:Boolean,default:!1},checkedRowKey:{type:String,default:"id"}},setup(d,T){const{data:l,noPagination:v=!1,pager:r,onUpdateCheckedRowKeys:g,onUpdateSorter:w,nTableProps:b,columns:u,onFetchData:i,checkedRowKey:m="id",maxWidth:R=1200}=d,K=q(),c=C(),p=y([]),n=P({sortBy:"",sortOrder:0}),o=y(!0),O=j(()=>l.value,e=>{o.value=!1,O()});x((e,f,a)=>{o.value=!0,a(),o.value=!1});const s=U(S);return()=>B(F,{...b,loading:d.loading??o.value,remote:!0,scrollX:Math.max(s.contentInsetWidth.value,R),pagination:v?void 0:r&&{page:r.value.currentPage,pageSize:r.value.size,pageCount:r.value.totalPage,showQuickJumper:!0,pageSlot:s.viewport.value.mobile?s.contentInsetWidth.value<400?2:3:void 0,onChange:async e=>{K.push({query:{...c.query,page:e},path:c.path})}},bordered:!1,data:l.value,checkedRowKeys:p.value,rowKey:e=>e[m],onUpdateCheckedRowKeys:e=>{p.value=e,g?.(e)},rowClassName:()=>h["table-row"],onUpdateSorter:async e=>{if(!e)return;u.forEach(t=>{if("sortOrder"in t&&t.sortOrder!==void 0){if(!e){t.sortOrder=!1;return}t.key===e.columnKey?t.sortOrder=e.order:t.sortOrder=!1}});const{columnKey:f,order:a}=e;n.sortBy=a===!1?"":f.toString()||"",n.sortOrder=a?{descend:-1,ascend:1}[a]:1,w?.(n,e),i&&await i()},columns:u})}});export{z as T,W as t};
