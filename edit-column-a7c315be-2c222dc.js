import{u as e,C as l}from"./index-2c222dc.js";import{d as a,r as t,w as u,B as n,h as i,aV as o,aW as r,F as s}from"./vendor-ab93f390-2c222dc.js";const c=a({props:{initialValue:{type:String,required:!0},onSubmit:{type:Function,required:!0},placeholder:{type:String},type:{type:String,default:"input"},options:{type:Array,default:()=>[]}},setup(a){const c=t(a.initialValue);u((()=>a.initialValue),(e=>{c.value=e}));const p=t(!1),v=t(),d=n();u((()=>p.value),(e=>{e&&(d.info("回车以完成修改",{duration:1500}),requestAnimationFrame((()=>{var e;null==(e=v.value)||e.focus()})))}));const f=()=>{a.onSubmit(c.value),p.value=!1};return e(l),()=>i(s,null,p.value?i("div",{class:"flex items-center w-full relative flex-nowrap"},(()=>{var e,l;switch(a.type){case"input":return i(r,{onKeydown:e=>{"Enter"==e.key&&f()},class:"w-3/4",value:c.value,placeholder:null!=(e=a.placeholder)?e:a.initialValue,size:"tiny",autofocus:!0,ref:v,onBlur:()=>{p.value=!1},onInput:e=>{c.value=e}});case"select":return i(o,{class:"w-full",placeholder:null!=(l=a.placeholder)?l:a.initialValue,value:c.value,onUpdateValue:e=>{c.value=e,f()},onBlur:()=>{p.value=!1},options:a.options})}})()):i("button",{class:"w-full text-left",onClick:()=>{p.value=!0}},a.initialValue," "))}});export{c as E};
//# sourceMappingURL=edit-column-a7c315be-2c222dc.js.map
