import{u as e,C as a}from"./index-50ab21a.js";import{d as l,r as t,w as u,B as n,h as i,aZ as o,a_ as r,F as s}from"./vendor-48a40c3c-50ab21a.js";const p=l({props:{initialValue:{type:String,required:!0},onSubmit:{type:Function,required:!0},placeholder:{type:String},type:{type:String,default:"input"},options:{type:Array,default:()=>[]},returnToConfrim:{type:Boolean,default:!0}},setup(l){const p=t(l.initialValue);u((()=>l.initialValue),(e=>{p.value=e}));const c=t(!1),v=t(),d=n();u((()=>c.value),(e=>{l.returnToConfrim&&e&&(d.info("回车以完成修改",{duration:1500}),requestAnimationFrame((()=>{var e;null==(e=v.value)||e.focus()})))}));const f=()=>{l.onSubmit(p.value),c.value=!1};return e(a),()=>i(s,null,c.value?i("div",{class:"flex items-center w-full relative flex-nowrap"},(()=>{var e,a;switch(l.type){case"input":return i(r,{onKeydown:e=>{"Enter"==e.key&&f()},class:"w-3/4",value:p.value,placeholder:null!=(e=l.placeholder)?e:l.initialValue,size:"tiny",autofocus:!0,ref:v,onBlur:()=>{c.value=!1},onInput:e=>{p.value=e}});case"select":return i(o,{class:"w-full",placeholder:null!=(a=l.placeholder)?a:l.initialValue,value:p.value,onUpdateValue:e=>{p.value=e,f()},onBlur:()=>{c.value=!1},options:l.options})}})()):i("button",{class:"w-full text-left",onClick:()=>{c.value=!0}},l.initialValue," "))}});export{p as E};
//# sourceMappingURL=edit-column-11a6e8ef-50ab21a.js.map
