import{T as a}from"./index-14aadcb3-4a68e52.js";import{u as e}from"./use-table-855ee2a5-4a68e52.js";import{R as t,a as s}from"./index-4a68e52.js";import{t as i}from"./index-54f6f2a5-4a68e52.js";import{d as n,o,h as r,v as l,G as m,aW as d,J as c}from"./vendor-96c780fc-4a68e52.js";var p=n({setup(){const{data:n,checkedRowKeys:p,fetchDataFn:u,loading:y}=e((a=>async()=>{const e=await t.api.health.cron.get();a.value=Array.from(Object.values(e.data).map((a=>({...a,_name:a.name,name:i(a.name)}))))}));return o((async()=>{await u()})),()=>r(s,null,r(a,{noPagination:!0,data:n,loading:y.value,nTableProps:{maxHeight:"calc(100vh - 17rem)"},maxWidth:500,columns:[{title:"任务",key:"name",ellipsis:{tooltip:!0},width:150},{title:"描述",key:"description",width:250,ellipsis:{tooltip:!0}},{title:"状态",key:"status"},{title:"下次执行",key:"",render(a){const e=a.nextDate;return e?l(new Date(e),"yyyy-mm-dd hh:mm:ss"):"N/A"}},{title:"操作",key:"",render:a=>r(m,null,r(d,{onPositiveClick:()=>{t.api.health.cron.run(a._name).post()}},{trigger:()=>r(c,{size:"tiny",text:!0,type:"success"},"执行"),default:()=>r("span",{style:{maxWidth:"12rem"}},"确定要执行?")}))}]}))}});export{p as default};
//# sourceMappingURL=cron-85b392cf-4a68e52.js.map
