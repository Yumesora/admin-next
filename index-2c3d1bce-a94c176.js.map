{"version":3,"file":"index-2c3d1bce-a94c176.js","sources":["../node_modules/.pnpm/@vicons+antd@0.11.0/node_modules/@vicons/antd/CheckCircleOutlined.js","../src/views/setting/tabs/system.tsx","../src/views/setting/tabs/security.tsx","../src/views/setting/tabs/user.tsx","../src/views/setting/index.tsx"],"sourcesContent":["'use strict'\nObject.defineProperty(exports, '__esModule', { value: true })\nconst vue_1 = require('vue')\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ vue_1.createVNode(\n  'path',\n  {\n    d: 'M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = /*#__PURE__*/ vue_1.createVNode(\n  'path',\n  {\n    d: 'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexports.default = vue_1.defineComponent({\n  name: 'CheckCircleOutlined',\n  render: function render(_ctx, _cache) {\n    return vue_1.openBlock(), vue_1.createBlock('svg', _hoisted_1, [_hoisted_2, _hoisted_3])\n  }\n})\n","import CheckCircleOutlined from '@vicons/antd/CheckCircleOutlined'\nimport { HeaderActionButton } from 'components/button/rounded-button'\nimport { useInjector } from 'hooks/use-deps-injection'\nimport { cloneDeep, isEmpty, merge, omit } from 'lodash-es'\nimport { IConfig } from 'models/setting'\nimport {\n  NCollapse,\n  NCollapseItem,\n  NDynamicTags,\n  NForm,\n  NFormItem,\n  NFormItemGi,\n  NGrid,\n  NInput,\n  NInputNumber,\n  NSpace,\n  NSwitch,\n  NText,\n} from 'naive-ui'\nimport { UIStore } from 'stores/ui'\nimport { deepDiff, RESTManager } from 'utils'\n\nimport {\n  computed,\n  defineComponent,\n  onBeforeMount,\n  onMounted,\n  onUnmounted,\n  reactive,\n  ref,\n  toRaw,\n  watch,\n} from 'vue'\nimport { useSystemHeaderAction } from '..'\n\nconst NFormPrefixCls = 'mt-6'\nconst NFormBaseProps = {\n  class: NFormPrefixCls,\n  labelPlacement: 'left',\n  labelAlign: 'right',\n  labelWidth: 150,\n}\n\n// FIXME : input autocomplation\n\nexport const autosizeableProps = {\n  autosize: true,\n  clearable: true,\n  style: 'min-width: 300px; max-width: 100%',\n} as const\nexport const TabSystem = defineComponent(() => {\n  const headerRef = useSystemHeaderAction()\n\n  onMounted(() => {\n    headerRef.value = (\n      <HeaderActionButton\n        disabled={true}\n        onClick={save}\n        icon={<CheckCircleOutlined />}\n      ></HeaderActionButton>\n    )\n  })\n\n  onUnmounted(() => {\n    headerRef.value = null\n  })\n\n  let originConfigs: IConfig = {} as IConfig\n  const configs = ref(mergeFullConfigs({}))\n  const diff = ref({} as Partial<IConfig>)\n\n  watch(\n    () => configs.value,\n    (n) => {\n      diff.value = deepDiff(originConfigs, toRaw(n))\n    },\n    { deep: true },\n  )\n  watch(\n    () => diff.value,\n    (n) => {\n      let canSave = false\n      if (isEmpty(n)) {\n        canSave = false\n      } else {\n        canSave = true\n      }\n\n      headerRef.value = (\n        <HeaderActionButton\n          disabled={!canSave}\n          icon={<CheckCircleOutlined />}\n          onClick={save}\n        ></HeaderActionButton>\n      )\n    },\n  )\n\n  async function save() {\n    if (isEmpty(diff.value)) {\n      return\n    }\n\n    const entries = Object.entries(diff.value)\n\n    for await (const [key, value] of entries) {\n      if (key === 'seo') {\n        await RESTManager.api.options(key).patch({\n          data: {\n            ...(value as any),\n            keywords: configs.value.seo.keywords,\n          },\n        })\n      } else {\n        await RESTManager.api.options(key).patch({\n          data: value,\n        })\n      }\n    }\n\n    await fetchConfig()\n    message.success('修改成功')\n  }\n\n  const fetchConfig = async () => {\n    let response = (await RESTManager.api.options.get()) as any\n    response = mergeFullConfigs(omit(response, ['ok'])) as IConfig\n\n    originConfigs = cloneDeep(response)\n\n    configs.value = response\n  }\n\n  onBeforeMount(() => {\n    fetchConfig()\n  })\n\n  const expandedNames = ref<string[]>(['website'])\n  const uiStore = useInjector(UIStore)\n  const gridCols = computed(() => (uiStore.viewport.value.mobile ? 1 : 2))\n  const formProps = reactive(NFormBaseProps) as any\n\n  watch(\n    () => uiStore.viewport.value.mobile,\n    (n) => {\n      if (n) {\n        formProps.labelPlacement = 'top'\n      } else {\n        formProps.labelPlacement = 'left'\n      }\n    },\n  )\n  return () => (\n    <Fragment>\n      <div class=\"pt-4\"></div>\n      <NCollapse\n        accordion\n        displayDirective=\"if\"\n        expandedNames={expandedNames.value}\n        onUpdateExpandedNames={(e) => {\n          expandedNames.value = e\n        }}\n      >\n        <NCollapseItem title=\"网站设置\" name=\"website\">\n          <NForm {...formProps}>\n            <NGrid cols={gridCols.value} xGap={12}>\n              <NFormItemGi span={1} label=\"前端地址\">\n                <NInput\n                  value={configs.value.url.webUrl}\n                  onInput={(e) => void (configs.value.url.webUrl = e)}\n                ></NInput>\n              </NFormItemGi>\n\n              <NFormItemGi span={1} label=\"API 地址\">\n                <NInput\n                  value={configs.value.url.serverUrl}\n                  onInput={(e) => void (configs.value.url.serverUrl = e)}\n                ></NInput>\n              </NFormItemGi>\n\n              <NFormItemGi span={1} label=\"后台地址\">\n                <NInput\n                  value={configs.value.url.adminUrl}\n                  onInput={(e) => void (configs.value.url.adminUrl = e)}\n                ></NInput>\n              </NFormItemGi>\n\n              <NFormItemGi span={1} label=\"Gateway 地址\">\n                <NInput\n                  value={configs.value.url.wsUrl}\n                  onInput={(e) => void (configs.value.url.wsUrl = e)}\n                ></NInput>\n              </NFormItemGi>\n            </NGrid>\n          </NForm>\n        </NCollapseItem>\n        <NCollapseItem title=\"SEO 优化\" name=\"seo\">\n          <NForm {...formProps}>\n            <NFormItem label=\"网站标题\">\n              <NInput\n                {...autosizeableProps}\n                value={configs.value.seo.title}\n                onInput={(e) => void (configs.value.seo.title = e)}\n              ></NInput>\n            </NFormItem>\n\n            <NFormItem label=\"网站描述\">\n              <NInput\n                {...autosizeableProps}\n                value={configs.value.seo.description}\n                onInput={(e) => void (configs.value.seo.description = e)}\n              ></NInput>\n            </NFormItem>\n\n            <NFormItem label=\"关键字\">\n              <NDynamicTags\n                round\n                type=\"primary\"\n                value={configs.value.seo.keywords}\n                onChange={(e) => void (configs.value.seo.keywords = e)}\n              ></NDynamicTags>\n            </NFormItem>\n          </NForm>\n        </NCollapseItem>\n\n        <NCollapseItem title=\"评论设置\" name=\"comment\">\n          <NForm {...formProps}>\n            <NFormItem label=\"反垃圾评论\">\n              <NSwitch\n                value={configs.value.commentOptions.antiSpam}\n                onUpdateValue={(e) =>\n                  void (configs.value.commentOptions.antiSpam = e)\n                }\n              ></NSwitch>\n            </NFormItem>\n\n            <NFormItem label=\"自定义屏蔽关键词\">\n              <NDynamicTags\n                disabled={!configs.value.commentOptions.antiSpam}\n                value={configs.value.commentOptions.spamKeywords}\n                onUpdateValue={(e) =>\n                  void (configs.value.commentOptions.spamKeywords = e)\n                }\n                type=\"primary\"\n              ></NDynamicTags>\n            </NFormItem>\n\n            <NFormItem label=\"自定义屏蔽 IP\">\n              <NDynamicTags\n                disabled={!configs.value.commentOptions.antiSpam}\n                value={configs.value.commentOptions.blockIps}\n                onUpdateValue={(e) =>\n                  void (configs.value.commentOptions.blockIps = e)\n                }\n              ></NDynamicTags>\n            </NFormItem>\n          </NForm>\n        </NCollapseItem>\n\n        <NCollapseItem title=\"评论回复设置\" name=\"reply\">\n          <NForm {...formProps}>\n            <NFormItem label=\"开启评论邮箱提醒\">\n              <NSwitch\n                value={configs.value.mailOptions.enable}\n                onUpdateValue={(e) =>\n                  void (configs.value.mailOptions.enable = e)\n                }\n              />\n            </NFormItem>\n            <NGrid cols={gridCols.value} xGap={12}>\n              <NFormItemGi span={1} label=\"发件邮箱 host\">\n                <NInput\n                  value={configs.value.mailOptions.options.host}\n                  onInput={(e) =>\n                    void (configs.value.mailOptions.options.host = e)\n                  }\n                />\n              </NFormItemGi>\n              <NFormItemGi span={1} label=\"发件邮箱端口\">\n                <NInputNumber\n                  value={configs.value.mailOptions.options.port}\n                  onChange={(e) =>\n                    void (configs.value.mailOptions.options.port = e ?? 465)\n                  }\n                />\n              </NFormItemGi>\n              <NFormItemGi span={1} label=\"发件邮箱地址\">\n                <NInput\n                  value={configs.value.mailOptions.user}\n                  onInput={(e) => void (configs.value.mailOptions.user = e)}\n                />\n              </NFormItemGi>\n              <NFormItemGi span={1} label=\"发件邮箱密码\">\n                <NInput\n                  type=\"password\"\n                  showPasswordToggle\n                  inputProps={{\n                    name: 'email-password',\n                    autocomplete: 'off',\n                    autocapitalize: 'off',\n                    autocorrect: 'off',\n                  }}\n                  value={configs.value.mailOptions.pass}\n                  onInput={(e) => void (configs.value.mailOptions.pass = e)}\n                />\n              </NFormItemGi>\n            </NGrid>\n          </NForm>\n        </NCollapseItem>\n\n        <NCollapseItem name=\"img_bed\" title=\"图床设定\">\n          <NForm {...formProps}>\n            <NText>\n              {/* TODO */}\n              TODO\n            </NText>\n          </NForm>\n        </NCollapseItem>\n\n        <NCollapseItem name=\"backup\" title=\"备份\">\n          <NForm {...formProps}>\n            <NFormItem label=\"开启备份\">\n              <NSpace vertical>\n                <NSwitch\n                  value={configs.value.backupOptions.enable}\n                  onUpdateValue={(e) =>\n                    void (configs.value.backupOptions.enable = e)\n                  }\n                />\n                <NText class=\"text-xs\" depth={3}>\n                  仅支持备份到 COS\n                </NText>\n              </NSpace>\n            </NFormItem>\n\n            <NFormItem label=\"地域 Region\">\n              <NInput\n                {...autosizeableProps}\n                value={configs.value.backupOptions.region}\n                onInput={(e) => void (configs.value.backupOptions.region = e)}\n              />\n            </NFormItem>\n            <NFormItem label=\"SecretId\">\n              <NInput\n                {...autosizeableProps}\n                value={configs.value.backupOptions.secretId}\n                onInput={(e) => void (configs.value.backupOptions.secretId = e)}\n              />\n            </NFormItem>\n            <NFormItem label=\"SecretKey\">\n              <NInput\n                {...autosizeableProps}\n                type=\"password\"\n                inputProps={{\n                  name: 'secret-key-password',\n                  autocomplete: 'off',\n                  autocapitalize: 'off',\n                  autocorrect: 'off',\n                }}\n                showPasswordToggle\n                value={configs.value.backupOptions.secretKey}\n                onInput={(e) =>\n                  void (configs.value.backupOptions.secretKey = e)\n                }\n              />\n            </NFormItem>\n          </NForm>\n        </NCollapseItem>\n\n        <NCollapseItem name=\"baidu_push\" title=\"百度推送\">\n          <NForm {...formProps}>\n            <NFormItem label=\"开启推送\">\n              <NSwitch\n                value={configs.value.baiduSearchOptions.enable}\n                onUpdateValue={(e) =>\n                  void (configs.value.baiduSearchOptions.enable = e)\n                }\n              />\n            </NFormItem>\n            <NFormItem label=\"Token\" path=\"baidu_push\">\n              <NInput\n                {...autosizeableProps}\n                showPasswordToggle\n                type=\"password\"\n                inputProps={{\n                  name: 'baidu-push-password',\n                  autocomplete: 'off',\n                  autocapitalize: 'off',\n                  autocorrect: 'off',\n                }}\n                disabled={!configs.value.baiduSearchOptions.enable}\n                value={configs.value.baiduSearchOptions.token}\n                onUpdateValue={(e) =>\n                  void (configs.value.baiduSearchOptions.token = e)\n                }\n              />\n            </NFormItem>\n          </NForm>\n        </NCollapseItem>\n      </NCollapse>\n    </Fragment>\n  )\n})\n\nfunction mergeFullConfigs(configs: any): IConfig {\n  return merge<IConfig, IConfig>(\n    {\n      seo: { title: '', description: '', keywords: [] },\n      url: {\n        wsUrl: '',\n        adminUrl: '',\n        serverUrl: '',\n        webUrl: '',\n      },\n      imageBed: {\n        customUrl: '',\n        repo: '',\n        token: '',\n        type: 'github',\n      },\n      mailOptions: {\n        user: '',\n        pass: '',\n        options: { host: '', port: 465 },\n        enable: false,\n      },\n      commentOptions: {\n        antiSpam: false,\n        spamKeywords: [],\n        blockIps: [],\n      },\n      backupOptions: {\n        enable: false,\n        secretId: '',\n        secretKey: '',\n        bucket: '',\n        region: '',\n      },\n      baiduSearchOptions: {\n        enable: false,\n        token: '',\n      },\n    },\n    configs,\n  )\n}\n","import Plus from '@vicons/fa/es/Plus'\nimport { Icon } from '@vicons/utils'\nimport { RelativeTime } from 'components/time/relative-time'\nimport { TokenModel } from 'models/token'\nimport {\n  NButton,\n  NCard,\n  NCollapse,\n  NCollapseItem,\n  NDataTable,\n  NDatePicker,\n  NForm,\n  NFormItem,\n  NInput,\n  NLayoutContent,\n  NModal,\n  NPopconfirm,\n  NSpace,\n  NSwitch,\n  NText,\n} from 'naive-ui'\nimport { RouteName } from 'router/name'\nimport { parseDate, removeToken, RESTManager } from 'utils'\nimport { defineComponent, onBeforeMount, reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useSystemHeaderAction } from '..'\nimport { autosizeableProps } from './system'\n\nexport const TabSecurity = defineComponent(() => {\n  const headerRef = useSystemHeaderAction()\n\n  return () => (\n    <Fragment>\n      <div class=\"pt-4\"></div>\n      <NCollapse defaultExpandedNames={['reset']} displayDirective=\"if\">\n        <NCollapseItem name=\"reset\" title=\"修改密码\">\n          <ResetPass />\n        </NCollapseItem>\n\n        <NCollapseItem name=\"token\" title=\"API Token\">\n          <ApiToken />\n        </NCollapseItem>\n      </NCollapse>\n    </Fragment>\n  )\n})\n\nconst ApiToken = defineComponent(() => {\n  const tokens = ref([] as TokenModel[])\n\n  const defaultModel = () => ({\n    name: '',\n    expired: false,\n    expiredTime: new Date(),\n  })\n  const dataModel = reactive(defaultModel())\n  const fetchToken = async () => {\n    const { data } = (await RESTManager.api.auth.token.get()) as any\n    tokens.value = data\n  }\n\n  onBeforeMount(() => {\n    fetchToken()\n  })\n  const newTokenDialogShow = ref(false)\n  const newToken = async () => {\n    const payload = {\n      name: dataModel.name,\n      expired: dataModel.expired\n        ? dataModel.expiredTime.toISOString()\n        : undefined,\n    }\n\n    const response = (await RESTManager.api.auth.token.post({\n      data: payload,\n    })) as TokenModel\n\n    await navigator.clipboard.writeText(response.token)\n\n    newTokenDialogShow.value = false\n    const n = defaultModel()\n    for (const key in n) {\n      dataModel[key] = n[key]\n    }\n    message.success('生成成功, Token 已复制, ' + response.token)\n    await fetchToken()\n    // Backend bug.\n    const index = tokens.value.findIndex((i) => i.name === payload.name)\n    if (index !== -1) {\n      tokens.value[index].token = response.token\n    }\n  }\n\n  const onDeleteToken = async (id) => {\n    await RESTManager.api.auth.token.delete({ params: { id } })\n    message.success('删除成功')\n    const index = tokens.value.findIndex((i) => i.id === id)\n    if (index != -1) {\n      tokens.value.splice(index, 1)\n    }\n  }\n  return () => (\n    <NLayoutContent class=\"!overflow-visible\">\n      <NModal\n        show={newTokenDialogShow.value}\n        onUpdateShow={(e) => void (newTokenDialogShow.value = e)}\n      >\n        <NCard bordered={false} title=\"创建 Token\" class=\"max-w-full w-[500px]\">\n          <NForm>\n            <NFormItem label=\"名称\" required>\n              <NInput\n                value={dataModel.name}\n                onInput={(e) => void (dataModel.name = e)}\n              ></NInput>\n            </NFormItem>\n\n            <NFormItem label=\"是否过期\">\n              <NSwitch\n                value={dataModel.expired}\n                onUpdateValue={(e) => void (dataModel.expired = e)}\n              ></NSwitch>\n            </NFormItem>\n\n            <NFormItem label=\"过期时间\">\n              <NDatePicker\n                disabled={!dataModel.expired}\n                // @ts-expect-error\n                value={dataModel.expiredTime}\n                type=\"datetime\"\n                onUpdateValue={(e) =>\n                  void (dataModel.expiredTime = new Date(e))\n                }\n              ></NDatePicker>\n            </NFormItem>\n          </NForm>\n          <NSpace>\n            <NButton\n              round\n              onClick={() => void (newTokenDialogShow.value = false)}\n            >\n              取消\n            </NButton>\n            <NButton round type=\"primary\" onClick={newToken}>\n              确定\n            </NButton>\n          </NSpace>\n        </NCard>\n      </NModal>\n\n      <NButton\n        class=\"absolute right-0 top-[-3rem]\"\n        round\n        type=\"primary\"\n        onClick={() => {\n          newTokenDialogShow.value = true\n        }}\n      >\n        <Icon>\n          <Plus />\n        </Icon>\n        <span class=\"ml-2\">新增</span>\n      </NButton>\n      <NDataTable\n        remote\n        bordered={false}\n        data={tokens.value}\n        columns={[\n          { key: 'name', title: '名称' },\n          {\n            key: 'token',\n            title: 'Token',\n            render({ token }) {\n              return token ?? '*'.repeat(40)\n            },\n          },\n          {\n            title: '创建时间',\n            key: 'created',\n            render({ created }) {\n              return <RelativeTime time={created} />\n            },\n          },\n          {\n            title: '过期时间',\n            key: 'expired',\n            render({ expired }) {\n              return parseDate(expired, 'yyyy年M月d日 HH:mm:ss')\n            },\n          },\n          {\n            title: '操作',\n            key: 'id',\n            render({ id, name }) {\n              return (\n                <NSpace>\n                  <NPopconfirm\n                    positiveText={'取消'}\n                    negativeText=\"删除\"\n                    onNegativeClick={() => {\n                      onDeleteToken(id)\n                    }}\n                  >\n                    {{\n                      trigger: () => (\n                        <NButton text type=\"error\">\n                          删除\n                        </NButton>\n                      ),\n\n                      default: () => (\n                        <span style={{ maxWidth: '12rem' }}>\n                          确定要删除 Token \"{name}\"?\n                        </span>\n                      ),\n                    }}\n                  </NPopconfirm>\n                </NSpace>\n              )\n            },\n          },\n        ]}\n      ></NDataTable>\n    </NLayoutContent>\n  )\n})\nconst ResetPass = defineComponent(() => {\n  const resetPassword = reactive({\n    password: '',\n    reenteredPassword: '',\n  })\n  const formRef = ref<typeof NForm>()\n  const router = useRouter()\n  const reset = async () => {\n    if (!formRef.value) {\n      return\n    }\n\n    formRef.value.validate(async (err) => {\n      if (!err) {\n        await RESTManager.api.master.patch({\n          data: {\n            password: resetPassword.password,\n          },\n        })\n        message.success('更改成功')\n        removeToken()\n        router.push({ name: RouteName.Login })\n      } else {\n        console.log(err)\n      }\n    })\n  }\n\n  function validatePasswordSame(rule, value) {\n    console.log(rule)\n\n    return value === resetPassword.password\n  }\n\n  return () => (\n    <NForm\n      class=\"max-w-[300px]\"\n      ref={formRef}\n      model={resetPassword}\n      rules={{\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n          },\n        ],\n        reenteredPassword: [\n          {\n            required: true,\n            message: '请再次输入密码',\n            trigger: ['input', 'blur'],\n          },\n          {\n            validator: validatePasswordSame,\n            message: '两次密码输入不一致',\n            trigger: ['blur', 'password-input'],\n          },\n        ],\n      }}\n    >\n      <NFormItem label=\"新密码\" required path=\"password\">\n        <NInput\n          {...autosizeableProps}\n          value={resetPassword.password}\n          onInput={(e) => void (resetPassword.password = e)}\n          type=\"password\"\n        />\n      </NFormItem>\n      <NFormItem label=\"重复密码\" required path=\"reenteredPassword\">\n        <NInput\n          {...autosizeableProps}\n          value={resetPassword.reenteredPassword}\n          onInput={(e) => void (resetPassword.reenteredPassword = e)}\n          type=\"password\"\n        />\n      </NFormItem>\n      <div class=\"w-full text-right\">\n        <NButton onClick={reset} type=\"primary\" round>\n          保存\n        </NButton>\n      </div>\n    </NForm>\n  )\n})\n","import Avatar from 'components/avatar'\nimport { IpInfoPopover } from 'components/ip-info'\nimport { RelativeTime } from 'components/time/relative-time'\nimport { omit, isEmpty } from 'lodash-es'\nimport { UserModel } from 'models/user'\nimport {\n  NButton,\n  NForm,\n  NFormItem,\n  NGi,\n  NGrid,\n  NInput,\n  NText,\n  useMessage,\n} from 'naive-ui'\nimport { RESTManager, shallowDiff } from 'utils'\nimport { defineComponent, ref, onMounted, computed } from 'vue'\nimport styles from './user.module.css'\n\nexport const TabUser = defineComponent(() => {\n  const data = ref({} as UserModel)\n  let origin: UserModel\n\n  async function fetchMaster() {\n    const response = (await RESTManager.api.master.get()) as any\n    data.value = omit(response, ['ok']) as any\n    origin = { ...response }\n  }\n\n  onMounted(async () => {\n    await fetchMaster()\n  })\n  const message = useMessage()\n  const diff = computed(() => shallowDiff(origin, data.value))\n  const handleSave = async () => {\n    await RESTManager.api.master.patch({\n      data: diff.value,\n    })\n    message.success('保存成功~')\n    await fetchMaster()\n  }\n  return () => (\n    <Fragment>\n      <NGrid cols={2} class={styles['tab-user']} xGap={20} yGap={20}>\n        <NGi>\n          <NForm class=\"flex flex-col justify-center items-center \">\n            <NFormItem>\n              <div class={styles['avatar']}>\n                <Avatar src={data.value.avatar} size={200}></Avatar>\n              </div>\n            </NFormItem>\n\n            <NFormItem label=\"上次登陆时间\" class=\"!mt-4\">\n              <div class=\"text-center w-full\">\n                <NText>\n                  {data.value.lastLoginTime ? (\n                    <RelativeTime\n                      time={data.value.lastLoginTime}\n                    ></RelativeTime>\n                  ) : (\n                    'N/A'\n                  )}\n                </NText>\n              </div>\n            </NFormItem>\n\n            <NFormItem label=\"上次登陆地址\">\n              <div class=\"text-center w-full\">\n                {data.value.lastLoginIp ? (\n                  <IpInfoPopover\n                    trigger={'hover'}\n                    ip={data.value.lastLoginIp}\n                    triggerEl={\n                      <NText class=\"cursor-pointer\">\n                        {data.value.lastLoginIp}\n                      </NText>\n                    }\n                  ></IpInfoPopover>\n                ) : (\n                  'N/A'\n                )}\n              </div>\n            </NFormItem>\n\n            <NFormItem>\n              <NButton\n                round\n                class=\"-mt-14\"\n                type=\"primary\"\n                onClick={handleSave}\n                disabled={isEmpty(diff.value)}\n              >\n                保存\n              </NButton>\n            </NFormItem>\n          </NForm>\n        </NGi>\n\n        <NGi>\n          <NForm>\n            <NFormItem label=\"主人名 (username)\">\n              <NInput\n                value={data.value.username}\n                onInput={(e) => {\n                  data.value.username = e\n                }}\n              />\n            </NFormItem>\n\n            <NFormItem label=\"主人昵称 (name)\">\n              <NInput\n                value={data.value.name}\n                onInput={(e) => {\n                  data.value.name = e\n                }}\n              />\n            </NFormItem>\n\n            <NFormItem label=\"主人邮箱 (mail)\">\n              <NInput\n                value={data.value.mail}\n                onInput={(e) => {\n                  data.value.mail = e\n                }}\n              />\n            </NFormItem>\n\n            <NFormItem label=\"个人首页\">\n              <NInput\n                value={data.value.url}\n                onInput={(e) => {\n                  data.value.url = e\n                }}\n              />\n            </NFormItem>\n            <NFormItem label=\"头像\">\n              <NInput\n                value={data.value.avatar}\n                onInput={(e) => {\n                  data.value.avatar = e\n                }}\n              />\n            </NFormItem>\n\n            <NFormItem label=\"个人介绍\">\n              <NInput\n                value={data.value.introduce}\n                onInput={(e) => {\n                  data.value.introduce = e\n                }}\n              />\n            </NFormItem>\n          </NForm>\n        </NGi>\n      </NGrid>\n    </Fragment>\n  )\n})\n","import { ContentLayout } from 'layouts/content'\nimport { NTabPane, NTabs } from 'naive-ui'\nimport { defineComponent, inject, provide, Ref, ref, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { TabSecurity } from './tabs/security'\nimport { TabSystem } from './tabs/system'\nimport { TabUser } from './tabs/user'\n\nconst HeaderActionInjectKey = Symbol('tab')\nexport const useSystemHeaderAction = (): Ref<JSX.Element | null> =>\n  inject(HeaderActionInjectKey) as any\nenum SettingTab {\n  User = 'user',\n  System = 'system',\n  Security = 'security',\n}\nexport default defineComponent({\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const tabValue = ref(route.params.type as string)\n\n    watch(\n      () => route.params.type,\n      (n) => {\n        if (!n) {\n          return\n        }\n        tabValue.value = n as any\n      },\n    )\n    const headerActionsEl = ref<null | JSX.Element>(null)\n    provide(HeaderActionInjectKey, headerActionsEl)\n    return () => (\n      <ContentLayout actionsElement={headerActionsEl.value}>\n        <NTabs\n          value={tabValue.value}\n          onUpdateValue={(e) => {\n            router.replace({ ...route, params: { ...route.params, type: e } })\n          }}\n        >\n          <NTabPane tab=\"用户\" name={SettingTab.User}>\n            <TabUser />\n          </NTabPane>\n\n          <NTabPane tab=\"系统\" name={SettingTab.System}>\n            <TabSystem />\n          </NTabPane>\n\n          <NTabPane tab=\"安全\" name={SettingTab.Security}>\n            <TabSecurity />\n          </NTabPane>\n        </NTabs>\n      </ContentLayout>\n    )\n  },\n})\n"],"names":["Object","defineProperty","CheckCircleOutlined","value","vue_1","require$$0","_hoisted_1","xmlns","viewBox","_hoisted_2","createVNode","d","fill","_hoisted_3","defineComponent","name","render","_ctx","_cache","openBlock","createBlock","NFormBaseProps","class","labelPlacement","labelAlign","labelWidth","autosizeableProps","autosize","clearable","style","TabSystem","headerRef","useSystemHeaderAction","HeaderActionButton","disabled","onClick","save","icon","originConfigs","configs","ref","mergeFullConfigs","diff","isEmpty","entries","key","RESTManager","api","options","patch","data","keywords","seo","fetchConfig","success","n","deepDiff","toRaw","deep","canSave","async","response","get","omit","cloneDeep","expandedNames","uiStore","useInjector","UIStore","gridCols","computed","viewport","mobile","formProps","reactive","Fragment","NCollapse","accordion","displayDirective","onUpdateExpandedNames","e","NCollapseItem","title","NForm","NGrid","cols","xGap","NFormItemGi","span","label","NInput","url","webUrl","onInput","serverUrl","adminUrl","wsUrl","NFormItem","description","NDynamicTags","round","type","onChange","NSwitch","commentOptions","antiSpam","onUpdateValue","spamKeywords","blockIps","mailOptions","enable","host","NInputNumber","port","user","showPasswordToggle","inputProps","autocomplete","autocapitalize","autocorrect","pass","NText","NSpace","vertical","backupOptions","depth","region","secretId","secretKey","baiduSearchOptions","path","token","merge","imageBed","customUrl","repo","bucket","TabSecurity","defaultExpandedNames","ResetPass","ApiToken","tokens","defaultModel","expired","expiredTime","Date","dataModel","fetchToken","auth","newTokenDialogShow","newToken","payload","toISOString","post","navigator","clipboard","writeText","index2","findIndex","i","NLayoutContent","NModal","show","onUpdateShow","NCard","bordered","required","NDatePicker","NButton","Icon","Plus","NDataTable","remote","columns","repeat","created","RelativeTime","time","parseDate","id","NPopconfirm","positiveText","negativeText","onNegativeClick","delete","params","splice","trigger","text","default","maxWidth","resetPassword","password","reenteredPassword","formRef","router","useRouter","reset","validate","err","log","master","push","RouteName","Login","rule","model","rules","message","validator","validatePasswordSame","TabUser","origin","fetchMaster","message2","useMessage","shallowDiff","handleSave","styles","yGap","NGi","Avatar","src","avatar","size","lastLoginTime","lastLoginIp","IpInfoPopover","ip","triggerEl","username","mail","introduce","HeaderActionInjectKey","Symbol","inject","SettingTab","SettingTab2","setup","route","useRoute","tabValue","headerActionsEl","ContentLayout","actionsElement","NTabs","replace","NTabPane","tab","User","System","Security"],"mappings":"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"}