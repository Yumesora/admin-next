{"version":3,"file":"relative-time-a061f57d-cdc6fad.js","sources":["../src/components/time/relative-time.tsx"],"sourcesContent":["import { NPopover } from 'naive-ui'\nimport { parseDate, relativeTimeFromNow } from 'utils/time'\nimport { defineComponent, onMounted, onUnmounted, ref } from 'vue'\n\nconst _RelativeTime = defineComponent({\n  props: {\n    time: {\n      type: [String, Date],\n      required: true,\n    },\n  },\n  setup(props) {\n    const time = ref(relativeTimeFromNow(props.time))\n    let timer: ReturnType<typeof setInterval> | undefined | void\n    onMounted(() => {\n      timer = setInterval(() => {\n        time.value = relativeTimeFromNow(props.time)\n      }, 1000)\n    })\n\n    onUnmounted(() => {\n      timer && (timer = clearInterval(timer))\n    })\n\n    return () => time.value\n  },\n})\n\nexport const RelativeTime = defineComponent({\n  props: {\n    time: {\n      type: [String, Date],\n      required: true,\n    },\n    showPopoverInfoAbsoluteTime: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup(props) {\n    return () =>\n      props.showPopoverInfoAbsoluteTime ? (\n        <NPopover trigger=\"hover\">\n          {{\n            trigger() {\n              return (\n                <span>\n                  <_RelativeTime time={props.time} />\n                </span>\n              )\n            },\n            default() {\n              return parseDate(props.time, 'yyyy年M月d日 HH:mm:ss')\n            },\n          }}\n        </NPopover>\n      ) : (\n        <_RelativeTime time={props.time} />\n      )\n  },\n})\n"],"names":["_RelativeTime","defineComponent","props","time","type","String","Date","required","setup","ref","relativeTimeFromNow","timer","setInterval","value","clearInterval","RelativeTime","showPopoverInfoAbsoluteTime","Boolean","default","NPopover","trigger","parseDate"],"mappings":"kIAIA,MAAMA,EAAgBC,EAAgB,CACpCC,MAAO,CACLC,KAAM,CACJC,KAAM,CAACC,OAAQC,MACfC,UAAU,IAGdC,MAAMN,SACEC,EAAOM,EAAIC,EAAoBR,EAAMC,WACvCQ,YACM,OACAC,aAAY,OACbC,MAAQH,EAAoBR,EAAMC,QACtC,WAGO,WACQW,cAAcH,OAG3B,IAAMR,EAAKU,SAITE,EAAed,EAAgB,CAC1CC,MAAO,CACLC,KAAM,CACJC,KAAM,CAACC,OAAQC,MACfC,UAAU,GAEZS,4BAA6B,CAC3BZ,KAAMa,QACNC,SAAS,IAGbV,MAAMN,GACG,IACLA,EAAMc,8BACHG,EAAD,CAAUC,QAAQ,SACf,CACCA,cAEK,OAAD,OACGpB,EAAD,CAAeG,KAAMD,EAAMC,QAIjCe,YACSG,EAAUnB,EAAMC,KAAM,0BAKlCH,EAAD,CAAeG,KAAMD,EAAMC"}