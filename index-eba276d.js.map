{"version":3,"file":"index-eba276d.js","sources":["../src/utils/event-bus.ts","../vite/preload-helper","../src/layouts/router-view.tsx","../src/configs.ts","../src/utils/auth.ts","../src/stores/user.ts","../src/utils/build-menus.ts","../src/hooks/use-deps-injection.ts","../src/components/avatar/index.vue","../src/constants/env.ts","../src/stores/ui.ts","../src/components/sidebar/index.tsx","../src/layouts/sidebar/index.tsx","../src/components/ip-info/index.tsx","../src/external/api/hitokoto.ts","../src/layouts/content/index.tsx","../src/router/name.ts","../src/utils/time.ts","../src/views/dashboard/index.tsx","../src/external/api/jinrishici.ts","../src/components/button/parallax-button.vue","../src/views/login/index.vue","../src/router/route.tsx","../src/router/router.ts","../src/utils/rest.ts","../src/stores/category.ts","../src/App.tsx","../src/router/guard.ts","../src/main.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/*\n * @Author: Innei\n * @Date: 2020-05-23 14:31:11\n * @LastEditTime: 2021-01-09 12:37:37\n * @LastEditors: Innei\n * @FilePath: /web/utils/observable.ts\n * @MIT\n */\n\nimport { EventTypes } from 'socket/types'\n\nexport class EventBus {\n  private observers: Record<string, Function[]> = {}\n\n  on(event: EventTypes, handler: any): void\n  on(event: string, handler: any): void\n  on(event: string, handler: (...rest: any) => void) {\n    const queue = this.observers[event]\n    if (!queue) {\n      this.observers[event] = [handler]\n      return\n    }\n    const isExist = queue.some((func) => {\n      return func === handler\n    })\n    if (!isExist) {\n      this.observers[event].push(handler)\n    }\n  }\n\n  emit(event: string, payload?: any): void\n  emit(event: EventTypes, payload?: any): void\n  emit(event: EventTypes, payload?: any) {\n    const queue = this.observers[event]\n    if (!queue) {\n      return\n    }\n    for (const func of queue) {\n      func.call(this, payload)\n    }\n  }\n\n  off(event: string, handler?: (...rest: any) => void) {\n    const queue = this.observers[event]\n    if (!queue) {\n      return\n    }\n\n    if (handler) {\n      const index = queue.findIndex((func) => {\n        return func === handler\n      })\n      if (index !== -1) {\n        queue.splice(index, 1)\n      }\n    } else {\n      queue.length = 0\n    }\n  }\n}\nexport const bus = new EventBus()\n","let scriptRel;const seen = {};const base = 'https://cdn.jsdelivr.net/gh/mx-space/admin-next@gh-pages/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    // @ts-ignore\n    if (scriptRel === undefined) {\n        // @ts-ignore\n        const relList = document.createElement('link').relList;\n        // @ts-ignore\n        scriptRel =\n            relList && relList.supports && relList.supports('modulepreload')\n                ? 'modulepreload'\n                : 'preload';\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","import { defineComponent } from 'vue'\nimport { NSpin } from 'naive-ui'\n\nimport { Suspense, VNode } from 'vue'\nimport { RouteLocation, RouterView } from 'vue-router'\nconst $RouterView = defineComponent({\n  setup() {\n    return () => (\n      <RouterView>\n        {{\n          default({ Component }: { Component: VNode; route: RouteLocation }) {\n            return (\n              <Suspense>\n                {{\n                  default: () => Component,\n\n                  fallback() {\n                    return () => (\n                      <div class=\"fixed left-1/2 top-1/2 transform text-primary-default -translate-y-1/2 -translate-x-1/2\">\n                        <NSpin strokeWidth={14} show rotate />\n                      </div>\n                    )\n                  },\n                }}\n              </Suspense>\n            )\n          },\n        }}\n      </RouterView>\n    )\n  },\n})\nexport default $RouterView\n","export const configs = {\n  title: '静かな森',\n  ipv6LoopupApiUrl:\n    import.meta.env.VITE_APP_IPV6_LOOKUP_API_URL ?? 'http://ip-api.com/json/',\n  amapKey: import.meta.env.VITE_APP_GAODEMAP_KEY ?? '',\n}\n","import Cookies from 'js-cookie'\n\nconst TokenKey = 'mx-admin-token'\n\nexport function getToken(): string | null {\n  return Cookies.get(TokenKey)\n    ? JSON.parse(Cookies.get(TokenKey) as string)\n    : null\n}\n\nexport function setToken(token: string, expires: number | Date) {\n  if (!token) {\n    return\n  }\n  return Cookies.set(TokenKey, JSON.stringify(token), { expires })\n}\n\nexport function removeToken() {\n  return Cookies.remove(TokenKey)\n}\n","import { ref } from 'vue'\nimport { UserModel } from '../models/user'\nimport { getToken, setToken } from '../utils/auth'\nimport { RESTManager } from '../utils/rest'\n\nexport function UserStore() {\n  const user = ref<UserModel | null>(null)\n  const token = ref<string>('')\n\n  const $token = getToken()\n  if ($token) {\n    token.value = $token\n  }\n\n  return {\n    user,\n    token,\n\n    async fetchUser() {\n      const $user = await RESTManager.api.master.get<UserModel>()\n      user.value = $user\n    },\n\n    updateToken($token: string) {\n      if ($token) {\n        setToken($token, 7)\n      }\n\n      token.value = $token\n    },\n  }\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport { RouteRecordNormalized } from 'vue-router'\n\ntype TRouteRecordNormalized = Omit<RouteRecordNormalized, 'meta'> & {\n  meta?: {\n    query?: KV\n    params?: KV\n    icon: JSX.Element\n    title?: string\n    hide?: boolean\n    [key: string]: any\n  }\n}\nexport interface MenuModel {\n  title: string\n  path: string\n  icon: any\n  subItems?: Array<MenuModel>\n  hasParent: boolean\n  fullPath: string\n  query?: any\n}\n\nconst parsePath = (path: string, params?: KV) => {\n  // 1. add slash\n  let n = /^\\//.test(path) ? path : '/' + path\n\n  // 2. replace default params into path\n  const hasParams = n.match(/(\\/?:)/)\n  if (!hasParams) {\n    return n\n  }\n  if (!params || Object.prototype.toString.call(params) !== '[object Object]') {\n    throw new TypeError('params must be object')\n  }\n  for (const paramKey in params) {\n    n = n.replaceAll(':' + paramKey, params[paramKey])\n  }\n  return n\n}\n\nconst buildModel = (\n  item: TRouteRecordNormalized,\n  hasParent: boolean,\n  prevPath: string,\n): MenuModel => {\n  const path = parsePath(item.path, item.meta?.params)\n\n  const fullPath = prevPath + '/' + path\n\n  return {\n    title: (item.meta?.title as string) || item.name?.toString() || path,\n    path: path,\n    icon: item.meta?.icon as any,\n    subItems: buildSubMenus(item, fullPath),\n    hasParent,\n    fullPath: fullPath.replaceAll('//', '/'),\n    query: item.meta?.query,\n  }\n}\nfunction buildSubMenus(route: TRouteRecordNormalized, prevPath = '') {\n  if (Array.isArray(route.children)) {\n    return route.children\n      .filter((item) => {\n        if (!item.meta) {\n          return true\n        }\n        return item.meta.hide !== true\n      })\n      .map((item) => {\n        return buildModel(item as TRouteRecordNormalized, true, prevPath)\n      })\n  } else {\n    return []\n  }\n}\n\nexport const buildMenus = (\n  routes: Array<TRouteRecordNormalized>,\n): MenuModel[] =>\n  (\n    routes.find((item) => item.name === 'home' && item.path === '/') as any\n  ).children\n    .filter(\n      (item: TRouteRecordNormalized) =>\n        item.path !== '*' && item.meta?.hide !== true,\n    )\n    .map((item: TRouteRecordNormalized) => {\n      return buildModel(item, false, '')\n    })\n","import { camelCase } from 'lodash-es'\nimport { provide, inject } from 'vue'\n//定义一个用于状态共享的hook函数的标准接口\nexport interface FunctionalStore<T extends object> {\n  (...args: any[]): T\n  token?: symbol\n  root?: T\n}\n\n//对原生provide进行封装\n\n//由于inject函数只会从父组件开始查找，所以useProvider默认返回hook函数的调用结果，以防同组件层级需要使用\nexport function useProvider<T extends object>(func: FunctionalStore<T>): T {\n  !func.token && (func.token = Symbol('functional store'))\n  const depends = func()\n  provide(func.token, depends)\n  return depends\n}\n\n// 可以一次传入多个hook函数， 统一管理\nexport function useProviders(...funcs: FunctionalStore<any>[]) {\n  const stores = {} as any\n  funcs.forEach((func) => {\n    const deps = useProvider(func)\n    stores[camelCase(func.name)] = deps\n  })\n  return stores\n}\n\n//对原生inject进行封装\n\ntype InjectType = 'root' | 'optional'\n\n//接收第二个参数，'root'表示直接全局使用；optional表示可选注入，防止父组件的provide并未传入相关hook\nexport function useInjector<T extends object>(\n  func: FunctionalStore<T>,\n  type: 'optional',\n): T | null\nexport function useInjector<T extends object>(\n  func: FunctionalStore<T>,\n  type: 'root',\n): T\nexport function useInjector<T extends object>(func: FunctionalStore<T>): T\nexport function useInjector<T extends object>(\n  func: FunctionalStore<T>,\n  type?: InjectType,\n) {\n  const token = func.token as any\n  const root = func.root\n\n  switch (type) {\n    case 'optional':\n      return inject<T>(token) || func.root || null\n    case 'root':\n      if (!func.root) func.root = func()\n      return func.root\n    default:\n      if (inject(token)) {\n        return inject<T>(token)\n      }\n      if (root) return func.root\n      if (__DEV__) {\n        // vite reload bug\n        console.debug(\n          `状态钩子函数${func.name}未在上层组件通过调用useProvider提供`,\n        )\n        setTimeout(() => {\n          location.reload()\n        }, 50)\n      } else {\n        throw new Error(\n          `状态钩子函数${func.name}未在上层组件通过调用useProvider提供`,\n        )\n      }\n  }\n}\n","<template>\n  <div\n    class=\"avatar\"\n    :style=\"{ height: `${size}px`, width: `${size}px` }\"\n  >\n    <img\n      :src=\"src\"\n      alt=\"\"\n      :style=\"{ display: loaded ? '' : 'none' }\"\n    >\n    <div class=\"sr-only\">\n      一个头像\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, ref, watch } from 'vue'\n\nexport default defineComponent({\n  props: {\n    size: {\n      type: Number,\n      default: 50,\n    },\n    src: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const loaded = ref(false)\n\n    const preloadImage = () => {\n      const $$ = new Image()\n      $$.src = props.src\n\n      $$.onload = (e) => {\n        loaded.value = true\n      }\n    }\n    onMounted(() => {\n      preloadImage()\n    })\n\n    watch(\n      () => props.src,\n      () => {\n        preloadImage()\n      },\n    )\n\n    return {\n      loaded,\n    }\n  },\n})\n</script>\n\n<style lang=\"postcss\">\n.avatar {\n  @apply bg-gray$-default inline-block rounded-full relative overflow-hidden select-none;\n}\n.avatar img {\n  @apply rounded-full h-full max-w-full;\n\n  animation: scale 0.5s ease-out;\n}\n@keyframes scale {\n  0% {\n    transform: scale(0);\n  }\n  to {\n    transform: scale(1);\n  }\n}\n</style>\n","export const BASE_URL: string =\n  (import.meta.env.VITE_APP_WEB_URL as string) || 'http://localhost:2323'\n\n// export const __DEV__ = import.meta.env.DEV\n","/*\n * @Author: Innei\n * @Date: 2021-03-22 11:41:32\n * @LastEditTime: 2021-03-22 11:41:32\n * @LastEditors: Innei\n * @FilePath: /admin-next/src/stores/ui.ts\n * Mark: Coding with Love\n */\n\nimport { useDark, useToggle } from '@vueuse/core'\nimport { debounce } from 'lodash-es'\nimport { computed, onMounted, ref, watch } from 'vue'\n\nexport interface ViewportRecord {\n  w: number\n  h: number\n  mobile: boolean\n  pad: boolean\n  hpad: boolean\n  wider: boolean\n  widest: boolean\n  phone: boolean\n}\n\nexport function UIStore() {\n  const viewport = ref<ViewportRecord>({} as any)\n  const sidebarWidth = ref(250)\n  const sidebarCollapse = ref(viewport.value.mobile ? true : false)\n\n  const isDark = useDark()\n  const toggleDark = useToggle(isDark)\n\n  onMounted(() => {\n    const resizeHandler = debounce(updateViewport, 500, { trailing: true })\n    window.onresize = resizeHandler\n    updateViewport()\n  })\n  const updateViewport = () => {\n    const innerHeight = window.innerHeight\n    const width = document.documentElement.getBoundingClientRect().width\n    const { hpad, pad, mobile } = viewport.value\n\n    // 忽略移动端浏览器 上下滚动 导致的视图大小变化\n    if (\n      viewport.value.h &&\n      // chrome mobile delta == 56\n      Math.abs(innerHeight - viewport.value.h) < 80 &&\n      width === viewport.value.w &&\n      (hpad || pad || mobile)\n    ) {\n      return\n    }\n    viewport.value = {\n      w: width,\n      h: innerHeight,\n      mobile: window.screen.width <= 568 || window.innerWidth <= 568,\n      pad: window.innerWidth <= 768 && window.innerWidth > 568,\n      hpad: window.innerWidth <= 1024 && window.innerWidth > 768,\n      wider: window.innerWidth > 1024 && window.innerWidth < 1920,\n      widest: window.innerWidth >= 1920,\n\n      phone: window.innerWidth <= 768,\n    }\n  }\n\n  const contentWidth = computed(\n    () =>\n      viewport.value.w -\n      sidebarWidth.value +\n      (sidebarCollapse.value ? (viewport.value.mobile ? 50 : 100) : 0),\n  )\n\n  const contentInsetWidth = computed(\n    () =>\n      contentWidth.value -\n      parseInt(getComputedStyle(document.documentElement).fontSize) * 6,\n  )\n\n  watch(\n    () => isDark.value,\n    (isDark) => {\n      if (isDark) {\n        document.documentElement.classList.add('dark')\n      } else {\n        document.documentElement.classList.remove('dark')\n      }\n    },\n  )\n  return {\n    viewport,\n    contentWidth,\n    sidebarWidth,\n    contentInsetWidth,\n    sidebarCollapse,\n\n    isDark,\n    toggleDark,\n  }\n}\n","import { onClickOutside } from '@vueuse/core'\nimport Hamburger from '@vicons/ionicons5/es/Menu'\nimport { Icon } from '@vicons/utils'\nimport clsx from 'clsx'\nimport { computed, defineComponent, onMounted, PropType, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { configs } from '../../configs'\nimport { UserStore } from '../../stores/user'\nimport { buildMenus, MenuModel } from '../../utils/build-menus'\nimport { useInjector } from '../../hooks/use-deps-injection'\nimport { Avatar } from '../avatar'\nimport styles from './index.module.css'\nimport { NLayoutContent } from 'naive-ui'\nimport { BASE_URL } from 'constants/env'\nimport { UIStore } from 'stores/ui'\nexport const Sidebar = defineComponent({\n  name: 'SidebarComp',\n  props: {\n    collapse: {\n      type: Boolean,\n      required: true,\n    },\n    width: {\n      type: Number,\n      required: true,\n    },\n    onCollapseChange: {\n      type: Function as PropType<{ (status: boolean): void }>,\n      required: true,\n    },\n  },\n  setup(props) {\n    const router = useRouter()\n    const { user } = useInjector(UserStore)\n    const route = computed(() => router.currentRoute.value)\n    const menus = ref<MenuModel[]>([])\n    onMounted(() => {\n      // @ts-expect-error\n      menus.value = buildMenus(router.getRoutes())\n    })\n\n    const _index = ref(0)\n\n    function updateIndex(index: number) {\n      if (index === _index.value) {\n        _index.value = -1\n        return\n      }\n      _index.value = index\n    }\n\n    function handleRoute(item: MenuModel, index?: number) {\n      if (item.subItems?.length) {\n      } else {\n        // console.log(item.fullPath)\n\n        router.push({\n          path: item.fullPath,\n          query: item.query,\n        })\n        if (index) {\n          updateIndex(index)\n        }\n      }\n    }\n\n    const title = configs.title\n    const sidebarRef = ref<HTMLDivElement>()\n    const uiStore = useInjector(UIStore)\n    onClickOutside(sidebarRef, (event) => {\n      const v = uiStore.viewport\n      const isM = v.value.pad || v.value.mobile\n      if (isM) {\n        props.onCollapseChange(true)\n      }\n    })\n    return () => (\n      <div\n        class={clsx(styles['root'], props.collapse ? styles['collapse'] : null)}\n        style={{\n          width: !props.collapse && props.width ? props.width + 'px' : '',\n        }}\n        ref={sidebarRef}\n      >\n        <div\n          class={\n            'fixed left-0 top-0 h-screen overflow-hidden z-10 text-white ' +\n            styles['sidebar']\n          }\n        >\n          <div class={'title relative font-medium text-center text-2xl'}>\n            <h1 class=\"py-6\" style={{ display: props.collapse ? 'none' : '' }}>\n              {title}\n            </h1>\n            <button\n              class={styles['collapse-button']}\n              onClick={() => {\n                props.onCollapseChange(!props.collapse)\n              }}\n            >\n              <Icon>\n                <Hamburger />\n              </Icon>\n            </button>\n          </div>\n\n          <NLayoutContent class={styles['menu']} nativeScrollbar={false}>\n            <div class={styles['items']}>\n              {menus.value.map((item, index) => {\n                return (\n                  <div\n                    class={clsx(\n                      'py-2',\n                      route.value.fullPath === item.fullPath ||\n                        route.value.fullPath.startsWith(item.fullPath)\n                        ? styles['active']\n                        : '',\n\n                      styles['item'],\n                    )}\n                    data-path={item.fullPath}\n                  >\n                    <button\n                      key={item.title}\n                      class={'py-2 flex w-full items-center'}\n                      onClick={\n                        item.subItems?.length\n                          ? () => updateIndex(index)\n                          : () => handleRoute(item, index)\n                      }\n                    >\n                      <span\n                        style={{ flexBasis: '3rem' }}\n                        class=\"flex justify-center\"\n                      >\n                        {item.icon}\n                      </span>\n                      <span class={styles['item-title']}>{item.title}</span>\n                    </button>\n                    {item.subItems && (\n                      <ul\n                        class={clsx(\n                          'overflow-hidden  ' +\n                            (!!item.subItems.length ? styles['has-child'] : ''),\n                          _index.value === index ? styles['expand'] : '',\n                        )}\n                        style={{\n                          maxHeight:\n                            _index.value === index\n                              ? item.subItems.length * 3.5 + 'rem'\n                              : '0',\n                        }}\n                      >\n                        {item.subItems.map((child) => {\n                          return (\n                            <li\n                              key={child.path}\n                              // data-fullPath={child.fullPath}\n                              class={clsx(\n                                route.value.fullPath === child.fullPath ||\n                                  route.value.fullPath.startsWith(\n                                    child.fullPath,\n                                  )\n                                  ? styles['active']\n                                  : '',\n                                styles['item'],\n                              )}\n                            >\n                              <button\n                                onClick={() => handleRoute(child)}\n                                class={'flex w-full items-center py-4'}\n                              >\n                                <span\n                                  class=\"flex justify-center items-center\"\n                                  style={{ flexBasis: '3rem' }}\n                                >\n                                  {child.icon}\n                                </span>\n                                <span class={styles['item-title']}>\n                                  {child.title}\n                                </span>\n                              </button>\n                            </li>\n                          )\n                        })}\n                      </ul>\n                    )}\n                  </div>\n                )\n              })}\n            </div>\n          </NLayoutContent>\n\n          <button\n            class={clsx(\n              'bottom-bar flex space-x-2 items-center  transform translate-y-1/3 phone:hidden',\n              props.collapse ? 'px-8' : 'px-12',\n            )}\n            onClick={() => {\n              window.open(BASE_URL)\n            }}\n          >\n            <Avatar src={user.value?.avatar} size={40} />\n            {!props.collapse ? (\n              <span class=\"pl-12\">{user.value?.name}</span>\n            ) : null}\n          </button>\n          <button\n            class=\"hidden phone:flex w-full items-center justify-center absolute bottom-0 pb-4\"\n            onClick={() => {\n              window.open(BASE_URL)\n            }}\n          >\n            <Avatar src={user.value?.avatar} size={40} />\n          </button>\n        </div>\n      </div>\n    )\n  },\n})\n","import $RouterView from 'layouts/router-view'\nimport { NLayoutContent } from 'naive-ui'\nimport { computed, CSSProperties, defineComponent, watchEffect } from 'vue'\nimport { Sidebar } from '../../components/sidebar'\nimport { UIStore } from '../../stores/ui'\nimport { useInjector } from '../../hooks/use-deps-injection'\nimport styles from './index.module.css'\nexport const SidebarLayout = defineComponent({\n  name: 'SidebarLayout',\n\n  setup(props) {\n    const ui = useInjector(UIStore)\n\n    const collapse = ui.sidebarCollapse\n    const isLaptop = computed(\n      () => ui.viewport.value.mobile || ui.viewport.value.pad,\n    )\n    watchEffect(() => {\n      collapse.value = isLaptop.value ? true : false\n    })\n\n    const sidebarWidth = ui.sidebarWidth\n    return () => (\n      <div class={styles['root']}>\n        <Sidebar\n          collapse={collapse.value}\n          width={sidebarWidth.value}\n          onCollapseChange={(s) => {\n            collapse.value = s\n          }}\n        />\n\n        <NLayoutContent\n          embedded\n          nativeScrollbar={false}\n          class={styles['content']}\n          style={\n            {\n              left: !collapse.value ? sidebarWidth.value + 'px' : '100px',\n              pointerEvents:\n                isLaptop.value && !collapse.value ? 'none' : 'auto',\n            } as CSSProperties\n          }\n        >\n          <$RouterView />\n        </NLayoutContent>\n      </div>\n    )\n  },\n})\n","import camelcaseKeys from 'camelcase-keys'\nimport { configs } from 'configs'\nimport { NPopover, PopoverTrigger } from 'naive-ui'\nimport { defineComponent, PropType, ref } from 'vue'\n\nconst ipLocationCacheMap = new Map<string, IP>()\n\nexport const IpInfoPopover = defineComponent({\n  props: {\n    ip: {\n      type: String,\n      required: true,\n    },\n    triggerEl: {\n      type: [Object, Function] as PropType<(() => JSX.Element) | JSX.Element>,\n      required: true,\n    },\n    trigger: {\n      type: String as PropType<PopoverTrigger>,\n      default: 'click',\n    },\n  },\n  setup(props) {\n    const ipInfoText = ref('获取中..')\n    const setIpInfoText = (info: IP) => {\n      ipInfoText.value = `IP: ${info.ip}<br />\n      城市: ${\n        [info.countryName, info.regionName, info.cityName]\n          .filter(Boolean)\n          .join(' - ') || 'N/A'\n      }<br />\n      ISP: ${info.ispDomain || 'N/A'}<br />\n      组织: ${info.ownerDomain || 'N/A'}<br />\n      范围: ${info.range ? Object.values(info.range).join(' - ') : 'N/A'}\n      `\n    }\n    const resetIpInfoText = () => (ipInfoText.value = '获取中..')\n\n    const onIpInfoShow = async (show: boolean, ip: string) => {\n      if (!ip) {\n        return\n      }\n      if (show) {\n        if (ipLocationCacheMap.has(ip)) {\n          const ipInfo = ipLocationCacheMap.get(ip)!\n          setIpInfoText(ipInfo)\n          return\n        }\n        const isIPv6 = ip.split(':').length == 8\n        const apiUrl = isIPv6\n          ? configs.ipv6LoopupApiUrl\n          : 'https://api.i-meto.com/ip/v1/qqwry/'\n\n        const response = await fetch(apiUrl + ip)\n        const data = await response.json()\n        let camelData = camelcaseKeys(data, { deep: true }) as IP\n        if (isIPv6) {\n          const _data = camelData as any as IPv6\n          camelData = {\n            cityName: _data.city,\n            countryName: _data.country,\n            ip: _data.query,\n            ispDomain: _data.as,\n            ownerDomain: _data.org,\n            regionName: _data.regionName,\n          }\n        }\n        setIpInfoText(camelData)\n        ipLocationCacheMap.set(ip, camelData)\n      } else {\n        resetIpInfoText()\n      }\n    }\n\n    return () => (\n      <NPopover\n        trigger={props.trigger}\n        placement=\"top\"\n        onUpdateShow={async (show) => {\n          if (!props.ip) {\n            return\n          }\n          await onIpInfoShow(show, props.ip)\n        }}\n      >\n        {{\n          trigger() {\n            return typeof props.triggerEl == 'function'\n              ? props.triggerEl()\n              : props.triggerEl\n          },\n          default() {\n            return <div innerHTML={ipInfoText.value}></div>\n          },\n        }}\n      </NPopover>\n    )\n  },\n})\n\ninterface IP {\n  ip: string\n  countryName: string\n  regionName: string\n  cityName: string\n  ownerDomain: string\n  ispDomain: string\n  range?: {\n    from: string\n    to: string\n  }\n}\n\ninterface IPv6 {\n  status: string\n  country: string\n  countryCode: string\n  region: string\n  regionName: string\n  city: string\n  zip: string\n  lat: number\n  lon: number\n  timezone: string\n  isp: string\n  org: string\n  as: string\n  query: string\n}\n","export enum SentenceType {\n  '动画' = 'a',\n  '漫画' = 'b',\n  '游戏' = 'c',\n  '文学' = 'd',\n  '原创' = 'e',\n  '来自网络' = 'f',\n  '其他' = 'g',\n  '影视' = 'h',\n  '诗词' = 'i',\n  '网易云' = 'j',\n  '哲学' = 'k',\n  '抖机灵' = 'l',\n}\nexport const fetchHitokoto = async (\n  type: SentenceType[] | SentenceType = SentenceType.文学,\n) => {\n  const json = await fetch(\n    'https://v1.hitokoto.cn/' +\n      (Array.isArray(type)\n        ? '?' + type.map((t) => 'c=' + t).join('&')\n        : '?c=' + type),\n  )\n  const data = (await (json.json() as unknown)) as {\n    id: number\n    hitokoto: string\n    type: string\n    from: string\n    from_who: string\n    creator: string\n    creator_uid: number\n    reviewer: number\n    uuid: string\n    created_at: string\n  }\n\n  return data\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-empty-function */\nimport {\n  computed,\n  defineComponent,\n  inject,\n  onUnmounted,\n  PropType,\n  provide,\n  ref,\n  VNode,\n} from 'vue'\nimport clsx from 'clsx'\nimport { useRouter } from 'vue-router'\nimport styles from './index.module.css'\nimport { Icon } from '@vicons/utils'\nimport Sun from '@vicons/fa/es/Sun'\nimport Moon from '@vicons/fa/es/Moon'\nimport { useInjector } from 'hooks/use-deps-injection'\nimport { UIStore } from 'stores/ui'\n\nconst ProvideKey = Symbol('inject')\n\nexport const useLayout = () =>\n  inject(ProvideKey, {\n    addFloatButton(el: VNode) {},\n    removeFloatButton(name: symbol) {},\n  })\nexport const ContentLayout = defineComponent({\n  props: {\n    actionsElement: {\n      type: Object as PropType<JSX.Element | null>,\n      required: false,\n    },\n    footerButtonElement: {\n      type: Object as PropType<JSX.Element | null>,\n      required: false,\n    },\n    title: {\n      type: String,\n    },\n  },\n  setup(props, ctx) {\n    const { slots } = ctx\n    const router = useRouter()\n    const route = computed(() => router.currentRoute)\n    const A$ael = () => props.actionsElement ?? null\n    const A$fel = () => props.footerButtonElement ?? null\n    const footerExtraButtonEl = ref<\n      null | ((() => VNode) & { displayName$: symbol })[]\n    >(null)\n    provide(ProvideKey, {\n      addFloatButton(el: VNode | (() => VNode)) {\n        footerExtraButtonEl.value ??= []\n        const E: any = typeof el === 'function' ? el : () => el\n        E.displayName$ = E.name ? Symbol(E.name) : Symbol('fab')\n        footerExtraButtonEl.value.push(E)\n\n        return E.displayName$\n      },\n      removeFloatButton(name: symbol) {\n        if (!footerExtraButtonEl.value) {\n          return\n        }\n        const index = footerExtraButtonEl.value.findIndex(\n          (E) => E.displayName$ === name,\n        )\n        if (index && index !== -1) {\n          footerExtraButtonEl.value.splice(index, 1)\n        }\n      },\n    })\n\n    onUnmounted(() => {\n      footerExtraButtonEl.value = null\n    })\n\n    const { isDark, toggleDark } = useInjector(UIStore)\n    return () => (\n      <>\n        <header class={styles['header']}>\n          <div class={styles['header-blur']}></div>\n          <h1 class={styles['title']}>\n            {props.title ?? route.value.value.meta.title}\n          </h1>\n\n          <div class={clsx(styles['header-actions'], 'space-x-4')}>\n            {props.actionsElement ? <A$ael /> : slots.actions?.()}\n          </div>\n        </header>\n        <main class={styles['main']}>{slots.default?.()}</main>\n        <footer class={styles['buttons']}>\n          {footerExtraButtonEl.value\n            ? footerExtraButtonEl.value.map((E: any) => (\n                <E key={E.displayName} />\n              ))\n            : null}\n          {props.footerButtonElement ? <A$fel /> : slots.buttons?.()}\n          <button onClick={() => void toggleDark()}>\n            <Icon>{isDark.value ? <Sun /> : <Moon />}</Icon>\n          </button>\n        </footer>\n      </>\n    )\n  },\n})\n","export enum RouteName {\n  Dashboard = 'dashboard',\n  Post = 'post',\n  ViewPost = 'view-posts',\n  EditPost = 'edit-posts',\n  EditCategory = 'edit-category',\n  Note = 'note',\n  ViewNote = 'view-notes',\n  EditNote = 'edit-notes',\n  Comment = 'comment',\n  Page = 'page',\n  ListPage = 'page-list',\n  EditPage = 'page-edit',\n  Say = 'say',\n  ListSay = 'say-list',\n  EditSay = 'say-edit',\n  Project = 'project',\n  ListProject = 'project-list',\n\n  EditProject = 'project-edit',\n  Friend = 'friends',\n  File = 'files',\n  Analyze = 'analyze',\n  Setting = 'setting',\n  Profile = 'setting-profile',\n  System = 'setting-system',\n  Security = 'setting-security',\n  Reset = 'reset',\n  Other = 'other',\n  Backup = 'backup',\n  Markdown = 'markdown',\n  Optimize = 'optimize',\n  Login = 'login',\n  Home = 'home',\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { parse, format as f } from 'date-fns'\n\nexport enum DateFormat {\n  'yyyy年M月d日',\n  'yyyy年M月d日 HH:mm:ss',\n  'HH:mm',\n\n  'H:mm:ss A',\n  'M-d HH:mm:ss',\n}\n\nexport const parseDate = (\n  time: string | Date,\n  format: keyof typeof DateFormat = 'yyyy年M月d日',\n) => f(new Date(time), format)\n\nexport const relativeTimeFromNow = (\n  time: Date | string,\n  current = new Date(),\n) => {\n  time = new Date(time)\n  const msPerMinute = 60 * 1000\n  const msPerHour = msPerMinute * 60\n  const msPerDay = msPerHour * 24\n  const msPerMonth = msPerDay * 30\n  const msPerYear = msPerDay * 365\n\n  const elapsed = +current - +time\n\n  if (elapsed < msPerMinute) {\n    const gap = Math.ceil(elapsed / 1000)\n    return gap <= 0 ? '刚刚' : gap + ' 秒前'\n  } else if (elapsed < msPerHour) {\n    return Math.round(elapsed / msPerMinute) + ' 分钟前'\n  } else if (elapsed < msPerDay) {\n    return Math.round(elapsed / msPerHour) + ' 小时前'\n  } else if (elapsed < msPerMonth) {\n    return Math.round(elapsed / msPerDay) + ' 天前'\n  } else if (elapsed < msPerYear) {\n    return Math.round(elapsed / msPerMonth) + ' 个月前'\n  } else {\n    return Math.round(elapsed / msPerYear) + ' 年前'\n  }\n}\n\nexport const getDayOfYear = (date = new Date()) => {\n  const now = date\n  const start = new Date(now.getFullYear(), 0, 0)\n  const diff = now.getTime() - start.getTime()\n  const oneDay = 1000 * 60 * 60 * 24\n  const day = Math.floor(diff / oneDay)\n\n  return day\n}\nexport default { parseDate, relativeTimeFromNow }\n","import Code24Filled from '@vicons/fluent/es/Code24Filled'\nimport Comment24Filled from '@vicons/fluent/es/Comment24Filled'\nimport Extension24Filled from '@vicons/fluent/es/Extension24Filled'\nimport Games24Regular from '@vicons/fluent/es/Games24Regular'\nimport Guest16Filled from '@vicons/fluent/es/Guest16Filled'\nimport Link24Filled from '@vicons/fluent/es/Link24Filled'\nimport Note24Filled from '@vicons/fluent/es/Note24Filled'\nimport ChatbubblesSharp from '@vicons/ionicons5/es/ChatbubblesSharp'\nimport AddLinkFilled from '@vicons/material/es/AddLinkFilled'\nimport BubbleChartFilled from '@vicons/material/es/BubbleChartFilled'\nimport OnlinePredictionFilled from '@vicons/material/es/OnlinePredictionFilled'\nimport Activity from '@vicons/tabler/es/Activity'\nimport Copy from '@vicons/tabler/es/Copy'\nimport File from '@vicons/tabler/es/File'\nimport Refresh from '@vicons/tabler/es/Refresh'\nimport { Icon } from '@vicons/utils'\nimport { IpInfoPopover } from 'components/ip-info'\nimport { fetchHitokoto, SentenceType } from 'external/api/hitokoto'\nimport { getJinRiShiCiOne, ShiJuData } from 'external/api/jinrishici'\nimport { useInjector } from 'hooks/use-deps-injection'\nimport { ContentLayout } from 'layouts/content'\nimport { pick } from 'lodash-es'\nimport { Stat } from 'models/stat'\nimport {\n  NBadge,\n  NButton,\n  NCard,\n  NGi,\n  NGrid,\n  NH1,\n  NH3,\n  NP,\n  NPopover,\n  NSkeleton,\n  NSpace,\n  NStatistic,\n  NText,\n  NThing,\n  useMessage,\n} from 'naive-ui'\nimport { RouteName } from 'router/name'\nimport { UserStore } from 'stores/user'\nimport { parseDate, RESTManager } from 'utils'\nimport {\n  computed,\n  defineComponent,\n  onBeforeMount,\n  PropType,\n  ref,\n  VNode,\n} from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport const DashBoardView = defineComponent({\n  name: 'Dashboard',\n  setup() {\n    const stat = ref(\n      new Proxy(\n        {},\n        {\n          get() {\n            return 'N/A'\n          },\n        },\n      ) as Stat,\n    )\n    const statTime = ref(null as unknown as Date)\n    const fetchStat = async () => {\n      const counts = (await RESTManager.api.aggregate.stat.get()) as any\n      stat.value = counts\n      statTime.value = new Date()\n    }\n\n    const refreshHitokoto = () => {\n      fetchHitokoto([\n        SentenceType.动画,\n        SentenceType.原创,\n        SentenceType.哲学,\n        SentenceType.文学,\n      ]).then((data) => {\n        const postfix = Object.values(\n          pick(data, ['from', 'from_who', 'creator']),\n        ).filter(Boolean)[0]\n        if (!data.hitokoto) {\n          hitokoto.value = '没有获取到句子信息'\n        } else {\n          hitokoto.value = data.hitokoto + (postfix ? ' —— ' + postfix : '')\n        }\n      })\n    }\n\n    const shiju = ref('')\n    const shijuData = ref<ShiJuData | null>(null)\n\n    onBeforeMount(() => {\n      refreshHitokoto()\n      fetchStat()\n\n      getJinRiShiCiOne().then((data) => {\n        shiju.value = data.content\n        shijuData.value = data\n      })\n    })\n    const hitokoto = ref('')\n    const message = useMessage()\n    // const uiStore = useInjector(UIStore)\n    const userStore = useInjector(UserStore)\n    const router = useRouter()\n    const UserLoginStat = defineComponent(() => () => (\n      <>\n        <NH3 class=\"text-opacity-80 font-light\">登陆记录</NH3>\n        <p class=\"-mt-2 mb-3 relative text-gray-500\">\n          <span>\n            上次登陆 IP:{' '}\n            {userStore.user.value?.lastLoginIp ? (\n              <IpInfoPopover\n                trigger=\"hover\"\n                triggerEl={<span>{userStore.user.value?.lastLoginIp}</span>}\n                ip={userStore.user.value?.lastLoginIp}\n              ></IpInfoPopover>\n            ) : (\n              'N/A'\n            )}\n          </span>\n          <div class=\"pt-[.5rem]\"></div>\n          <span>\n            上次登陆时间:{' '}\n            {userStore.user.value?.lastLoginTime ? (\n              <time>\n                {parseDate(\n                  userStore.user.value?.lastLoginTime,\n                  'yyyy年M月d日 HH:mm:ss',\n                )}\n              </time>\n            ) : (\n              'N/A'\n            )}\n          </span>\n        </p>\n\n        <div class=\"pb-4\"></div>\n      </>\n    ))\n\n    const dataStat = computed<CardProps[]>(() => [\n      {\n        label: '博文',\n        value: stat.value.posts,\n        icon: <Code24Filled />,\n        actions: [\n          {\n            name: '撰写',\n            primary: true,\n            onClick() {\n              router.push({ name: RouteName.EditPost })\n            },\n          },\n          {\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.ViewPost, query: { page: 1 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '日记',\n        value: stat.value.notes,\n        icon: <Note24Filled />,\n        actions: [\n          {\n            name: '撰写',\n            primary: true,\n            onClick() {\n              router.push({ name: RouteName.EditNote })\n            },\n          },\n          {\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.ViewNote, query: { page: 1 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '页面',\n        value: stat.value.pages,\n        icon: <File />,\n        actions: [\n          {\n            primary: true,\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.ListPage, query: { page: 1 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '分类',\n        value: stat.value.categories,\n        icon: <Extension24Filled />,\n        actions: [\n          {\n            primary: true,\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.EditCategory })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '全部评论',\n        value: stat.value.allComments,\n        icon: <Comment24Filled />,\n        actions: [\n          {\n            primary: true,\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.Comment, query: { state: 1 } })\n            },\n          },\n        ],\n      },\n      {\n        label: '未读评论',\n        value: stat.value.unreadComments,\n        icon: <ChatbubblesSharp />,\n        actions: [\n          {\n            primary: true,\n            showBadage: true,\n            name: '查看',\n            onClick() {\n              router.push({ name: RouteName.Comment, query: { state: 0 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '友链',\n        value: stat.value.links,\n        icon: <Link24Filled />,\n        actions: [\n          {\n            primary: true,\n            name: '管理',\n            onClick() {\n              router.push({ name: RouteName.Friend, query: { state: 0 } })\n            },\n          },\n        ],\n      },\n      {\n        label: '新的友链申请',\n        value: stat.value.linkApply,\n        icon: <AddLinkFilled />,\n        actions: [\n          {\n            primary: true,\n            showBadage: true,\n            name: '查看',\n            onClick() {\n              router.push({ name: RouteName.Friend, query: { state: 1 } })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '说说',\n        value: stat.value.says,\n        icon: <AddLinkFilled />,\n        actions: [\n          {\n            primary: true,\n\n            name: '说一句',\n            onClick() {\n              router.push({\n                name: RouteName.EditSay,\n              })\n            },\n          },\n\n          {\n            primary: false,\n            name: '管理',\n            onClick() {\n              router.push({\n                name: RouteName.ListSay,\n              })\n            },\n          },\n        ],\n      },\n\n      {\n        label: 'API 总调用次数',\n        value:\n          // @ts-expect-error\n          stat.value.callTime !== 'N/A'\n            ? Intl.NumberFormat('en-us').format(stat.value.callTime)\n            : 'N/A',\n        icon: <Activity />,\n        actions: [\n          {\n            primary: true,\n            name: '查看',\n            onClick() {\n              router.push({\n                name: RouteName.Analyze,\n              })\n            },\n          },\n\n          {\n            name: '清空缓存',\n            onClick() {\n              RESTManager.api.clean_catch.get().then(() => {\n                message.success('清除成功')\n              })\n            },\n          },\n        ],\n      },\n      {\n        label: '今日 IP 访问次数',\n        value: stat.value.todayIpAccessCount,\n        icon: <BubbleChartFilled />,\n        actions: [\n          {\n            primary: true,\n            name: '查看',\n            onClick() {\n              router.push({\n                name: RouteName.Analyze,\n              })\n            },\n          },\n        ],\n      },\n\n      {\n        label: '当前在线访客',\n        value: stat.value.online,\n        icon: <OnlinePredictionFilled />,\n      },\n      {\n        label: '今日访客',\n        value: stat.value.todayOnlineTotal,\n        icon: <Guest16Filled />,\n      },\n      {\n        value: stat.value.todayMaxOnline,\n        label: '今日最多同时在线人数',\n        icon: <Games24Regular />,\n      },\n    ])\n\n    const DataStat = defineComponent(() => {\n      return () => (\n        <>\n          <NSpace vertical>\n            <NH3 class=\"text-opacity-80 font-light\">数据统计</NH3>\n\n            <p class=\"-mt-4 mb-3 relative text-gray-500 flex items-center\">\n              <span>数据更新于: </span>\n              <time>\n                {' '}\n                {statTime.value\n                  ? parseDate(statTime.value, 'yyyy年M月d日 HH:mm:ss')\n                  : 'N/A'}\n              </time>\n\n              <NButton text onClick={fetchStat} class=\"ml-4 text-black\">\n                <Icon>\n                  <Refresh />\n                </Icon>\n              </NButton>\n            </p>\n          </NSpace>\n          <NGrid\n            xGap={20}\n            yGap={20}\n            cols={'2 100:1 400:2 600:3 900:4 1200:5 1600:6'}\n          >\n            {dataStat.value.map((props) => (\n              <NGi key={props.label}>\n                <Card {...props} />\n              </NGi>\n            ))}\n          </NGrid>\n        </>\n      )\n    })\n    return () => (\n      <ContentLayout>\n        <NH1 class=\"font-light\">欢迎回来</NH1>\n        <NGrid xGap={12} cols={'1 900:2'}>\n          <NGi>\n            <NH3 class=\"text-opacity-80 font-light !mt-[10px] !mb-[10px]\">\n              一言\n            </NH3>\n            <NP>\n              <NSpace align=\"center\" class=\"min-h-[3rem]\">\n                {hitokoto.value ? (\n                  <>\n                    <NText class=\"leading-normal\">{hitokoto.value}</NText>\n                    <div class=\"space-x-2 flex items-center\">\n                      <NButton\n                        text\n                        onClick={refreshHitokoto}\n                        class=\"ml-0 phone:float-right\"\n                      >\n                        <Icon>\n                          <Refresh />\n                        </Icon>\n                      </NButton>\n\n                      <NButton\n                        text\n                        onClick={() => {\n                          navigator.clipboard.writeText(hitokoto.value)\n                          message.success('已复制')\n                          message.info(hitokoto.value)\n                        }}\n                      >\n                        <Icon>\n                          <Copy />\n                        </Icon>\n                      </NButton>\n                    </div>\n                  </>\n                ) : (\n                  <NText>加载中...</NText>\n                )}\n              </NSpace>\n            </NP>\n          </NGi>\n          <NGi>\n            <NH3 class=\"text-opacity-80 font-light !mt-[10px] !mb-[10px]\">\n              今日诗句\n            </NH3>\n            <NP>\n              <NPopover trigger={'hover'} placement=\"bottom\">\n                {{\n                  trigger() {\n                    return <NText>{shiju.value || '获取中'}</NText>\n                  },\n                  default() {\n                    const origin = shijuData.value?.origin\n                    if (!origin) {\n                      return null\n                    }\n                    return (\n                      <NCard\n                        class=\"text-center min-w-[350px] max-w-[65vw] max-h-[60vh] overflow-auto\"\n                        bordered={false}\n                      >\n                        <NH3>{origin.title}</NH3>\n                        {origin.content.map((c) => (\n                          <NP key={c}>{c}</NP>\n                        ))}\n                      </NCard>\n                    )\n                  },\n                }}\n              </NPopover>\n            </NP>\n          </NGi>\n        </NGrid>\n        <UserLoginStat />\n        <DataStat />\n      </ContentLayout>\n    )\n  },\n})\n\nconst Statistic = defineComponent({\n  props: { label: String, value: [String, Number] },\n  setup(props) {\n    return () => (\n      <Fragment>\n        {props.value === 'N/A' ? (\n          <NSpace vertical align=\"center\" class=\"min-h-[4rem]\">\n            <NSkeleton style={{ height: '.8rem', width: '5rem' }}></NSkeleton>\n            <NSkeleton style={{ height: '1.8rem', width: '3rem' }}></NSkeleton>\n          </NSpace>\n        ) : (\n          <NStatistic label={props.label} value={props.value}></NStatistic>\n        )}\n      </Fragment>\n    )\n  },\n})\n\nconst Badge = defineComponent({\n  props: { processing: Boolean, value: [String, Number] },\n  setup(props, ctx) {\n    return () => (\n      <Fragment>\n        {props.value === 'N/A' ? (\n          ctx.slots\n        ) : (\n          <NBadge {...props}>{ctx.slots}</NBadge>\n        )}\n      </Fragment>\n    )\n  },\n})\n\ninterface CardProps {\n  label: string\n  value: number | string\n  icon: VNode | (() => VNode)\n  actions?: {\n    name: string\n    onClick: () => void\n    primary?: boolean\n    showBadage?: boolean\n  }[]\n}\n// const cardProps = ['label', 'value', 'icon', 'actions']\nconst Card = defineComponent({\n  props: {\n    label: String,\n    value: [Number, String],\n    icon: Function as PropType<() => JSX.Element>,\n    actions: {\n      type: Array as PropType<\n        {\n          name: string\n          onClick: () => void\n          primary?: boolean\n          showBadge?: { type: Boolean; default: false }\n        }[]\n      >,\n      default: () => [],\n    },\n  },\n  // @ts-expect-error\n  setup(props: CardProps) {\n    return () => (\n      <>\n        <NCard>\n          <NThing>\n            {{\n              header() {\n                return (\n                  <Statistic\n                    label={props.label}\n                    value={props.value}\n                  ></Statistic>\n                )\n              },\n              ['header-extra']() {\n                return (\n                  <Icon class=\"text-4xl opacity-70\">\n                    {typeof props.icon == 'function'\n                      ? props.icon()\n                      : props.icon}\n                  </Icon>\n                )\n              },\n\n              action() {\n                if (!props.actions) {\n                  return null\n                }\n                return (\n                  <NSpace size=\"medium\" align=\"center\">\n                    {props.actions.map((i) => {\n                      const Inner = () =>\n                        i.primary ? (\n                          <NButton round type=\"primary\" onClick={i.onClick}>\n                            {i.name}\n                          </NButton>\n                        ) : (\n                          <NButton text onClick={i.onClick}>\n                            {i.name}\n                          </NButton>\n                        )\n                      return i.showBadage ? (\n                        <Badge value={props.value} processing>\n                          <Inner />\n                        </Badge>\n                      ) : (\n                        <Inner />\n                      )\n                    })}\n                  </NSpace>\n                )\n              },\n            }}\n          </NThing>\n        </NCard>\n      </>\n    )\n  },\n})\n","export interface ShiJuData {\n  id: number\n  content: string\n  origin: {\n    title: string\n    dynasty: string\n    author: string\n    content: string[]\n    matchTags: string[]\n  }\n}\nexport const getJinRiShiCiOne = async () => {\n  const res = await fetch('https://v2.jinrishici.com/one.json')\n  const json = await res.json()\n  return json.data as ShiJuData\n}\n","<template>\n  <button\n    ref=\"parallaxBtn\"\n    class=\"parallax-btn pr\"\n    :data-title=\"title\"\n    :class=\"type\"\n    :style=\"{ color: forecolor }\"\n    @mousemove=\"move\"\n    @mouseup=\"up\"\n    @mousedown=\"down\"\n    @mouseleave=\"leave\"\n  />\n</template>\n\n<script lang=\"ts\">\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { computed, defineComponent, onMounted, PropType, ref } from 'vue'\n\nexport default defineComponent({\n  props: {\n    title: {\n      type: String,\n      default: 'Button',\n    },\n    type: {\n      type: String as PropType<'normal' | 'warning' | 'danger'>,\n      default: 'normal',\n      validator(val: string) {\n        return ['normal', 'warning', 'danger'].includes(val)\n      },\n    },\n    forecolor: {\n      type: String,\n      default: '#fff',\n    },\n  },\n  setup() {\n    const btnStyle = ref<CSSStyleDeclaration>()\n    const parallaxBtn = ref<HTMLAnchorElement>()\n    onMounted(() => {\n      btnStyle.value = parallaxBtn.value?.style\n    })\n\n    const boundingClientRect = computed(() =>\n      parallaxBtn.value?.getBoundingClientRect(),\n    )\n\n    return {\n      parallaxBtn,\n      btnStyle,\n      boundingClientRect,\n      down(e) {\n        btnStyle.value!.setProperty('--tz', '-25px')\n      },\n      leave(e) {\n        btnStyle.value!.setProperty('--ty', '0')\n        btnStyle.value!.setProperty('--rx', '0')\n        btnStyle.value!.setProperty('--ry', '0')\n      },\n      move(e) {\n        const x = e.clientX - boundingClientRect.value!.left\n        const y = e.clientY - boundingClientRect.value!.top\n        const xc = boundingClientRect.value!.width / 2\n        const yc = boundingClientRect.value!.height / 2\n        const dx = x - xc\n        const dy = y - yc\n        btnStyle.value!.setProperty('--rx', `${dy / -1}deg`)\n        btnStyle.value!.setProperty('--ry', `${dx / 10}deg`)\n      },\n      up() {\n        btnStyle.value!.setProperty('--tz', '-12px')\n      },\n    }\n  },\n})\n</script>\n\n<style lang=\"postcss\">\n.parallax-btn {\n  &:not(:last-child) {\n    margin-right: 12px;\n  }\n  position: relative;\n  display: inline-block;\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n  user-select: none;\n  text-align: center;\n  font-size: 15px;\n  font-weight: 400;\n  color: #fff;\n  font-family: system-ui;\n  border-radius: 24px;\n  &::before {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border-radius: 4px;\n    background: linear-gradient(135deg, #6e8efb, #a777e3);\n    box-shadow: 0 2px 5px rgba(#000, 0.2);\n    content: '';\n    will-change: transform;\n    transform: translateY(var(--ty, 0)) rotateX(var(--rx, 0))\n      rotateY(var(--ry, 0)) translateZ(var(--tz, -12px));\n    transition: box-shadow 500ms ease, transform 200ms ease;\n  }\n  &.warning::before {\n    background: linear-gradient(135deg, #e67e22, #f1c40f);\n  }\n  &.danger::before {\n    background: linear-gradient(135deg, #e74c3c, #d35400);\n  }\n  &::after {\n    display: inline-block;\n    position: relative;\n    font-weight: bold;\n    content: attr(data-title);\n    will-change: transform;\n    transform: translateY(var(--ty, 0)) rotateX(var(--rx, 0))\n      rotateY(var(--ry, 0));\n    transition: transform 200ms ease;\n  }\n  &:hover {\n    color: inherit;\n  }\n  &:hover::before {\n    box-shadow: 0 5px 15px rgba(#000, 0.3);\n  }\n}\n</style>\n","<script lang=\"ts\">\nimport { useInjector } from 'hooks/use-deps-injection'\nimport { useMessage } from 'naive-ui'\nimport { defineComponent, onMounted, onUnmounted, ref } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport Avatar from '../../components/avatar/index.vue'\nimport ParallaxButtonVue from '../../components/button/parallax-button.vue'\nimport { UserModel } from '../../models/user'\nimport { UserStore } from '../../stores/user'\n\nimport { RESTManager } from '../../utils/rest'\n\nconst bgUrl =\n  (import.meta.env.VITE_APP_LOGIN_BG as string) ||\n  'https://gitee.com/xun7788/my-imagination/raw/master/uPic/1615516941397.jpg'\nexport const LoginView = defineComponent({\n  components: { Avatar, ParallaxButtonVue },\n  setup() {\n    const loaded = ref(false)\n    const { user, updateToken } = useInjector(UserStore)\n    const router = useRouter()\n    const input = ref<HTMLInputElement>(null!)\n    onMounted(() => {\n      const $$ = new Image()\n      $$.src = bgUrl\n      $$.onload = (e) => {\n        loaded.value = true\n      }\n      input.value.focus()\n\n      document.onkeydown = (e) => {\n        input.value.focus()\n      }\n    })\n\n    onUnmounted(() => {\n      document.onkeydown = null\n    })\n\n    const toast = useMessage()\n\n    const password = ref('')\n    const route = useRoute()\n    const handleLogin = async (e: Event) => {\n      e?.stopPropagation()\n      try {\n        if (!user.value || !user.value.username) {\n          toast.error('主人信息无法获取')\n          return\n        }\n        const res = await RESTManager.api.master.login.post<{\n          token: string & UserModel\n        }>({\n          data: {\n            username: user.value?.username,\n            password: password.value,\n          },\n        })\n        updateToken(res.token)\n\n        router.push(\n          route.query.from\n            ? decodeURI(route.query.from as string)\n            : '/dashboard',\n        )\n        toast.success('欢迎回来')\n      } catch (e) {\n        toast.error('登陆失败')\n      }\n    }\n\n    return {\n      // bgUrl: loaded.value ? bgUrl : '',\n      bgUrl,\n      loaded,\n      user,\n      password,\n      handleLogin,\n      input,\n    }\n  },\n})\n\nexport default LoginView\n</script>\n\n<template>\n  <div>\n    <div\n      class=\"bg transition-opacity duration-700\"\n      :style=\"{ backgroundImage: `url(${bgUrl})`, opacity: loaded ? 1 : 0 }\"\n    />\n\n    <div class=\"wrapper\">\n      <Avatar :src=\"user?.avatar\" :size=\"80\" />\n      <form action=\"#\" @submit.prevent=\"handleLogin\">\n        <div class=\"input-wrap\">\n          <input ref=\"input\" v-model=\"password\" type=\"password\" autofocus />\n        </div>\n        <ParallaxButtonVue\n          title=\"登陆\"\n          class=\"p-button-raised p-button-rounded\"\n          @click.prevent.stop=\"handleLogin\"\n        />\n      </form>\n\n      <!-- <Avatar :size=\"80\" src=\"https://resume.innei.ren/avatar.ec3d4d8d.png\" /> -->\n    </div>\n  </div>\n</template>\n\n<style scoped=\"\">\n@import './index.css';\n</style>\n","/**\n * 路由在此定义\n * @author Innei <https://innei.ren>\n */\nimport Book from '@vicons/fa/es/Book'\nimport ChartLine from '@vicons/fa/es/ChartLine'\nimport Code from '@vicons/fa/es/Code'\nimport Cogs from '@vicons/fa/es/Cogs'\nimport Comment from '@vicons/fa/es/Comment'\nimport Comments from '@vicons/fa/es/Comments'\nimport EllipsisH from '@vicons/fa/es/EllipsisH'\nimport Eye from '@vicons/fa/es/Eye'\nimport File from '@vicons/fa/es/File'\nimport FileAlt from '@vicons/fa/es/FileAlt'\nimport Flask from '@vicons/fa/es/Flask'\nimport Markdown from '@vicons/fa/es/Markdown'\nimport PencilAlt from '@vicons/fa/es/PencilAlt'\nimport PuzzlePiece from '@vicons/fa/es/PuzzlePiece'\nimport UndoAlt from '@vicons/fa/es/UndoAlt'\nimport UserFriends from '@vicons/fa/es/UserFriends'\n\nimport TachometerAlt from '@vicons/fa/es/TachometerAlt'\nimport { Icon } from '@vicons/utils'\nimport $RouterView from 'layouts/router-view'\nimport { SidebarLayout } from 'layouts/sidebar'\nimport { DashBoardView } from 'views/dashboard'\nimport { RouteRecordRaw } from 'vue-router'\nimport LoginView from '../views/login/index.vue'\nimport { RouteName } from './name'\n\nexport const routeForMenu: Array<RouteRecordRaw> = [\n  {\n    path: '/dashboard',\n    component: DashBoardView,\n    name: RouteName.Dashboard,\n    meta: {\n      title: '仪表盘',\n      icon: (\n        <Icon>\n          <TachometerAlt />\n        </Icon>\n      ),\n    },\n  },\n  {\n    path: '/posts',\n    name: RouteName.Post,\n    meta: {\n      title: '博文',\n      icon: (\n        <Icon>\n          <Code />\n        </Icon>\n      ),\n    },\n    redirect: '/posts/view',\n    component: $RouterView,\n    children: [\n      {\n        path: 'view',\n        name: RouteName.ViewPost,\n        meta: {\n          title: '管理文章',\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n          query: { page: 1 },\n        },\n        component: () =>\n          import('../views/manage-posts/list').then(\n            (m) => m.ManagePostListView,\n          ),\n      },\n\n      {\n        path: 'edit',\n        name: RouteName.EditPost,\n        meta: {\n          title: '撰写文章',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        props: true,\n        component: () => import('../views/manage-posts/write'),\n      },\n\n      {\n        path: 'category',\n        name: RouteName.EditCategory,\n        meta: {\n          title: '分类/标签',\n          icon: (\n            <Icon>\n              <PuzzlePiece />\n            </Icon>\n          ),\n        },\n        component: () =>\n          import('../views/manage-posts/category').then((m) => m.CategoryView),\n      },\n    ],\n  },\n  {\n    path: '/notes',\n    name: RouteName.Note,\n    meta: {\n      title: '记录',\n      icon: (\n        <Icon>\n          <Book />\n        </Icon>\n      ),\n    },\n    redirect: '/notes/view',\n    component: $RouterView,\n    children: [\n      {\n        path: 'view',\n        name: 'view-notes',\n        meta: {\n          title: '管理',\n          query: { page: 1 },\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n        },\n        component: () =>\n          import('../views/manage-notes/list').then(\n            (m) => m.ManageNoteListView,\n          ),\n      },\n      {\n        path: 'edit',\n        name: RouteName.EditNote,\n        meta: {\n          title: '树洞',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-notes/write'),\n      },\n    ],\n  },\n  {\n    path: '/comments',\n    name: RouteName.Comment,\n    meta: {\n      title: '评论',\n      query: { page: 1, state: 0 },\n      icon: (\n        <Icon>\n          <Comment />\n        </Icon>\n      ),\n    },\n    component: () => import('../views/comments/index'),\n  },\n  {\n    path: '/pages',\n    name: RouteName.Page,\n    redirect: '/pages/list',\n    meta: {\n      title: '页面',\n      icon: (\n        <Icon>\n          <File />\n        </Icon>\n      ),\n    },\n    component: $RouterView,\n    children: [\n      {\n        path: 'list',\n        name: RouteName.ListPage,\n        meta: {\n          title: '独立页面',\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n          query: { page: 1 },\n        },\n        component: () =>\n          import('../views/manage-pages/list').then(\n            (m) => m.ManagePageListView,\n          ),\n      },\n      {\n        path: 'edit',\n        name: RouteName.EditPage,\n        meta: {\n          title: '创建页面',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-pages/write'),\n      },\n    ],\n  },\n  {\n    path: '/says',\n    name: RouteName.Say,\n    meta: {\n      title: '说说',\n      icon: (\n        <Icon>\n          <Comments />\n        </Icon>\n      ),\n    },\n    component: $RouterView,\n    children: [\n      {\n        path: 'list',\n        name: RouteName.ListSay,\n        meta: {\n          title: '说什么了',\n          query: { page: 1 },\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-says/list'),\n      },\n      {\n        path: 'edit',\n        name: RouteName.EditSay,\n        meta: {\n          title: '说点什么呢',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-says/edit'),\n      },\n    ],\n  },\n  {\n    path: '/projects',\n    name: RouteName.Project,\n    meta: {\n      title: '项目',\n      icon: (\n        <Icon>\n          <Flask />\n        </Icon>\n      ),\n    },\n    component: $RouterView,\n    children: [\n      {\n        path: 'list',\n        name: RouteName.ListProject,\n        meta: {\n          title: '项目列表',\n          query: { page: 1 },\n          icon: (\n            <Icon>\n              <Eye />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-project/list'),\n      },\n      {\n        path: 'edit',\n        name: RouteName.EditProject,\n        meta: {\n          title: '创建项目',\n          icon: (\n            <Icon>\n              <PencilAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/manage-project/edit'),\n      },\n    ],\n  },\n  {\n    path: '/friends',\n    name: RouteName.Friend,\n    meta: {\n      title: '朋友们',\n      icon: (\n        <Icon>\n          <UserFriends />\n        </Icon>\n      ),\n      query: { state: '0' },\n    },\n    component: () => import('../views/manage-friends'),\n  },\n  {\n    path: '/files',\n    name: RouteName.File,\n    meta: {\n      title: '管理文件',\n      icon: (\n        <Icon>\n          <FileAlt />\n        </Icon>\n      ),\n    },\n    component: () => import('../views/manage-files'),\n  },\n\n  {\n    path: '/analyze',\n    name: RouteName.Analyze,\n    component: () => import('../views/analzye'),\n    meta: {\n      title: '数据',\n      icon: (\n        <Icon>\n          <ChartLine />\n        </Icon>\n      ),\n      query: { page: 1 },\n    },\n  },\n  {\n    path: '/setting',\n    redirect: '/setting/user',\n    meta: {\n      title: '设定',\n      icon: (\n        <Icon>\n          <Cogs />\n        </Icon>\n      ),\n      params: { type: 'user' },\n    },\n    component: () => null,\n  },\n  {\n    path: '/setting/:type',\n    name: RouteName.Setting,\n    meta: {\n      title: '设定',\n      params: { type: 'user' },\n      hide: true,\n    },\n    component: () => import('../views/setting'),\n  },\n  {\n    path: '/other',\n    name: RouteName.Other,\n    meta: {\n      title: '其他',\n      icon: (\n        <Icon>\n          <EllipsisH />\n        </Icon>\n      ),\n    },\n    component: $RouterView,\n    children: [\n      {\n        path: 'backup',\n        name: RouteName.Backup,\n        meta: {\n          title: '备份',\n          icon: (\n            <Icon>\n              <UndoAlt />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/other/backup'),\n      },\n      {\n        path: 'markdown',\n        name: RouteName.Markdown,\n        meta: {\n          title: 'Markdown 导入导出',\n\n          icon: (\n            <Icon>\n              <Markdown />\n            </Icon>\n          ),\n        },\n        component: () => import('../views/other/markdown-helper'),\n      },\n    ],\n  },\n]\n\nexport const routes: RouteRecordRaw[] = [\n  {\n    path: '/',\n    component: SidebarLayout,\n    name: RouteName.Home,\n    redirect: '/dashboard',\n    children: [...routeForMenu],\n  },\n\n  {\n    path: '/login',\n    name: RouteName.Login,\n    meta: { isPublic: true, title: '登陆' },\n    component: LoginView,\n  },\n  // for dev\n  {\n    path: '/dev',\n    redirect: __DEV__ ? undefined : '/',\n    component: $RouterView,\n    children: __DEV__\n      ? Object.entries(import.meta.glob('../views/dev/**/*.tsx')).map(\n          ([path, comp]) => ({\n            path: path\n              .split('/')\n              .slice(-1)[0]\n              .replace(/\\.[jt]sx$/, ''),\n            component: comp,\n          }),\n        )\n      : [],\n  },\n  // v1 compatibility\n  {\n    path: '/page/:path(.*)*',\n    name: 'page$',\n    redirect: (to) => {\n      return to.fullPath.replace(/^\\/page\\//, '/pages/')\n    },\n  },\n  {\n    path: '/extra/:path(.*)*',\n    name: 'extra',\n    redirect: (to) => {\n      return to.fullPath.replace(/^\\/extra/, '')\n    },\n  },\n  {\n    path: '/:pathMatch(.*)*',\n    name: '404',\n    meta: { isPublic: true },\n    redirect: '/',\n  },\n]\n","import {\n  createRouter,\n  createWebHashHistory,\n  createWebHistory,\n} from 'vue-router'\nimport { routes } from './route'\n\nexport const router = createRouter({\n  history: __DEV__ ? createWebHistory() : createWebHashHistory(),\n  routes,\n})\n","import camelcaseKeys from 'camelcase-keys'\nimport { isPlainObject } from 'lodash-es'\nimport {\n  extend,\n  RequestMethod,\n  RequestOptionsInit,\n  RequestOptionsWithResponse,\n} from 'umi-request'\nimport { router } from '../router/router'\nimport { getToken } from './auth'\n\nclass RESTManagerStatic {\n  private _$$instance: RequestMethod = null!\n  get instance() {\n    return this._$$instance\n  }\n  constructor() {\n    this._$$instance = extend({\n      // @ts-ignore\n      prefix: import.meta.env.VITE_APP_BASE_API,\n      timeout: 10000,\n      errorHandler: async (error) => {\n        const Message = window.message\n        if (error.request && !error.response) {\n          Message.error('网络错误')\n          return\n        }\n\n        if (error.response) {\n          if (process.env.NODE_ENV === 'development') {\n            console.log(error.response)\n            console.dir(error.response)\n          }\n          try {\n            const json = await error.response.json()\n            const message = json.message\n            if (Array.isArray(message)) {\n              message.forEach((m) => {\n                Message.error(m)\n              })\n            } else {\n              Message.error(message)\n            }\n          } catch (e) {\n            Message.error('出错了, 请查看控制台')\n            console.log(e)\n          }\n\n          if (error?.response?.status === 401) {\n            router.push('/login')\n          }\n          return Promise.reject(error)\n        }\n      },\n    })\n  }\n  request(method: Method, route: string, options: RequestOptionsWithResponse) {\n    return this._$$instance[method](route, options)\n  }\n\n  get api() {\n    return buildRoute(this)\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => {}\nconst methods = ['get', 'post', 'delete', 'patch', 'put']\nconst reflectors = [\n  'toString',\n  'valueOf',\n  'inspect',\n  'constructor',\n  Symbol.toPrimitive,\n  Symbol.for('util.inspect.custom'),\n]\n\nfunction buildRoute(manager: RESTManagerStatic): IRequestHandler {\n  const route = ['']\n  const handler: any = {\n    get(target: any, name: Method) {\n      if (reflectors.includes(name)) return () => route.join('/')\n      if (methods.includes(name)) {\n        return async (options: RequestOptionsWithResponse) => {\n          const res = await manager.request(name, route.join('/'), {\n            ...options,\n          })\n\n          return Array.isArray(res) || isPlainObject(res)\n            ? camelcaseKeys(res, { deep: true })\n            : res\n        }\n      }\n      route.push(name)\n      return new Proxy(noop, handler)\n    },\n    // @ts-ignore\n    apply(target: any, _, args) {\n      route.push(...args.filter((x: string) => x != null)) // eslint-disable-line eqeqeq\n      return new Proxy(noop, handler)\n    },\n  }\n  // @ts-ignore\n  return new Proxy(noop, handler)\n}\n\nexport const RESTManager = new RESTManagerStatic()\n\n// @ts-ignore\nif (__DEV__ && !window.api) {\n  Object.defineProperty(window, 'api', {\n    get() {\n      return RESTManager.api\n    },\n  })\n}\n\nexport const useRest = () => {\n  return RESTManager.api\n}\n\nRESTManager.instance.interceptors.request.use((url, options) => {\n  const token = getToken()\n\n  if (token) {\n    // @ts-ignore\n    options.headers.Authorization = 'bearer ' + token\n  }\n  return {\n    url: url + '?t=' + +new Date(),\n    options: {\n      ...options,\n\n      interceptors: true,\n    },\n  }\n}, {})\n\ninterface IRequestHandler<T = RequestOptionsInit> {\n  (id?: string): IRequestHandler\n  // @ts-ignore\n  get<P = unknown>(options?: T): Promise<P>\n  // @ts-ignore\n  post<P = unknown>(options?: T): Promise<P>\n  // @ts-ignore\n  patch<P = unknown>(options?: T): Promise<P>\n  // @ts-ignore\n  delete<P = unknown>(options?: T): Promise<P>\n  // @ts-ignore\n  put<P = unknown>(options?: T): Promise<P>\n  [key: string]: IRequestHandler\n}\nexport type Method = 'get' | 'delete' | 'post' | 'put' | 'patch'\n","import { ref } from 'vue'\nimport { CategoryModel, CategoryResponse } from 'models/category'\nimport { RESTManager } from 'utils/rest'\nimport { computed } from 'vue'\nexport function CategoryStore() {\n  const data = ref<CategoryModel[]>()\n\n  const map = computed(\n    () => new Map(data.value?.map((i) => [i.id, i])) || new Map(),\n  )\n\n  return {\n    data,\n    map,\n    get(id: string) {\n      return map.value.get(id)\n    },\n    async fetch(force?: boolean) {\n      if (!data.value || force) {\n        const response = (await RESTManager.api.categories.get({\n          params: {\n            type: 'Category',\n          },\n        })) as CategoryResponse\n\n        data.value = response.data\n      } else {\n        return data.value\n      }\n    },\n  }\n}\n","import {\n  darkTheme,\n  dateZhCN,\n  NConfigProvider,\n  NDialogProvider,\n  NMessageProvider,\n  NNotificationProvider,\n  useDialog,\n  useMessage,\n  useNotification,\n  zhCN,\n} from 'naive-ui'\nimport { CategoryStore } from 'stores/category'\nimport { defineComponent, onMounted } from 'vue'\nimport { RouterView } from 'vue-router'\nimport {\n  useInjector,\n  useProvider,\n  useProviders,\n} from './hooks/use-deps-injection'\nimport { UIStore } from './stores/ui'\nimport { UserStore } from './stores/user'\n\nconst Root = defineComponent({\n  name: 'Home',\n\n  setup() {\n    const { fetchUser } = useInjector(UserStore)\n    const { isDark } = useInjector(UIStore)\n\n    onMounted(() => {\n      const message = useMessage()\n      const _error = message.error\n      Object.assign(message, {\n        error: (...rest: any[]) => {\n          // @ts-ignore\n          _error.apply(this, rest)\n          throw rest[0]\n        },\n      })\n\n      window.message = message\n      window.notification = useNotification()\n      window.dialog = useDialog()\n\n      import('socket').then((mo) => {\n        mo.socket.initIO()\n      })\n\n      fetchUser()\n    })\n\n    return () => {\n      return <RouterView />\n    }\n  },\n})\n\nconst App = defineComponent({\n  setup() {\n    useProviders(UIStore, UserStore, CategoryStore)\n    const { isDark } = useProvider(UIStore)\n    return () => (\n      <NConfigProvider\n        locale={zhCN}\n        dateLocale={dateZhCN}\n        theme={isDark.value ? darkTheme : null}\n      >\n        <NNotificationProvider>\n          <NMessageProvider>\n            <NDialogProvider>\n              <Root />\n            </NDialogProvider>\n          </NMessageProvider>\n        </NNotificationProvider>\n      </NConfigProvider>\n    )\n  },\n})\n\nexport default App\n","import { configs } from '../configs'\nimport { router } from './router'\nimport QProgress from 'qier-progress'\nimport { RESTManager } from '../utils/rest'\nexport const progress = new QProgress({ colorful: false, color: '#1a9cf3' })\nconst title = configs.title\n\nrouter.beforeEach(async (to) => {\n  progress.start()\n\n  if (to.meta.isPublic || to.fullPath.startsWith('/dev')) {\n    return\n  } else {\n    const { ok } = await RESTManager.api('master')('check_logged').get<{\n      ok: number\n    }>()\n    if (!ok) {\n      return '/login?from=' + encodeURI(to.fullPath)\n    }\n  }\n})\n\nrouter.afterEach((to, _) => {\n  document.title = getPageTitle(to?.meta.title as any)\n  progress.finish()\n})\n\n// HACK editor save\nrouter.afterEach((to) => {\n  if (to.hash == '|publish') {\n    router.replace({ ...to, hash: '' })\n  }\n})\n\nrouter.onError(() => {\n  progress.finish()\n})\n\nfunction getPageTitle(pageTitle?: string | null) {\n  if (pageTitle) {\n    return `${pageTitle} - ${title}`\n  }\n  return `${title}`\n}\n","import { bus } from 'utils/event-bus'\nimport { createApp } from 'vue'\nimport App from './App'\nimport './index.css'\nimport { router } from './router'\nimport 'reflect-metadata'\n\nconst app = createApp(App)\n\napp.use(router)\napp.mount('#app')\n\nif (__DEV__) {\n  window.app = app\n  window.bus = bus\n}\n"],"names":["bus","constructor","on","event","handler","queue","this","observers","some","func","push","emit","payload","call","off","index2","findIndex","splice","length","scriptRel","seen","__vitePreload","baseModule","deps","relList","document","createElement","supports","Promise","all","map","dep","isCss","endsWith","cssSelector","querySelector","link","rel","as","crossOrigin","href","head","appendChild","res","rej","addEventListener","then","$RouterView","defineComponent","setup","RouterView","default","Component","Suspense","fallback","class","NSpin","strokeWidth","show","rotate","configs","title","ipv6LoopupApiUrl","amapKey","TokenKey","Cookies","get","JSON","parse","remove","user","ref","token","$token","getToken","value","$user","RESTManager","api","master","updateToken","$token2","expires","set","stringify","buildModel","item2","hasParent","prevPath","path","params","n","test","match","Object","prototype","toString","TypeError","paramKey","replaceAll","parsePath","meta","fullPath","name","icon","subItems","buildSubMenus","query","route","Array","isArray","children","filter","hide","Symbol","depends","type","root2","root","inject","Error","props","size","Number","src","String","required","loaded","preloadImage","$$","Image","onload","e","BASE_URL","viewport","sidebarWidth","sidebarCollapse","mobile","isDark","useDark","toggleDark","useToggle","resizeHandler","debounce","updateViewport","trailing","onresize","innerHeight","window","width","documentElement","getBoundingClientRect","hpad","pad","h","Math","abs","w","screen","innerWidth","wider","widest","phone","contentWidth","computed","contentInsetWidth","parseInt","getComputedStyle","fontSize","isDark2","classList","add","Sidebar","collapse","Boolean","onCollapseChange","Function","router2","useRouter","useInjector","UserStore","currentRoute","menus","getRoutes","find","_index","title2","sidebarRef","uiStore","UIStore","v","clsx","styles","style","display","onClick","Icon","Hamburger","NLayoutContent","nativeScrollbar","startsWith","key","updateIndex","handleRoute","flexBasis","maxHeight","child","open","Avatar","avatar","SidebarLayout","ui","collapse2","isLaptop","s","embedded","left","pointerEvents","ipLocationCacheMap","Map","IpInfoPopover","ip","triggerEl","trigger","ipInfoText","setIpInfoText","info","countryName","regionName","cityName","join","ispDomain","ownerDomain","range","values","onIpInfoShow","async","show2","has","ipInfo","isIPv6","split","apiUrl","response","fetch","data","json","camelData","camelcaseKeys","deep","_data","city","country","org","NPopover","placement","onUpdateShow","innerHTML","SentenceType","SentenceType2","fetchHitokoto","t","ProvideKey","useLayout","addFloatButton","el","removeFloatButton","ContentLayout","actionsElement","footerButtonElement","ctx","slots","A$ael","A$fel","footerExtraButtonEl","E","displayName$","actions","displayName","buttons","Sun","Moon","RouteName","RouteName2","DateFormat","DateFormat2","parseDate","time","format","f","Date","relativeTimeFromNow","current","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","gap","ceil","round","getDayOfYear","date","now","start","getFullYear","diff","getTime","floor","DashBoardView","stat","Proxy","statTime","fetchStat","counts","aggregate","refreshHitokoto","postfix","pick","hitokoto","shiju","shijuData","content","message","useMessage","userStore","UserLoginStat","NH3","lastLoginIp","lastLoginTime","dataStat","label","posts","Code24Filled","primary","EditPost","ViewPost","page","notes","Note24Filled","EditNote","ViewNote","pages","File","ListPage","categories","Extension24Filled","EditCategory","allComments","Comment24Filled","Comment","state","unreadComments","ChatbubblesSharp","showBadage","links","Link24Filled","Friend","linkApply","AddLinkFilled","says","EditSay","ListSay","callTime","Intl","NumberFormat","Activity","Analyze","clean_catch","success","todayIpAccessCount","BubbleChartFilled","online","OnlinePredictionFilled","todayOnlineTotal","Guest16Filled","todayMaxOnline","Games24Regular","DataStat","NSpace","vertical","NButton","text","Refresh","NGrid","xGap","yGap","cols","NGi","Card","NH1","NP","align","NText","clipboard","writeText","Copy","origin","NCard","bordered","c","Statistic","Fragment","NSkeleton","height","NStatistic","Badge","processing","NBadge","NThing","header","action","i","Inner","validator","val","includes","forecolor","btnStyle","parallaxBtn","boundingClientRect","down","setProperty","leave","move","x","clientX","y","clientY","top","dx","dy","up","bgUrl","LoginView","components","ParallaxButtonVue","input","focus","onkeydown","toast","password","useRoute","handleLogin","stopPropagation","username","error","login","post","from","decodeURI","e2","routeForMenu","component","Dashboard","TachometerAlt","Post","Code","redirect","Eye","m","ManagePostListView","PencilAlt","PuzzlePiece","CategoryView","Note","Book","ManageNoteListView","Page","ManagePageListView","EditPage","Say","Comments","Project","Flask","ListProject","EditProject","UserFriends","FileAlt","ChartLine","Cogs","Setting","Other","EllipsisH","Backup","UndoAlt","Markdown","routes","Home","Login","isPublic","to","replace","router","createRouter","history","createWebHashHistory","noop","methods","reflectors","toPrimitive","for","_$$instance","extend","prefix","timeout","errorHandler","Message","request","forEach","log","status","reject","method","options","manager","target","isPlainObject","apply","_","args","buildRoute","id","force","instance","interceptors","use","url","headers","Authorization","Root","fetchUser","_error","assign","rest","notification","useNotification","dialog","useDialog","mo","socket","initIO","App","funcs","stores","useProvider","camelCase","CategoryStore","NConfigProvider","locale","zhCN","dateLocale","dateZhCN","theme","darkTheme","NNotificationProvider","NMessageProvider","NDialogProvider","progress","QProgress","colorful","color","beforeEach","ok","encodeURI","afterEach","pageTitle","getPageTitle","finish","hash","onError","app","createApp","mount"],"mappings":"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"}