import{j as a,u as e,k as s,R as t}from"./index-cd8d1d4.js";import{d as n,r as o,o as r,B as d,ac as l,ad as i,ae as u,b as p,e as c,f as m,n as g,ag as v,ah as w,ai as b,af as f}from"./vendor-c6fe8e8c-cd8d1d4.js";const h=window.injectData.LOGIN_BG||"https://gitee.com/xun7788/my-imagination/raw/master/images/88426823_p0.jpg",y=n({components:{ParallaxButtonVue:a},setup(){const a=o(!1),{updateToken:n}=e(s);r((()=>{const e=new Image;e.src=h,e.onload=e=>{a.value=!0}}));const l=d(),i=o(""),u=o("");return{bgUrl:h,loaded:a,password:i,handleRegister:async a=>{null==a||a.stopPropagation();try{const a=await t.api.master.register.post({data:{username:u.value,password:i.value}});n(a.token),l.success("欧尼酱!"),setTimeout((()=>{location.href="#/setting/user"}),500)}catch(e){l.error("出了点小问题, 不要慌"),l.error(e.message)}},username:u}}});var k=y;l("data-v-0bd2b353");const j={class:"wrapper"},x={class:"input-wrap"},R={class:"input-wrap"};i(),k.render=function(a,e,s,t,n,o){const r=u("ParallaxButtonVue");return p(),c("div",null,[m("div",{class:"bg transition-opacity duration-700",style:g({backgroundImage:`url(${a.bgUrl})`,opacity:a.loaded?1:0})},null,4),m("div",j,[m("form",{action:"#",onSubmit:e[2]||(e[2]=v(((...e)=>a.handleRegister&&a.handleRegister(...e)),["prevent"]))},[m("div",x,[w(m("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>a.username=e),autofocus:"",placeholder:"这里填上你的用户名"},null,512),[[b,a.username]])]),m("div",R,[w(m("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>a.password=e),type:"password",placeholder:"这里填上密码哦"},null,512),[[b,a.password]])]),f(r,{title:"注册",class:"p-button-raised p-button-rounded",onClick:v(a.handleRegister,["prevent","stop"])},null,8,["onClick"])],32)])])},k.__scopeId="data-v-0bd2b353";export{y as InitView,k as default};
//# sourceMappingURL=index-73b11fed-cd8d1d4.js.map
