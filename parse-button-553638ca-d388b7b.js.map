{"version":3,"file":"parse-button-553638ca-d388b7b.js","sources":["../node_modules/.pnpm/@vicons+fa@0.11.0/node_modules/@vicons/fa/es/SlidersH.js","../node_modules/.pnpm/vditor@3.8.6/node_modules/vditor/dist/index.min.js","../src/components/editor/vditor.tsx","../node_modules/.pnpm/@vicons+ionicons5@0.11.0/node_modules/@vicons/ionicons5/es/RefreshCircle.js","../node_modules/.pnpm/@vicons+tabler@0.11.0/node_modules/@vicons/tabler/es/Settings.js","../node_modules/.pnpm/class-transformer@0.4.0/node_modules/class-transformer/esm5/enums/transformation-type.enum.js","../node_modules/.pnpm/class-transformer@0.4.0/node_modules/class-transformer/esm5/MetadataStorage.js","../node_modules/.pnpm/class-transformer@0.4.0/node_modules/class-transformer/esm5/storage.js","../node_modules/.pnpm/class-transformer@0.4.0/node_modules/class-transformer/esm5/TransformOperationExecutor.js","../node_modules/.pnpm/class-transformer@0.4.0/node_modules/class-transformer/esm5/utils/is-promise.util.js","../node_modules/.pnpm/class-transformer@0.4.0/node_modules/class-transformer/esm5/utils/get-global.util.js","../node_modules/.pnpm/class-transformer@0.4.0/node_modules/class-transformer/esm5/constants/default-options.constant.js","../node_modules/.pnpm/class-transformer@0.4.0/node_modules/class-transformer/esm5/ClassTransformer.js","../node_modules/.pnpm/class-transformer@0.4.0/node_modules/class-transformer/esm5/index.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/metadata/ValidationMetadata.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/validation-schema/ValidationSchemaToMetadataTransformer.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/utils/is-promise.util.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/metadata/MetadataStorage.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/utils/get-global.util.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/validation/ValidationError.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/validation/ValidationTypes.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/validation/ValidationUtils.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/validation/ValidationExecutor.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/utils/convert-to-array.util.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/validation/Validator.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/container.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/metadata/ConstraintMetadata.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/decorator/common/ValidateBy.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/register-decorator.js","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/decorator/typechecker/IsString.js","../src/hooks/use-storage.ts","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/index.js","../src/components/editor/plain.tsx","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/decorator/typechecker/IsInt.js","../src/components/editor/universal/config.ts","../node_modules/.pnpm/class-validator@0.13.1/node_modules/class-validator/esm5/decorator/typechecker/IsBoolean.js","../src/components/editor/universal/toggle.tsx","../src/components/input/base.tsx","../src/components/input/material-input.tsx","../node_modules/.pnpm/@vicons+fa@0.11.0/node_modules/@vicons/fa/SlackHash.js","../src/components/logic/parse-button.tsx"],"sourcesContent":["import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'SlidersH',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","/*!\n * Vditor v3.8.6 - A markdown editor written in TypeScript.\n *\n * MIT License\n *\n * Copyright (c) 2018-present B3log 开源, b3log.org\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Vditor\"] = factory();\n\telse\n\t\troot[\"Vditor\"] = factory();\n})(this, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 694:\n/***/ ((module) => {\n\n/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function () {\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0; // Cost of an empty edit operation in terms of edit characters.\n\n  this.Diff_EditCost = 4; // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n\n  this.Match_Threshold = 0.5; // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n\n  this.Match_Distance = 1000; // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n\n  this.Patch_DeleteThreshold = 0.5; // Chunk size for context length.\n\n  this.Patch_Margin = 4; // The number of bits in an int.\n\n  this.Match_MaxBits = 32;\n}; //  DIFF FUNCTIONS\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\n\n\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\n\ndiff_match_patch.Diff = function (op, text) {\n  return [op, text];\n};\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_main = function (text1, text2, opt_checklines, opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = new Date().getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n\n  var deadline = opt_deadline; // Check for null inputs.\n\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  } // Check for equality (speedup).\n\n\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n\n  var checklines = opt_checklines; // Trim off common prefix (speedup).\n\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength); // Trim off common suffix (speedup).\n\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength); // Compute the diff on the middle block.\n\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline); // Restore the prefix and suffix.\n\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_compute_ = function (text1, text2, checklines, deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)), new diff_match_patch.Diff(DIFF_EQUAL, shorttext), new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(i + shorttext.length))]; // Swap insertions for deletions if diff is reversed.\n\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  } // Check to see if the problem can be split in two.\n\n\n  var hm = this.diff_halfMatch_(text1, text2);\n\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4]; // Send both pairs off for separate processing.\n\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline); // Merge the results.\n\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)], diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_lineMode_ = function (text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n  var diffs = this.diff_main(text1, text2, false, deadline); // Convert the diff back to original text.\n\n  this.diff_charsToLines_(diffs, linearray); // Eliminate freak matches (e.g. blank lines)\n\n  this.diff_cleanupSemantic(diffs); // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff = this.diff_main(text_delete, text_insert, false, deadline);\n\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n\n          pointer = pointer + subDiff.length;\n        }\n\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n\n    pointer++;\n  }\n\n  diffs.pop(); // Remove the dummy entry at the end.\n\n  return diffs;\n};\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_bisect_ = function (text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length); // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length; // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n\n  var front = delta % 2 != 0; // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if (new Date().getTime() > deadline) {\n      break;\n    } // Walk the front path one step.\n\n\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n\n      if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n\n      var y1 = x1 - k1;\n\n      while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n\n      v1[k1_offset] = x1;\n\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    } // Walk the reverse path one step.\n\n\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n\n      if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n\n      var y2 = x2 - k2;\n\n      while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n\n      v2[k2_offset] = x2;\n\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset; // Mirror x2 onto top-left coordinate system.\n\n          x2 = text1_length - x2;\n\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  } // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n\n\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_bisectSplit_ = function (text1, text2, x, y, deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y); // Compute both diffs serially.\n\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n  return diffs.concat(diffsb);\n};\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_linesToChars_ = function (text1, text2) {\n  var lineArray = []; // e.g. lineArray[4] == 'Hello\\n'\n\n  var lineHash = {}; // e.g. lineHash['Hello\\n'] == 4\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n\n  lineArray[0] = '';\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n\n  function diff_linesToCharsMunge_(text) {\n    var chars = ''; // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n\n    var lineStart = 0;\n    var lineEnd = -1; // Keeping our own length variable is faster than looking it up.\n\n    var lineArrayLength = lineArray.length;\n\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== undefined) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n\n      lineStart = lineEnd + 1;\n    }\n\n    return chars;\n  } // Allocate 2/3rds of the space for text1, the rest for text2.\n\n\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {\n    chars1: chars1,\n    chars2: chars2,\n    lineArray: lineArray\n  };\n};\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_charsToLines_ = function (diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n\n    diffs[i][1] = text.join('');\n  }\n};\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\n\n\ndiff_match_patch.prototype.diff_commonPrefix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  } // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\n\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  return pointermid;\n};\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\n\n\ndiff_match_patch.prototype.diff_commonSuffix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  } // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\n\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  return pointermid;\n};\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_commonOverlap_ = function (text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length; // Eliminate the null case.\n\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  } // Truncate the longer string.\n\n\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n\n  var text_length = Math.min(text1_length, text2_length); // Quick check for the worst case.\n\n  if (text1 == text2) {\n    return text_length;\n  } // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n\n\n  var best = 0;\n  var length = 1;\n\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n\n    if (found == -1) {\n      return best;\n    }\n\n    length += found;\n\n    if (found == 0 || text1.substring(text_length - length) == text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_halfMatch_ = function (text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null; // Pointless.\n  }\n\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i), shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i), shorttext.substring(0, j));\n\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  } // First check if the second quarter is the seed for a half-match.\n\n\n  var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4)); // Check again based on the third quarter.\n\n  var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n  var hm;\n\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  } // A half-match was found, sort out the return data.\n\n\n  var text1_a, text1_b, text2_a, text2_b;\n\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_cleanupSemantic = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n\n  /** @type {?string} */\n\n  var lastEquality = null; // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\n  var pointer = 0; // Index of current position.\n  // Number of characters that changed prior to the equality.\n\n  var length_insertions1 = 0;\n  var length_deletions1 = 0; // Number of characters that changed after the equality.\n\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      } // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n\n\n      if (lastEquality && lastEquality.length <= Math.max(length_insertions1, length_deletions1) && lastEquality.length <= Math.max(length_insertions2, length_deletions2)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality)); // Change second copy to insert.\n\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT; // Throw away the equality we just deleted.\n\n        equalitiesLength--; // Throw away the previous equality (it needs to be reevaluated).\n\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0; // Reset the counters.\n\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n\n    pointer++;\n  } // Normalize the diff.\n\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n\n  this.diff_cleanupSemanticLossless(diffs); // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n\n  pointer = 1;\n\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE && diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 || overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 || overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] = deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n\n      pointer++;\n    }\n\n    pointer++;\n  }\n};\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function (diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    } // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n\n\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 && char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 && char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 && char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 && char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 && one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 && two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n\n    return 0;\n  }\n\n  var pointer = 1; // Intentionally ignore the first and last element (don't need checking).\n\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1]; // First, shift the edit as far left as possible.\n\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      } // Second, step character by character right, looking for the best fit.\n\n\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);\n\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2); // The >= encourages trailing rather than leading whitespace on edits.\n\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n\n        diffs[pointer][1] = bestEdit;\n\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n\n    pointer++;\n  }\n}; // Define some regex patterns for matching boundaries.\n\n\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\ndiff_match_patch.prototype.diff_cleanupEfficiency = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n\n  /** @type {?string} */\n\n  var lastEquality = null; // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\n  var pointer = 0; // Index of current position.\n  // Is there an insertion operation before the last equality.\n\n  var pre_ins = false; // Is there a deletion operation before the last equality.\n\n  var pre_del = false; // Is there an insertion operation after the last equality.\n\n  var post_ins = false; // Is there a deletion operation after the last equality.\n\n  var post_del = false;\n\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost && (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n\n      post_ins = post_del = false;\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n\n\n      if (lastEquality && (pre_ins && pre_del && post_ins && post_del || lastEquality.length < this.Diff_EditCost / 2 && pre_ins + pre_del + post_ins + post_del == 3)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality)); // Change second copy to insert.\n\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--; // Throw away the equality we just deleted;\n\n        lastEquality = null;\n\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--; // Throw away the previous equality.\n\n          pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n\n        changes = true;\n      }\n    }\n\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_cleanupMerge = function (diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n\n            if (commonlength !== 0) {\n              if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL, text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            } // Factor out any common suffixies.\n\n\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\n            }\n          } // Delete the offending records and add the merged ones.\n\n\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n\n          if (text_delete.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n\n          if (text_insert.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop(); // Remove the dummy entry at the end.\n  } // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n\n\n  var changes = false;\n  pointer = 1; // Intentionally ignore the first and last element (don't need checking).\n\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n\n    pointer++;\n  } // If shifts were made, the diff needs reordering and another shift sweep.\n\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\n\n\ndiff_match_patch.prototype.diff_xIndex = function (diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n\n    if (diffs[x][0] !== DIFF_DELETE) {\n      // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n\n    if (chars1 > loc) {\n      // Overshot the location.\n      break;\n    }\n\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  } // Was the location was deleted?\n\n\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  } // Add the remaining character length.\n\n\n  return last_chars2 + (loc - last_chars1);\n};\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\n\n\ndiff_match_patch.prototype.diff_prettyHtml = function (diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0]; // Operation (insert, delete, equal)\n\n    var data = diffs[x][1]; // Text of change.\n\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;').replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n\n  return html.join('');\n};\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\n\n\ndiff_match_patch.prototype.diff_text1 = function (diffs) {\n  var text = [];\n\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n\n  return text.join('');\n};\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\n\n\ndiff_match_patch.prototype.diff_text2 = function (diffs) {\n  var text = [];\n\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n\n  return text.join('');\n};\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\n\n\ndiff_match_patch.prototype.diff_levenshtein = function (diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\n\n\ndiff_match_patch.prototype.diff_toDelta = function (diffs) {\n  var text = [];\n\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\n\n\ndiff_match_patch.prototype.diff_fromDelta = function (text1, delta) {\n  var diffs = [];\n  var diffsLength = 0; // Keeping our own length var is faster in JS.\n\n  var pointer = 0; // Cursor in text1\n\n  var tokens = delta.split(/\\t/g);\n\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n\n        break;\n\n      case '-': // Fall through.\n\n      case '=':\n        var n = parseInt(param, 10);\n\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n\n        var text = text1.substring(pointer, pointer += n);\n\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n\n        break;\n\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' + tokens[x]);\n        }\n\n    }\n  }\n\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer + ') does not equal source text length (' + text1.length + ').');\n  }\n\n  return diffs;\n}; //  MATCH FUNCTIONS\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\n\n\ndiff_match_patch.prototype.match_main = function (text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\n\n\ndiff_match_patch.prototype.match_bitap_ = function (text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  } // Initialise the alphabet.\n\n\n  var s = this.match_alphabet_(pattern);\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n\n    return accuracy + proximity / dmp.Match_Distance;\n  } // Highest score beyond which we give up.\n\n\n  var score_threshold = this.Match_Threshold; // Is there a nearby exact match? (speedup)\n\n  var best_loc = text.indexOf(pattern, loc);\n\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold); // What about in the other direction? (speedup)\n\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n\n    if (best_loc != -1) {\n      score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  } // Initialise the bit arrays.\n\n\n  var matchmask = 1 << pattern.length - 1;\n  best_loc = -1;\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    } // Use the result from this iteration as the maximum for the next.\n\n\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n\n      if (d === 0) {\n        // First pass: exact match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch;\n      } else {\n        // Subsequent passes: fuzzy match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch | ((last_rd[j + 1] | last_rd[j]) << 1 | 1) | last_rd[j + 1];\n      }\n\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1); // This match will almost certainly be better than any existing match.\n        // But check anyway.\n\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    } // No hope for a (better) match at greater error levels.\n\n\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n\n    last_rd = rd;\n  }\n\n  return best_loc;\n};\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\n\n\ndiff_match_patch.prototype.match_alphabet_ = function (pattern) {\n  var s = {};\n\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << pattern.length - i - 1;\n  }\n\n  return s;\n}; //  PATCH FUNCTIONS\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\n\n\ndiff_match_patch.prototype.patch_addContext_ = function (patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0; // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) && pattern.length < this.Match_MaxBits - this.Patch_Margin - this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding, patch.start2 + patch.length1 + padding);\n  } // Add one chunk for good luck.\n\n\n  padding += this.Patch_Margin; // Add the prefix.\n\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  } // Add the suffix.\n\n\n  var suffix = text.substring(patch.start2 + patch.length1, patch.start2 + patch.length1 + padding);\n\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  } // Roll back the start points.\n\n\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length; // Extend the lengths.\n\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\n\n\ndiff_match_patch.prototype.patch_make = function (a, opt_b, opt_c) {\n  var text1, diffs;\n\n  if (typeof a == 'string' && typeof opt_b == 'string' && typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 =\n    /** @type {string} */\n    a;\n    diffs = this.diff_main(text1,\n    /** @type {string} */\n    opt_b, true);\n\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' && typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs =\n    /** @type {!Array.<!diff_match_patch.Diff>} */\n    a;\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' && typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 =\n    /** @type {string} */\n    a;\n    diffs =\n    /** @type {!Array.<!diff_match_patch.Diff>} */\n    opt_b;\n  } else if (typeof a == 'string' && typeof opt_b == 'string' && opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 =\n    /** @type {string} */\n    a;\n    diffs =\n    /** @type {!Array.<!diff_match_patch.Diff>} */\n    opt_c;\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return []; // Get rid of the null case.\n  }\n\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0; // Keeping our own length var is faster in JS.\n\n  var char_count1 = 0; // Number of characters into the text1 string.\n\n  var char_count2 = 0; // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text + postpatch_text.substring(char_count2);\n        break;\n\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) + postpatch_text.substring(char_count2 + diff_text.length);\n        break;\n\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin && patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0; // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n\n        break;\n    } // Update the current character count.\n\n\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  } // Pick up the leftover patch if not empty.\n\n\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\n\n\ndiff_match_patch.prototype.patch_deepCopy = function (patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] = new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n\n  return patchesCopy;\n};\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\n\n\ndiff_match_patch.prototype.patch_apply = function (patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  } // Deep copy the patches so that no changes are made to originals.\n\n\n  patches = this.patch_deepCopy(patches);\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n  this.patch_splitMax(patches); // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n\n  var delta = 0;\n  var results = [];\n\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits), expected_loc);\n\n      if (start_loc != -1) {\n        end_loc = this.match_main(text, text1.substring(text1.length - this.Match_MaxBits), expected_loc + text1.length - this.Match_MaxBits);\n\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false; // Subtract the delta for this failed patch from subsequent patches.\n\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) + this.diff_text2(patches[x].diffs) + text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n\n        if (text1.length > this.Match_MaxBits && this.diff_levenshtein(diffs) / text1.length > this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n\n            if (mod[0] === DIFF_INSERT) {\n              // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] + text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {\n              // Deletion\n              text = text.substring(0, start_loc + index2) + text.substring(start_loc + this.diff_xIndex(diffs, index1 + mod[1].length));\n            }\n\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  } // Strip the padding off.\n\n\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\n\n\ndiff_match_patch.prototype.patch_addPadding = function (patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  } // Bump all the patches forward.\n\n\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  } // Add some padding on start of first diff.\n\n\n  var patch = patches[0];\n  var diffs = patch.diffs;\n\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength; // Should be 0.\n\n    patch.start2 -= paddingLength; // Should be 0.\n\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  } // Add some padding on end of last diff.\n\n\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\n\n\ndiff_match_patch.prototype.patch_splitMax = function (patches) {\n  var patch_size = this.Match_MaxBits;\n\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n\n    var bigpatch = patches[x]; // Remove the big old patch.\n\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n\n      while (bigpatch.diffs.length !== 0 && patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 && patch.diffs[0][0] == DIFF_EQUAL && diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0, patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      } // Compute the head context for the next patch.\n\n\n      precontext = this.diff_text2(patch.diffs);\n      precontext = precontext.substring(precontext.length - this.Patch_Margin); // Append the end context for this patch.\n\n      var postcontext = this.diff_text1(bigpatch.diffs).substring(0, this.Patch_Margin);\n\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n\n        if (patch.diffs.length !== 0 && patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\n\n\ndiff_match_patch.prototype.patch_toText = function (patches) {\n  var text = [];\n\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n\n  return text.join('');\n};\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\n\n\ndiff_match_patch.prototype.patch_fromText = function (textline) {\n  var patches = [];\n\n  if (!textline) {\n    return patches;\n  }\n\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {// Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n\n      textPointer++;\n    }\n  }\n\n  return patches;\n};\n/**\n * Class representing one patch operation.\n * @constructor\n */\n\n\ndiff_match_patch.patch_obj = function () {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n\n  this.start1 = null;\n  /** @type {?number} */\n\n  this.start2 = null;\n  /** @type {number} */\n\n  this.length1 = 0;\n  /** @type {number} */\n\n  this.length2 = 0;\n};\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\n\n\ndiff_match_patch.patch_obj.prototype.toString = function () {\n  var coords1, coords2;\n\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = this.start1 + 1 + ',' + this.length1;\n  }\n\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = this.start2 + 1 + ',' + this.length2;\n  }\n\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op; // Escape the body of the patch with %xx notation.\n\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n\n      case DIFF_DELETE:\n        op = '-';\n        break;\n\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n\n  return text.join('').replace(/%20/g, ' ');\n}; // The following export code was added by @ForbesLindesay\n\n\nmodule.exports = diff_match_patch;\nmodule.exports.diff_match_patch = diff_match_patch;\nmodule.exports.DIFF_DELETE = DIFF_DELETE;\nmodule.exports.DIFF_INSERT = DIFF_INSERT;\nmodule.exports.DIFF_EQUAL = DIFF_EQUAL;\n\n/***/ }),\n\n/***/ 157:\n/***/ (() => {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 857:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ method)\n});\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(369);\n// EXTERNAL MODULE: ./src/ts/markdown/adapterRender.ts\nvar adapterRender = __webpack_require__(46);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(726);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(23);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(383);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(890);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(93);\n;// CONCATENATED MODULE: ./src/ts/markdown/lazyLoadImageRender.ts\nvar lazyLoadImageRender = function (element) {\n    if (element === void 0) { element = document; }\n    var loadImg = function (it) {\n        var testImage = document.createElement(\"img\");\n        testImage.src = it.getAttribute(\"data-src\");\n        testImage.addEventListener(\"load\", function () {\n            if (!it.getAttribute(\"style\") && !it.getAttribute(\"class\") &&\n                !it.getAttribute(\"width\") && !it.getAttribute(\"height\")) {\n                if (testImage.naturalHeight > testImage.naturalWidth &&\n                    testImage.naturalWidth / testImage.naturalHeight <\n                        document.querySelector(\".vditor-reset\").clientWidth / (window.innerHeight - 40) &&\n                    testImage.naturalHeight > (window.innerHeight - 40)) {\n                    it.style.height = (window.innerHeight - 40) + \"px\";\n                }\n            }\n            it.src = testImage.src;\n        });\n        it.removeAttribute(\"data-src\");\n    };\n    if (!(\"IntersectionObserver\" in window)) {\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            if (imgElement.getAttribute(\"data-src\")) {\n                loadImg(imgElement);\n            }\n        });\n        return false;\n    }\n    if (window.vditorImageIntersectionObserver) {\n        window.vditorImageIntersectionObserver.disconnect();\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n    else {\n        window.vditorImageIntersectionObserver = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entrie) {\n                if ((typeof entrie.isIntersecting === \"undefined\"\n                    ? entrie.intersectionRatio !== 0\n                    : entrie.isIntersecting)\n                    && entrie.target.getAttribute(\"data-src\")) {\n                    loadImg(entrie.target);\n                }\n            });\n        });\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(323);\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(207);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(765);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(894);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(198);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(583);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(260);\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(958);\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(228);\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(713);\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(224);\n;// CONCATENATED MODULE: ./src/ts/markdown/anchorRender.ts\nvar anchorRender = function (type) {\n    document.querySelectorAll(\".vditor-anchor\").forEach(function (anchor) {\n        if (type === 1) {\n            anchor.classList.add(\"vditor-anchor--left\");\n        }\n        anchor.onclick = function () {\n            var id = anchor.getAttribute(\"href\").substr(1);\n            var top = document.getElementById(\"vditorAnchor-\" + id).offsetTop;\n            document.querySelector(\"html\").scrollTop = top;\n        };\n    });\n    window.onhashchange = function () {\n        var element = document.getElementById(\"vditorAnchor-\" + decodeURIComponent(window.location.hash.substr(1)));\n        if (element) {\n            document.querySelector(\"html\").scrollTop = element.offsetTop;\n        }\n    };\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(792);\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(187);\n;// CONCATENATED MODULE: ./src/ts/markdown/speechRender.ts\n\nvar speechRender = function (element, lang) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (typeof speechSynthesis === \"undefined\" || typeof SpeechSynthesisUtterance === \"undefined\") {\n        return;\n    }\n    var playSVG = '<svg><use xlink:href=\"#vditor-icon-play\"></use></svg>';\n    var pauseSVG = '<svg><use xlink:href=\"#vditor-icon-pause\"></use></svg>';\n    var speechDom = document.querySelector(\".vditor-speech\");\n    if (!speechDom) {\n        speechDom = document.createElement(\"div\");\n        speechDom.className = \"vditor-speech\";\n        document.body.insertAdjacentElement(\"beforeend\", speechDom);\n        var getVoice = function () {\n            var voices = speechSynthesis.getVoices();\n            var currentVoice;\n            var defaultVoice;\n            voices.forEach(function (item) {\n                if (item.lang === lang.replace(\"_\", \"-\")) {\n                    currentVoice = item;\n                }\n                if (item.default) {\n                    defaultVoice = item;\n                }\n            });\n            if (!currentVoice) {\n                currentVoice = defaultVoice;\n            }\n            return currentVoice;\n        };\n        if (speechSynthesis.onvoiceschanged !== undefined) {\n            speechSynthesis.onvoiceschanged = getVoice;\n        }\n        var voice_1 = getVoice();\n        speechDom.onclick = function () {\n            if (speechDom.className === \"vditor-speech\") {\n                var utterThis = new SpeechSynthesisUtterance(speechDom.getAttribute(\"data-text\"));\n                utterThis.voice = voice_1;\n                utterThis.onend = function () {\n                    speechDom.className = \"vditor-speech\";\n                    speechSynthesis.cancel();\n                    speechDom.innerHTML = playSVG;\n                };\n                speechSynthesis.speak(utterThis);\n                speechDom.className = \"vditor-speech vditor-speech--current\";\n                speechDom.innerHTML = pauseSVG;\n            }\n            else {\n                if (speechSynthesis.speaking) {\n                    if (speechSynthesis.paused) {\n                        speechSynthesis.resume();\n                        speechDom.innerHTML = pauseSVG;\n                    }\n                    else {\n                        speechSynthesis.pause();\n                        speechDom.innerHTML = playSVG;\n                    }\n                }\n            }\n            (0,selection/* setSelectionFocus */.Hc)(window.vditorSpeechRange);\n        };\n        document.body.addEventListener(\"click\", function () {\n            if (getSelection().toString().trim() === \"\" && speechDom.style.display === \"block\") {\n                speechDom.className = \"vditor-speech\";\n                speechSynthesis.cancel();\n                speechDom.style.display = \"none\";\n            }\n        });\n    }\n    element.addEventListener(\"mouseup\", function (event) {\n        var text = getSelection().toString().trim();\n        speechSynthesis.cancel();\n        if (getSelection().toString().trim() === \"\") {\n            if (speechDom.style.display === \"block\") {\n                speechDom.className = \"vditor-speech\";\n                speechDom.style.display = \"none\";\n            }\n            return;\n        }\n        window.vditorSpeechRange = getSelection().getRangeAt(0).cloneRange();\n        var rect = getSelection().getRangeAt(0).getBoundingClientRect();\n        speechDom.innerHTML = playSVG;\n        speechDom.style.display = \"block\";\n        speechDom.style.top = (rect.top + rect.height + document.querySelector(\"html\").scrollTop - 20) + \"px\";\n        speechDom.style.left = (event.screenX + 2) + \"px\";\n        speechDom.setAttribute(\"data-text\", text);\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/markdown/previewRender.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar mergeOptions = function (options) {\n    var defaultOption = {\n        anchor: 0,\n        cdn: constants/* Constants.CDN */.g.CDN,\n        customEmoji: {},\n        emojiPath: ((options && options.emojiPath) || constants/* Constants.CDN */.g.CDN) + \"/dist/images/emoji\",\n        hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n        icon: \"ant\",\n        lang: \"zh_CN\",\n        markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n        math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n        mode: \"light\",\n        speech: {\n            enable: false,\n        },\n        theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n    };\n    return (0,merge/* merge */.T)(defaultOption, options);\n};\nvar md2html = function (mdText, options) {\n    var mergedOptions = mergeOptions(options);\n    return (0,addScript/* addScript */.G)(mergedOptions.cdn + \"/dist/js/lute/lute.min.js\", \"vditorLuteScript\").then(function () {\n        var lute = (0,setLute/* setLute */.X)({\n            autoSpace: mergedOptions.markdown.autoSpace,\n            codeBlockPreview: mergedOptions.markdown.codeBlockPreview,\n            emojiSite: mergedOptions.emojiPath,\n            emojis: mergedOptions.customEmoji,\n            fixTermTypo: mergedOptions.markdown.fixTermTypo,\n            footnotes: mergedOptions.markdown.footnotes,\n            headingAnchor: mergedOptions.anchor !== 0,\n            inlineMathDigit: mergedOptions.math.inlineDigit,\n            lazyLoadImage: mergedOptions.lazyLoadImage,\n            linkBase: mergedOptions.markdown.linkBase,\n            linkPrefix: mergedOptions.markdown.linkPrefix,\n            listStyle: mergedOptions.markdown.listStyle,\n            mark: mergedOptions.markdown.mark,\n            mathBlockPreview: mergedOptions.markdown.mathBlockPreview,\n            paragraphBeginningSpace: mergedOptions.markdown.paragraphBeginningSpace,\n            sanitize: mergedOptions.markdown.sanitize,\n            toc: mergedOptions.markdown.toc,\n        });\n        if (options === null || options === void 0 ? void 0 : options.renderers) {\n            lute.SetJSRenderers({\n                renderers: {\n                    Md2HTML: options.renderers,\n                },\n            });\n        }\n        lute.SetHeadingID(true);\n        return lute.Md2HTML(mdText);\n    });\n};\nvar previewRender = function (previewElement, markdown, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var mergedOptions, html;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                mergedOptions = mergeOptions(options);\n                return [4 /*yield*/, md2html(markdown, mergedOptions)];\n            case 1:\n                html = _a.sent();\n                if (mergedOptions.transform) {\n                    html = mergedOptions.transform(html);\n                }\n                previewElement.innerHTML = html;\n                previewElement.classList.add(\"vditor-reset\");\n                if (!mergedOptions.i18n) {\n                    if (![\"en_US\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) {\n                        throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n                    }\n                    else {\n                        (0,addScript/* addScriptSync */.J)(mergedOptions.cdn + \"/dist/js/i18n/\" + mergedOptions.lang + \".js\", \"vditorI18nScript\");\n                    }\n                }\n                else {\n                    window.VditorI18n = mergedOptions.i18n;\n                }\n                (0,setContentTheme/* setContentTheme */.Z)(mergedOptions.theme.current, mergedOptions.theme.path);\n                if (mergedOptions.anchor === 1) {\n                    previewElement.classList.add(\"vditor-reset--anchor\");\n                }\n                (0,codeRender/* codeRender */.O)(previewElement);\n                (0,highlightRender/* highlightRender */.s)(mergedOptions.hljs, previewElement, mergedOptions.cdn);\n                (0,mathRender/* mathRender */.H)(previewElement, {\n                    cdn: mergedOptions.cdn,\n                    math: mergedOptions.math,\n                });\n                (0,mermaidRender/* mermaidRender */.i)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,flowchartRender/* flowchartRender */.P)(previewElement, mergedOptions.cdn);\n                (0,graphvizRender/* graphvizRender */.v)(previewElement, mergedOptions.cdn);\n                (0,chartRender/* chartRender */.p)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,mindmapRender/* mindmapRender */.P)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,plantumlRender/* plantumlRender */.B)(previewElement, mergedOptions.cdn);\n                (0,abcRender/* abcRender */.Q)(previewElement, mergedOptions.cdn);\n                (0,mediaRender/* mediaRender */.Y)(previewElement);\n                if (mergedOptions.speech.enable) {\n                    speechRender(previewElement);\n                }\n                if (mergedOptions.anchor !== 0) {\n                    anchorRender(mergedOptions.anchor);\n                }\n                if (mergedOptions.after) {\n                    mergedOptions.after();\n                }\n                if (mergedOptions.lazyLoadImage) {\n                    lazyLoadImageRender(previewElement);\n                }\n                if (mergedOptions.icon) {\n                    (0,addScript/* addScript */.G)(mergedOptions.cdn + \"/dist/js/icons/\" + mergedOptions.icon + \".js\", \"vditorIconScript\");\n                }\n                previewElement.addEventListener(\"click\", function (event) {\n                    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n                    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                        var headingElement = previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                        if (headingElement) {\n                            window.scrollTo(window.scrollX, headingElement.offsetTop);\n                        }\n                        return;\n                    }\n                });\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(264);\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(968);\n;// CONCATENATED MODULE: ./src/method.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function () {\n    function Vditor() {\n    }\n    /** 点击图片放大 */\n    Vditor.adapterRender = adapterRender;\n    /** 点击图片放大 */\n    Vditor.previewImage = preview_image/* previewImage */.E;\n    /** 为 element 中的代码块添加复制按钮 */\n    Vditor.codeRender = codeRender/* codeRender */.O;\n    /** 对 graphviz 进行渲染 */\n    Vditor.graphvizRender = graphvizRender/* graphvizRender */.v;\n    /** 为 element 中的代码块进行高亮渲染 */\n    Vditor.highlightRender = highlightRender/* highlightRender */.s;\n    /** 对数学公式进行渲染 */\n    Vditor.mathRender = mathRender/* mathRender */.H;\n    /** 流程图/时序图/甘特图渲染 */\n    Vditor.mermaidRender = mermaidRender/* mermaidRender */.i;\n    /** flowchart.js 渲染 */\n    Vditor.flowchartRender = flowchartRender/* flowchartRender */.P;\n    /** 图表渲染 */\n    Vditor.chartRender = chartRender/* chartRender */.p;\n    /** 五线谱渲染 */\n    Vditor.abcRender = abcRender/* abcRender */.Q;\n    /** 脑图渲染 */\n    Vditor.mindmapRender = mindmapRender/* mindmapRender */.P;\n    /** plantuml渲染 */\n    Vditor.plantumlRender = plantumlRender/* plantumlRender */.B;\n    /** 大纲渲染 */\n    Vditor.outlineRender = outlineRender/* outlineRender */.k;\n    /** 为[特定链接](https://github.com/Vanessa219/vditor/issues/7)分别渲染为视频、音频、嵌入的 iframe */\n    Vditor.mediaRender = mediaRender/* mediaRender */.Y;\n    /** 对选中的文字进行阅读 */\n    Vditor.speechRender = speechRender;\n    /** 对图片进行懒加载 */\n    Vditor.lazyLoadImageRender = lazyLoadImageRender;\n    /** Markdown 文本转换为 HTML，该方法需使用[异步编程](https://ld246.com/article/1546828434083?r=Vaness) */\n    Vditor.md2html = md2html;\n    /** 页面 Markdown 文章渲染 */\n    Vditor.preview = previewRender;\n    /** 设置代码主题 */\n    Vditor.setCodeTheme = setCodeTheme/* setCodeTheme */.Y;\n    /** 设置内容主题 */\n    Vditor.setContentTheme = setContentTheme/* setContentTheme */.Z;\n    return Vditor;\n}());\n/* harmony default export */ const method = (Vditor);\n\n\n/***/ }),\n\n/***/ 260:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ _VDITOR_VERSION),\n/* harmony export */   \"g\": () => (/* binding */ Constants)\n/* harmony export */ });\nvar _VDITOR_VERSION = \"3.8.6\";\n\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.ZWSP = \"\\u200b\";\n    Constants.DROP_EDITOR = \"application/editor\";\n    Constants.MOBILE_WIDTH = 520;\n    Constants.CLASS_MENU_DISABLED = \"vditor-menu--disabled\";\n    Constants.EDIT_TOOLBARS = [\"emoji\", \"headings\", \"bold\", \"italic\", \"strike\", \"link\", \"list\",\n        \"ordered-list\", \"outdent\", \"indent\", \"check\", \"line\", \"quote\", \"code\", \"inline-code\", \"insert-after\",\n        \"insert-before\", \"upload\", \"record\", \"table\"];\n    Constants.CODE_THEME = [\"abap\", \"algol\", \"algol_nu\", \"arduino\", \"autumn\", \"borland\", \"bw\",\n        \"colorful\", \"dracula\", \"emacs\", \"friendly\", \"fruity\", \"github\", \"igor\", \"lovelace\", \"manni\", \"monokai\",\n        \"monokailight\", \"murphy\", \"native\", \"paraiso-dark\", \"paraiso-light\", \"pastie\", \"perldoc\", \"pygments\",\n        \"rainbow_dash\", \"rrt\", \"solarized-dark\", \"solarized-dark256\", \"solarized-light\", \"swapoff\", \"tango\", \"trac\",\n        \"vim\", \"vs\", \"xcode\", \"ant-design\"];\n    Constants.CODE_LANGUAGES = [\"mermaid\", \"echarts\", \"mindmap\", \"plantuml\", \"abc\", \"graphviz\", \"flowchart\", \"apache\",\n        \"js\", \"ts\", \"html\",\n        // common\n        \"properties\", \"apache\", \"bash\", \"c\", \"csharp\", \"cpp\", \"css\", \"coffeescript\", \"diff\", \"go\", \"xml\", \"http\",\n        \"json\", \"java\", \"javascript\", \"kotlin\", \"less\", \"lua\", \"makefile\", \"markdown\", \"nginx\", \"objectivec\", \"php\",\n        \"php-template\", \"perl\", \"plaintext\", \"python\", \"python-repl\", \"r\", \"ruby\", \"rust\", \"scss\", \"sql\", \"shell\",\n        \"swift\", \"ini\", \"typescript\", \"vbnet\", \"yaml\",\n        \"ada\", \"clojure\", \"dart\", \"erb\", \"fortran\", \"gradle\", \"haskell\", \"julia\", \"julia-repl\", \"lisp\", \"matlab\",\n        \"pgsql\", \"powershell\", \"sql_more\", \"stata\", \"cmake\", \"mathematica\"];\n    Constants.CDN = \"https://cdn.jsdelivr.net/npm/vditor@\" + \"3.8.6\";\n    Constants.MARKDOWN_OPTIONS = {\n        autoSpace: false,\n        codeBlockPreview: true,\n        fixTermTypo: false,\n        footnotes: true,\n        linkBase: \"\",\n        linkPrefix: \"\",\n        listStyle: false,\n        mark: false,\n        mathBlockPreview: true,\n        paragraphBeginningSpace: false,\n        sanitize: true,\n        toc: false,\n    };\n    Constants.HLJS_OPTIONS = {\n        enable: true,\n        lineNumber: false,\n        style: \"github\",\n    };\n    Constants.MATH_OPTIONS = {\n        engine: \"KaTeX\",\n        inlineDigit: false,\n        macros: {},\n    };\n    Constants.THEME_OPTIONS = {\n        current: \"light\",\n        list: {\n            \"ant-design\": \"Ant Design\",\n            \"dark\": \"Dark\",\n            \"light\": \"Light\",\n            \"wechat\": \"WeChat\",\n        },\n        path: Constants.CDN + \"/dist/css/content-theme\",\n    };\n    return Constants;\n}());\n\n\n\n/***/ }),\n\n/***/ 369:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Q\": () => (/* binding */ abcRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar abcRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var abcElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getElements(element);\n    if (abcElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/abcjs/abcjs_basic.min.js\", \"vditorAbcjsScript\").then(function () {\n            abcElements.forEach(function (item) {\n                if (item.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    item.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                if (item.getAttribute(\"data-processed\") === \"true\") {\n                    return;\n                }\n                ABCJS.renderAbc(item, _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getCode(item).trim());\n                item.style.overflowX = \"auto\";\n                item.setAttribute(\"data-processed\", \"true\");\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 46:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"mathRenderAdapter\": () => (/* binding */ mathRenderAdapter),\n/* harmony export */   \"mermaidRenderAdapter\": () => (/* binding */ mermaidRenderAdapter),\n/* harmony export */   \"mindmapRenderAdapter\": () => (/* binding */ mindmapRenderAdapter),\n/* harmony export */   \"chartRenderAdapter\": () => (/* binding */ chartRenderAdapter),\n/* harmony export */   \"abcRenderAdapter\": () => (/* binding */ abcRenderAdapter),\n/* harmony export */   \"graphvizRenderAdapter\": () => (/* binding */ graphvizRenderAdapter),\n/* harmony export */   \"flowchartRenderAdapter\": () => (/* binding */ flowchartRenderAdapter),\n/* harmony export */   \"plantumlRenderAdapter\": () => (/* binding */ plantumlRenderAdapter)\n/* harmony export */ });\nvar mathRenderAdapter = {\n    getCode: function (mathElement) { return mathElement.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-math\"); },\n};\nvar mermaidRenderAdapter = {\n    /** 不仅要返回code，并且需要将 code 设置为 el 的 innerHTML */\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-mermaid\"); },\n};\nvar mindmapRenderAdapter = {\n    getCode: function (el) { return el.getAttribute(\"data-code\"); },\n    getElements: function (el) { return el.querySelectorAll(\".language-mindmap\"); },\n};\nvar chartRenderAdapter = {\n    getCode: function (el) { return el.innerText; },\n    getElements: function (el) { return el.querySelectorAll(\".language-echarts\"); },\n};\nvar abcRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-abc\"); },\n};\nvar graphvizRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-graphviz\"); },\n};\nvar flowchartRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-flowchart\"); },\n};\nvar plantumlRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-plantuml\"); },\n};\n\n\n/***/ }),\n\n/***/ 726:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"p\": () => (/* binding */ chartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar chartRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var echartsElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getElements(element);\n    if (echartsElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/echarts/echarts.min.js\", \"vditorEchartsScript\").then(function () {\n            echartsElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getCode(e).trim();\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    var option = JSON.parse(text);\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption(option);\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"echarts render error: <br>\" + error;\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 23:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"O\": () => (/* binding */ codeRender)\n/* harmony export */ });\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(769);\n\nvar codeRender = function (element) {\n    element.querySelectorAll(\"pre > code\").forEach(function (e, index) {\n        if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n            e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n            return;\n        }\n        if (e.classList.contains(\"language-mermaid\") || e.classList.contains(\"language-flowchart\") ||\n            e.classList.contains(\"language-echarts\") || e.classList.contains(\"language-mindmap\") ||\n            e.classList.contains(\"language-plantuml\") ||\n            e.classList.contains(\"language-abc\") || e.classList.contains(\"language-graphviz\") ||\n            e.classList.contains(\"language-math\")) {\n            return;\n        }\n        if (e.style.maxHeight.indexOf(\"px\") > -1) {\n            return;\n        }\n        // 避免预览区在渲染后由于代码块过多产生性能问题 https://github.com/b3log/vditor/issues/67\n        if (element.classList.contains(\"vditor-preview\") && index > 5) {\n            return;\n        }\n        var codeText = e.innerText;\n        if (e.classList.contains(\"highlight-chroma\")) {\n            var codeElement = document.createElement(\"code\");\n            codeElement.innerHTML = e.innerHTML;\n            codeElement.querySelectorAll(\".highlight-ln\").forEach(function (item) {\n                item.remove();\n            });\n            codeText = codeElement.innerText;\n        }\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-copy\";\n        divElement.innerHTML = \"<span aria-label=\\\"\" + window.VditorI18n.copy + \"\\\"\\nonmouseover=\\\"this.setAttribute('aria-label', '\" + window.VditorI18n.copy + \"')\\\"\\nclass=\\\"vditor-tooltipped vditor-tooltipped__w\\\"\\nonclick=\\\"this.previousElementSibling.select();document.execCommand('copy');\" +\n            (\"this.setAttribute('aria-label', '\" + window.VditorI18n.copied + \"')\\\"><svg><use xlink:href=\\\"#vditor-icon-copy\\\"></use></svg></span>\");\n        var textarea = document.createElement(\"textarea\");\n        textarea.value = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_0__/* .code160to32 */ .X)(codeText);\n        divElement.insertAdjacentElement(\"afterbegin\", textarea);\n        e.before(divElement);\n        e.style.maxHeight = (window.outerHeight - 40) + \"px\";\n    });\n};\n\n\n/***/ }),\n\n/***/ 383:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ flowchartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar flowchartRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var flowchartElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getElements(element);\n    if (flowchartElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/flowchart.js/flowchart.min.js\", \"vditorFlowchartScript\").then(function () {\n        flowchartElements.forEach(function (item) {\n            if (item.getAttribute(\"data-processed\") === \"true\") {\n                return;\n            }\n            var flowchartObj = flowchart.parse(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getCode(item));\n            item.innerHTML = \"\";\n            flowchartObj.drawSVG(item);\n            item.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 890:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"v\": () => (/* binding */ graphvizRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar graphvizRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var graphvizElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getElements(element);\n    if (graphvizElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/graphviz/viz.js\", \"vditorGraphVizScript\").then(function () {\n        graphvizElements.forEach(function (e) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getCode(e);\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            if (e.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            try {\n                var blob = new Blob([\"importScripts('\" + document.getElementById(\"vditorGraphVizScript\").src.replace(\"viz.js\", \"full.render.js\") + \"');\"], { type: \"application/javascript\" });\n                var url = window.URL || window.webkitURL;\n                var blobUrl = url.createObjectURL(blob);\n                var worker = new Worker(blobUrl);\n                new Viz({ worker: worker })\n                    .renderSVGElement(code).then(function (result) {\n                    e.innerHTML = result.outerHTML;\n                }).catch(function (error) {\n                    e.innerHTML = \"graphviz render error: <br>\" + error;\n                    e.className = \"vditor-reset--error\";\n                });\n            }\n            catch (e) {\n                console.error(\"graphviz error\", e);\n            }\n            e.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 93:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"s\": () => (/* binding */ highlightRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(946);\n\n\n\nvar highlightRender = function (hljsOption, element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var style = hljsOption.style;\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(style)) {\n        style = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = cdn + \"/dist/js/highlight.js/styles/\" + style + \".css\";\n    if (vditorHljsStyle && vditorHljsStyle.href !== href) {\n        vditorHljsStyle.remove();\n    }\n    (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(cdn + \"/dist/js/highlight.js/styles/\" + style + \".css\", \"vditorHljsStyle\");\n    if (hljsOption.enable === false) {\n        return;\n    }\n    var codes = element.querySelectorAll(\"pre > code\");\n    if (codes.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/highlight.js/highlight.pack.js\", \"vditorHljsScript\").then(function () {\n        element.querySelectorAll(\"pre > code\").forEach(function (block) {\n            // ir & wysiwyg 区域不渲染\n            if (block.parentElement.classList.contains(\"vditor-ir__marker--pre\") ||\n                block.parentElement.classList.contains(\"vditor-wysiwyg__pre\")) {\n                return;\n            }\n            if (block.classList.contains(\"language-mermaid\") || block.classList.contains(\"language-flowchart\") ||\n                block.classList.contains(\"language-echarts\") || block.classList.contains(\"language-mindmap\") ||\n                block.classList.contains(\"language-plantuml\") ||\n                block.classList.contains(\"language-abc\") || block.classList.contains(\"language-graphviz\") ||\n                block.classList.contains(\"language-math\")) {\n                return;\n            }\n            hljs.highlightElement(block);\n            if (!hljsOption.lineNumber) {\n                return;\n            }\n            block.classList.add(\"vditor-linenumber\");\n            var linenNumberTemp = block.querySelector(\".vditor-linenumber__temp\");\n            if (!linenNumberTemp) {\n                linenNumberTemp = document.createElement(\"div\");\n                linenNumberTemp.className = \"vditor-linenumber__temp\";\n                block.insertAdjacentElement(\"beforeend\", linenNumberTemp);\n            }\n            var whiteSpace = getComputedStyle(block).whiteSpace;\n            var isSoftWrap = false;\n            if (whiteSpace === \"pre-wrap\" || whiteSpace === \"pre-line\") {\n                isSoftWrap = true;\n            }\n            var lineNumberHTML = \"\";\n            var lineList = block.textContent.split(/\\r\\n|\\r|\\n/g);\n            lineList.pop();\n            lineList.map(function (line) {\n                var lineHeight = \"\";\n                if (isSoftWrap) {\n                    linenNumberTemp.textContent = line || \"\\n\";\n                    lineHeight = \" style=\\\"height:\" + linenNumberTemp.getBoundingClientRect().height + \"px\\\"\";\n                }\n                lineNumberHTML += \"<span\" + lineHeight + \"></span>\";\n            });\n            linenNumberTemp.style.display = \"none\";\n            lineNumberHTML = \"<span class=\\\"vditor-linenumber__rows\\\">\" + lineNumberHTML + \"</span>\";\n            block.insertAdjacentHTML(\"beforeend\", lineNumberHTML);\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 323:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ mathRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(228);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(946);\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(769);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\n\n\nvar mathRender = function (element, options) {\n    var mathElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getElements(element);\n    if (mathElements.length === 0) {\n        return;\n    }\n    var defaultOptions = {\n        cdn: _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN,\n        math: {\n            engine: \"KaTeX\",\n            inlineDigit: false,\n            macros: {},\n        },\n    };\n    if (options && options.math) {\n        options.math =\n            Object.assign({}, defaultOptions.math, options.math);\n    }\n    options = Object.assign({}, defaultOptions, options);\n    if (options.math.engine === \"KaTeX\") {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_2__/* .addStyle */ .c)(options.cdn + \"/dist/js/katex/katex.min.css\", \"vditorKatexStyle\");\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScript */ .G)(options.cdn + \"/dist/js/katex/katex.min.js\", \"vditorKatexScript\").then(function () {\n            mathElements.forEach(function (mathElement) {\n                if (mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                if (mathElement.getAttribute(\"data-math\")) {\n                    return;\n                }\n                var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getCode(mathElement));\n                mathElement.setAttribute(\"data-math\", math);\n                try {\n                    mathElement.innerHTML = katex.renderToString(math, {\n                        displayMode: mathElement.tagName === \"DIV\",\n                        output: \"html\",\n                    });\n                }\n                catch (e) {\n                    mathElement.innerHTML = e.message;\n                    mathElement.className = \"language-math vditor-reset--error\";\n                }\n                mathElement.addEventListener(\"copy\", function (event) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    var vditorMathElement = event.currentTarget.closest(\".language-math\");\n                    event.clipboardData.setData(\"text/html\", vditorMathElement.innerHTML);\n                    event.clipboardData.setData(\"text/plain\", vditorMathElement.getAttribute(\"data-math\"));\n                });\n            });\n        });\n    }\n    else if (options.math.engine === \"MathJax\") {\n        var chainAsync_1 = function (fns) {\n            if (fns.length === 0) {\n                return;\n            }\n            var curr = 0;\n            var last = fns[fns.length - 1];\n            var next = function () {\n                var fn = fns[curr++];\n                fn === last ? fn() : fn(next);\n            };\n            next();\n        };\n        if (!window.MathJax) {\n            window.MathJax = {\n                loader: {\n                    paths: { mathjax: options.cdn + \"/dist/js/mathjax\" },\n                },\n                startup: {\n                    typeset: false,\n                },\n                tex: {\n                    macros: options.math.macros,\n                },\n            };\n        }\n        // 循环加载会抛异常\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScriptSync */ .J)(options.cdn + \"/dist/js/mathjax/tex-svg-full.js\", \"protyleMathJaxScript\");\n        var renderMath_1 = function (mathElement, next) {\n            var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim();\n            var mathOptions = window.MathJax.getMetricsFor(mathElement);\n            mathOptions.display = mathElement.tagName === \"DIV\";\n            window.MathJax.tex2svgPromise(math, mathOptions).then(function (node) {\n                mathElement.innerHTML = \"\";\n                mathElement.setAttribute(\"data-math\", math);\n                mathElement.append(node);\n                window.MathJax.startup.document.clear();\n                window.MathJax.startup.document.updateDocument();\n                var errorTextElement = node.querySelector('[data-mml-node=\"merror\"]');\n                if (errorTextElement && errorTextElement.textContent.trim() !== \"\") {\n                    mathElement.innerHTML = errorTextElement.textContent.trim();\n                    mathElement.className = \"vditor-reset--error\";\n                }\n                if (next) {\n                    next();\n                }\n            });\n        };\n        window.MathJax.startup.promise.then(function () {\n            var chains = [];\n            var _loop_1 = function (i) {\n                var mathElement = mathElements[i];\n                if (!mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") &&\n                    !mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\") &&\n                    !mathElement.getAttribute(\"data-math\") && (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim()) {\n                    chains.push(function (next) {\n                        if (i === mathElements.length - 1) {\n                            renderMath_1(mathElement);\n                        }\n                        else {\n                            renderMath_1(mathElement, next);\n                        }\n                    });\n                }\n            };\n            for (var i = 0; i < mathElements.length; i++) {\n                _loop_1(i);\n            }\n            chainAsync_1(chains);\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 207:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ mediaRender)\n/* harmony export */ });\nvar videoRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<video controls=\\\"controls\\\" src=\\\"\" + url + \"\\\"></video>\");\n    element.remove();\n};\nvar audioRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<audio controls=\\\"controls\\\" src=\\\"\" + url + \"\\\"></audio>\");\n    element.remove();\n};\nvar iframeRender = function (element, url) {\n    var youtubeMatch = url.match(/\\/\\/(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?/);\n    var youkuMatch = url.match(/\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/);\n    var qqMatch = url.match(/\\/\\/v\\.qq\\.com\\/x\\/cover\\/.*\\/([^\\/]+)\\.html\\??.*/);\n    var coubMatch = url.match(/(?:www\\.|\\/\\/)coub\\.com\\/view\\/(\\w+)/);\n    var facebookMatch = url.match(/(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/);\n    var dailymotionMatch = url.match(/.+dailymotion.com\\/(video|hub)\\/(\\w+)\\?/);\n    var bilibiliMatch = url.match(/(?:www\\.|\\/\\/)bilibili\\.com\\/video\\/(\\w+)/);\n    var tedMatch = url.match(/(?:www\\.|\\/\\/)ted\\.com\\/talks\\/(\\w+)/);\n    if (youtubeMatch && youtubeMatch[1].length === 11) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//www.youtube.com/embed/\" + (youtubeMatch[1] +\n            (youtubeMatch[2] ? \"?start=\" + youtubeMatch[2] : \"\")) + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (youkuMatch && youkuMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//player.youku.com/embed/\" + youkuMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (qqMatch && qqMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"https://v.qq.com/txp/iframe/player.html?vid=\" + qqMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (coubMatch && coubMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"//coub.com/embed/\" + coubMatch[1] + \"?muted=false&autostart=false&originalSize=true&startWithHD=true\\\"></iframe>\");\n        element.remove();\n    }\n    else if (facebookMatch && facebookMatch[0]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.facebook.com/plugins/video.php?href=\" + encodeURIComponent(facebookMatch[0]) + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (dailymotionMatch && dailymotionMatch[2]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.dailymotion.com/embed/video/\" + dailymotionMatch[2] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (bilibiliMatch && bilibiliMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"//player.bilibili.com/player.html?bvid=\" + bilibiliMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (tedMatch && tedMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//embed.ted.com/talks/\" + tedMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n};\nvar mediaRender = function (element) {\n    if (!element) {\n        return;\n    }\n    element.querySelectorAll(\"a\").forEach(function (aElement) {\n        var url = aElement.getAttribute(\"href\");\n        if (!url) {\n            return;\n        }\n        if (url.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)) {\n            videoRender(aElement, url);\n        }\n        else if (url.match(/^.+.(mp3|wav|flac)$/)) {\n            audioRender(aElement, url);\n        }\n        else {\n            iframeRender(aElement, url);\n        }\n    });\n};\n\n\n/***/ }),\n\n/***/ 765:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"i\": () => (/* binding */ mermaidRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar mermaidRender = function (element, cdn, theme) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mermaidElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getElements(element);\n    if (mermaidElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/mermaid/mermaid.min.js\", \"vditorMermaidScript\").then(function () {\n        var config = {\n            altFontFamily: \"sans-serif\",\n            flowchart: {\n                htmlLabels: true,\n                useMaxWidth: true,\n            },\n            fontFamily: \"sans-serif\",\n            gantt: {\n                leftPadding: 75,\n                rightPadding: 20,\n            },\n            securityLevel: \"loose\",\n            sequence: {\n                boxMargin: 8,\n                diagramMarginX: 8,\n                diagramMarginY: 8,\n                useMaxWidth: true,\n            },\n            startOnLoad: false,\n        };\n        if (theme === \"dark\") {\n            config.theme = \"dark\";\n            config.themeVariables = {\n                activationBkgColor: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                activationBorderColor: \"#81B1DB\",\n                activeTaskBkgColor: \"#81B1DB\",\n                activeTaskBorderColor: \"#ffffff\",\n                actorBkg: \"#1f2020\",\n                actorBorder: \"#81B1DB\",\n                actorLineColor: \"lightgrey\",\n                actorTextColor: \"lightgrey\",\n                altBackground: \"hsl(0, 0%, 40%)\",\n                altSectionBkgColor: \"#333\",\n                arrowheadColor: \"lightgrey\",\n                background: \"#333\",\n                border1: \"#81B1DB\",\n                border2: \"rgba(255, 255, 255, 0.25)\",\n                classText: \"#e0dfdf\",\n                clusterBkg: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                clusterBorder: \"rgba(255, 255, 255, 0.25)\",\n                critBkgColor: \"#E83737\",\n                critBorderColor: \"#E83737\",\n                darkTextColor: \"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)\",\n                defaultLinkColor: \"lightgrey\",\n                doneTaskBkgColor: \"lightgrey\",\n                doneTaskBorderColor: \"grey\",\n                edgeLabelBackground: \"hsl(0, 0%, 34.4117647059%)\",\n                errorBkgColor: \"#a44141\",\n                errorTextColor: \"#ddd\",\n                fillType0: \"#1f2020\",\n                fillType1: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                fillType2: \"hsl(244, 1.5873015873%, 12.3529411765%)\",\n                fillType3: \"hsl(244, 1.5873015873%, 28.3529411765%)\",\n                fillType4: \"hsl(116, 1.5873015873%, 12.3529411765%)\",\n                fillType5: \"hsl(116, 1.5873015873%, 28.3529411765%)\",\n                fillType6: \"hsl(308, 1.5873015873%, 12.3529411765%)\",\n                fillType7: \"hsl(308, 1.5873015873%, 28.3529411765%)\",\n                fontFamily: \"\\\"trebuchet ms\\\", verdana, arial\",\n                fontSize: \"16px\",\n                gridColor: \"lightgrey\",\n                labelBackground: \"#181818\",\n                labelBoxBkgColor: \"#1f2020\",\n                labelBoxBorderColor: \"#81B1DB\",\n                labelColor: \"#ccc\",\n                labelTextColor: \"lightgrey\",\n                lineColor: \"lightgrey\",\n                loopTextColor: \"lightgrey\",\n                mainBkg: \"#1f2020\",\n                mainContrastColor: \"lightgrey\",\n                nodeBkg: \"#1f2020\",\n                nodeBorder: \"#81B1DB\",\n                noteBkgColor: \"#fff5ad\",\n                noteBorderColor: \"rgba(255, 255, 255, 0.25)\",\n                noteTextColor: \"#1f2020\",\n                primaryBorderColor: \"hsl(180, 0%, 2.3529411765%)\",\n                primaryColor: \"#1f2020\",\n                primaryTextColor: \"#e0dfdf\",\n                secondBkg: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                secondaryBorderColor: \"hsl(180, 0%, 18.3529411765%)\",\n                secondaryColor: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                secondaryTextColor: \"rgb(183.8476190475, 181.5523809523, 181.5523809523)\",\n                sectionBkgColor: \"hsl(52.9411764706, 28.813559322%, 58.431372549%)\",\n                sectionBkgColor2: \"#EAE8D9\",\n                sequenceNumberColor: \"black\",\n                signalColor: \"lightgrey\",\n                signalTextColor: \"lightgrey\",\n                taskBkgColor: \"hsl(180, 1.5873015873%, 35.3529411765%)\",\n                taskBorderColor: \"#ffffff\",\n                taskTextClickableColor: \"#003163\",\n                taskTextColor: \"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)\",\n                taskTextDarkColor: \"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)\",\n                taskTextLightColor: \"lightgrey\",\n                taskTextOutsideColor: \"lightgrey\",\n                tertiaryBorderColor: \"hsl(20, 0%, 2.3529411765%)\",\n                tertiaryColor: \"hsl(20, 1.5873015873%, 12.3529411765%)\",\n                tertiaryTextColor: \"rgb(222.9999999999, 223.6666666666, 223.9999999999)\",\n                textColor: \"#ccc\",\n                titleColor: \"#F9FFFE\",\n                todayLineColor: \"#DB5757\",\n            };\n        }\n        mermaid.initialize(config);\n        mermaidElements.forEach(function (item) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getCode(item);\n            if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            mermaid.init(undefined, item);\n            item.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 894:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ mindmapRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar mindmapRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mindmapElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getElements(element);\n    if (mindmapElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/echarts/echarts.min.js\", \"vditorEchartsScript\").then(function () {\n            mindmapElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getCode(e);\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption({\n                        series: [\n                            {\n                                data: [JSON.parse(decodeURIComponent(text))],\n                                initialTreeDepth: -1,\n                                itemStyle: {\n                                    borderWidth: 0,\n                                    color: \"#4285f4\",\n                                },\n                                label: {\n                                    backgroundColor: \"#f6f8fa\",\n                                    borderColor: \"#d1d5da\",\n                                    borderRadius: 5,\n                                    borderWidth: 0.5,\n                                    color: \"#586069\",\n                                    lineHeight: 20,\n                                    offset: [-5, 0],\n                                    padding: [0, 5],\n                                    position: \"insideRight\",\n                                },\n                                lineStyle: {\n                                    color: \"#d1d5da\",\n                                    width: 1,\n                                },\n                                roam: true,\n                                symbol: function (value, params) {\n                                    var _a;\n                                    if ((_a = params === null || params === void 0 ? void 0 : params.data) === null || _a === void 0 ? void 0 : _a.children) {\n                                        return \"circle\";\n                                    }\n                                    else {\n                                        return \"path://\";\n                                    }\n                                },\n                                type: \"tree\",\n                            },\n                        ],\n                        tooltip: {\n                            trigger: \"item\",\n                            triggerOn: \"mousemove\",\n                        },\n                    });\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"mindmap render error: <br>\" + error;\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 198:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"k\": () => (/* binding */ outlineRender)\n/* harmony export */ });\n/* harmony import */ var _util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(615);\n/* harmony import */ var _mathRender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(323);\n\n\nvar outlineRender = function (contentElement, targetElement, vditor) {\n    var tocHTML = \"\";\n    var ids = [];\n    Array.from(contentElement.children).forEach(function (item, index) {\n        if ((0,_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByHeadings */ .W)(item)) {\n            if (vditor) {\n                var lastIndex = item.id.lastIndexOf(\"_\");\n                item.id = item.id.substring(0, lastIndex === -1 ? undefined : lastIndex) + \"_\" + index;\n            }\n            ids.push(item.id);\n            tocHTML += item.outerHTML.replace(\"<wbr>\", \"\");\n        }\n    });\n    if (tocHTML === \"\") {\n        targetElement.innerHTML = \"\";\n        return \"\";\n    }\n    var tempElement = document.createElement(\"div\");\n    if (vditor) {\n        vditor.lute.SetToC(true);\n        if (vditor.currentMode === \"wysiwyg\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else if (vditor.currentMode === \"ir\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else {\n            tempElement.innerHTML = vditor.lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        vditor.lute.SetToC(vditor.options.preview.markdown.toc);\n    }\n    else {\n        targetElement.classList.add(\"vditor-outline\");\n        var lute = Lute.New();\n        lute.SetToC(true);\n        tempElement.innerHTML = lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n    }\n    var headingsElement = tempElement.firstElementChild.querySelectorAll(\"li > span[data-target-id]\");\n    headingsElement.forEach(function (item, index) {\n        if (item.nextElementSibling && item.nextElementSibling.tagName === \"UL\") {\n            item.innerHTML = \"<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg><span>\" + item.innerHTML + \"</span>\";\n        }\n        else {\n            item.innerHTML = \"<svg></svg><span>\" + item.innerHTML + \"</span>\";\n        }\n        item.setAttribute(\"data-target-id\", ids[index]);\n    });\n    tocHTML = tempElement.firstElementChild.innerHTML;\n    if (headingsElement.length === 0) {\n        targetElement.innerHTML = \"\";\n        return tocHTML;\n    }\n    targetElement.innerHTML = tocHTML;\n    if (vditor) {\n        (0,_mathRender__WEBPACK_IMPORTED_MODULE_0__/* .mathRender */ .H)(targetElement, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    }\n    targetElement.firstElementChild.addEventListener(\"click\", function (event) {\n        var target = event.target;\n        while (target && !target.isEqualNode(targetElement)) {\n            if (target.classList.contains(\"vditor-outline__action\")) {\n                if (target.classList.contains(\"vditor-outline__action--close\")) {\n                    target.classList.remove(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:block\");\n                }\n                else {\n                    target.classList.add(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            }\n            else if (target.getAttribute(\"data-target-id\")) {\n                event.preventDefault();\n                event.stopPropagation();\n                var idElement = document.getElementById(target.getAttribute(\"data-target-id\"));\n                if (!idElement) {\n                    return;\n                }\n                if (vditor) {\n                    if (vditor.options.height === \"auto\") {\n                        var windowScrollY = idElement.offsetTop + vditor.element.offsetTop;\n                        if (!vditor.options.toolbarConfig.pin) {\n                            windowScrollY += vditor.toolbar.element.offsetHeight;\n                        }\n                        window.scrollTo(window.scrollX, windowScrollY);\n                    }\n                    else {\n                        if (vditor.element.offsetTop < window.scrollY) {\n                            window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                        }\n                        if (vditor.preview.element.contains(contentElement)) {\n                            contentElement.parentElement.scrollTop = idElement.offsetTop;\n                        }\n                        else {\n                            contentElement.scrollTop = idElement.offsetTop;\n                        }\n                    }\n                }\n                else {\n                    window.scrollTo(window.scrollX, idElement.offsetTop);\n                }\n                break;\n            }\n            target = target.parentElement;\n        }\n    });\n    return tocHTML;\n};\n\n\n/***/ }),\n\n/***/ 583:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"B\": () => (/* binding */ plantumlRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar plantumlRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var plantumlElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getElements(element);\n    if (plantumlElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/plantuml/plantuml-encoder.min.js\", \"vditorPlantumlScript\").then(function () {\n        plantumlElements.forEach(function (e) {\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getCode(e).trim();\n            if (!text) {\n                return;\n            }\n            try {\n                e.innerHTML = \"<img src=\\\"http://www.plantuml.com/plantuml/svg/~1\" + plantumlEncoder.encode(text) + \"\\\">\";\n            }\n            catch (error) {\n                e.className = \"vditor-reset--error\";\n                e.innerHTML = \"plantuml render error: <br>\" + error;\n            }\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 792:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ setLute)\n/* harmony export */ });\nvar setLute = function (options) {\n    var lute = Lute.New();\n    lute.PutEmojis(options.emojis);\n    lute.SetEmojiSite(options.emojiSite);\n    lute.SetHeadingAnchor(options.headingAnchor);\n    lute.SetInlineMathAllowDigitAfterOpenMarker(options.inlineMathDigit);\n    lute.SetAutoSpace(options.autoSpace);\n    lute.SetToC(options.toc);\n    lute.SetFootnotes(options.footnotes);\n    lute.SetFixTermTypo(options.fixTermTypo);\n    lute.SetVditorCodeBlockPreview(options.codeBlockPreview);\n    lute.SetVditorMathBlockPreview(options.mathBlockPreview);\n    lute.SetSanitize(options.sanitize);\n    lute.SetChineseParagraphBeginningSpace(options.paragraphBeginningSpace);\n    lute.SetRenderListStyle(options.listStyle);\n    lute.SetLinkBase(options.linkBase);\n    lute.SetLinkPrefix(options.linkPrefix);\n    lute.SetMark(options.mark);\n    if (options.lazyLoadImage) {\n        lute.SetImageLazyLoading(options.lazyLoadImage);\n    }\n    return lute;\n};\n\n\n/***/ }),\n\n/***/ 264:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"E\": () => (/* binding */ previewImage)\n/* harmony export */ });\nvar previewImage = function (oldImgElement, lang, theme) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (theme === void 0) { theme = \"classic\"; }\n    var oldImgRect = oldImgElement.getBoundingClientRect();\n    var height = 36;\n    document.body.insertAdjacentHTML(\"beforeend\", \"<div class=\\\"vditor vditor-img\" + (theme === \"dark\" ? \" vditor--dark\" : \"\") + \"\\\">\\n    <div class=\\\"vditor-img__bar\\\">\\n      <span class=\\\"vditor-img__btn\\\" data-deg=\\\"0\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-redo\\\"></use></svg>\\n        \" + window.VditorI18n.spin + \"\\n      </span>\\n      <span class=\\\"vditor-img__btn\\\"  onclick=\\\"this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n        X &nbsp;\" + window.VditorI18n.close + \"\\n      </span>\\n    </div>\\n    <div class=\\\"vditor-img__img\\\" onclick=\\\"this.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n      <img style=\\\"width: \" + oldImgElement.width + \"px;height:\" + oldImgElement.height + \"px;transform: translate3d(\" + oldImgRect.left + \"px, \" + (oldImgRect.top - height) + \"px, 0)\\\" src=\\\"\" + oldImgElement.getAttribute(\"src\") + \"\\\">\\n    </div>\\n</div>\");\n    document.body.style.overflow = \"hidden\";\n    // 图片从原始位置移动到预览正中间的动画效果\n    var imgElement = document.querySelector(\".vditor-img img\");\n    var translate3d = \"translate3d(\" + Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2 + \"px, \" + Math.max(0, window.innerHeight - height - oldImgElement.naturalHeight) / 2 + \"px, 0)\";\n    setTimeout(function () {\n        imgElement.setAttribute(\"style\", \"transition: transform .3s ease-in-out;transform: \" + translate3d);\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n    // 旋转\n    var btnElement = document.querySelector(\".vditor-img__btn\");\n    btnElement.addEventListener(\"click\", function () {\n        var deg = parseInt(btnElement.getAttribute(\"data-deg\"), 10) + 90;\n        if ((deg / 90) % 2 === 1 && oldImgElement.naturalWidth > imgElement.parentElement.clientHeight) {\n            imgElement.style.transform = \"translate3d(\" + Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2 + \"px, \" + (oldImgElement.naturalWidth / 2 - oldImgElement.naturalHeight / 2) + \"px, 0) rotateZ(\" + deg + \"deg)\";\n        }\n        else {\n            imgElement.style.transform = translate3d + \" rotateZ(\" + deg + \"deg)\";\n        }\n        btnElement.setAttribute(\"data-deg\", deg.toString());\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n};\n\n\n/***/ }),\n\n/***/ 968:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ setCodeTheme)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(946);\n\n\nvar setCodeTheme = function (codeTheme, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(codeTheme)) {\n        codeTheme = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = cdn + \"/dist/js/highlight.js/styles/\" + codeTheme + \".css\";\n    if (!vditorHljsStyle) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n    else if (vditorHljsStyle.href !== href) {\n        vditorHljsStyle.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 958:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (/* binding */ setContentTheme)\n/* harmony export */ });\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(946);\n\nvar setContentTheme = function (contentTheme, path) {\n    if (!contentTheme || !path) {\n        return;\n    }\n    var vditorContentTheme = document.getElementById(\"vditorContentTheme\");\n    var cssPath = path + \"/\" + contentTheme + \".css\";\n    if (!vditorContentTheme) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n    else if (vditorContentTheme.href !== cssPath) {\n        vditorContentTheme.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 228:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"J\": () => (/* binding */ addScriptSync),\n/* harmony export */   \"G\": () => (/* binding */ addScript)\n/* harmony export */ });\nvar addScriptSync = function (path, id) {\n    if (document.getElementById(id)) {\n        return false;\n    }\n    var xhrObj = new XMLHttpRequest();\n    xhrObj.open(\"GET\", path, false);\n    xhrObj.setRequestHeader(\"Accept\", \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01\");\n    xhrObj.send(\"\");\n    var scriptElement = document.createElement(\"script\");\n    scriptElement.type = \"text/javascript\";\n    scriptElement.text = xhrObj.responseText;\n    scriptElement.id = id;\n    document.head.appendChild(scriptElement);\n};\nvar addScript = function (path, id) {\n    return new Promise(function (resolve, reject) {\n        if (document.getElementById(id)) {\n            // 脚本加载后再次调用直接返回\n            resolve();\n            return false;\n        }\n        var scriptElement = document.createElement(\"script\");\n        scriptElement.src = path;\n        scriptElement.async = true;\n        // 循环调用时 Chrome 不会重复请求 js\n        document.head.appendChild(scriptElement);\n        scriptElement.onload = function () {\n            if (document.getElementById(id)) {\n                // 循环调用需清除 DOM 中的 script 标签\n                scriptElement.remove();\n                resolve();\n                return false;\n            }\n            scriptElement.id = id;\n            resolve();\n        };\n    });\n};\n\n\n/***/ }),\n\n/***/ 946:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"c\": () => (/* binding */ addStyle)\n/* harmony export */ });\nvar addStyle = function (url, id) {\n    if (!document.getElementById(id)) {\n        var styleElement = document.createElement(\"link\");\n        styleElement.id = id;\n        styleElement.rel = \"stylesheet\";\n        styleElement.type = \"text/css\";\n        styleElement.href = url;\n        document.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n    }\n};\n\n\n/***/ }),\n\n/***/ 769:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ code160to32)\n/* harmony export */ });\nvar code160to32 = function (text) {\n    // 非打断空格转换为空格\n    return text.replace(/\\u00a0/g, \" \");\n};\n\n\n/***/ }),\n\n/***/ 931:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"G6\": () => (/* binding */ isSafari),\n/* harmony export */   \"vU\": () => (/* binding */ isFirefox),\n/* harmony export */   \"pK\": () => (/* binding */ accessLocalStorage),\n/* harmony export */   \"Le\": () => (/* binding */ getEventName),\n/* harmony export */   \"yl\": () => (/* binding */ isCtrl),\n/* harmony export */   \"ns\": () => (/* binding */ updateHotkeyTip),\n/* harmony export */   \"i7\": () => (/* binding */ isChrome)\n/* harmony export */ });\nvar isSafari = function () {\n    return navigator.userAgent.indexOf(\"Safari\") > -1 && navigator.userAgent.indexOf(\"Chrome\") === -1;\n};\nvar isFirefox = function () {\n    return navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n};\nvar accessLocalStorage = function () {\n    try {\n        return typeof localStorage !== \"undefined\";\n    }\n    catch (e) {\n        return false;\n    }\n};\n// 用户 iPhone 点击延迟/需要双击的处理\nvar getEventName = function () {\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1) {\n        return \"touchstart\";\n    }\n    else {\n        return \"click\";\n    }\n};\n// 区别 mac 上的 ctrl 和 meta\nvar isCtrl = function (event) {\n    if (navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0) {\n        // mac\n        if (event.metaKey && !event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n    else {\n        if (!event.metaKey && event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n};\n// Mac，Windows 快捷键展示\nvar updateHotkeyTip = function (hotkey) {\n    if (/Mac/.test(navigator.platform) || navigator.platform === \"iPhone\") {\n        if (hotkey.indexOf(\"⇧\") > -1 && isFirefox()) {\n            // Mac Firefox 按下 shift 后，key 同 windows 系统\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    else {\n        if (hotkey.startsWith(\"⌘\")) {\n            hotkey = hotkey.replace(\"⌘\", \"⌘+\");\n        }\n        else if (hotkey.startsWith(\"⌥\") && hotkey.substr(1, 1) !== \"⌘\") {\n            hotkey = hotkey.replace(\"⌥\", \"⌥+\");\n        }\n        else {\n            hotkey = hotkey.replace(\"⇧⌘\", \"⌘+⇧+\").replace(\"⌥⌘\", \"⌥+⌘+\");\n        }\n        hotkey = hotkey.replace(\"⌘\", \"Ctrl\").replace(\"⇧\", \"Shift\")\n            .replace(\"⌥\", \"Alt\");\n        if (hotkey.indexOf(\"Shift\") > -1) {\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    return hotkey;\n};\nvar isChrome = function () {\n    return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n};\n\n\n/***/ }),\n\n/***/ 713:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JQ\": () => (/* binding */ hasTopClosestByClassName),\n/* harmony export */   \"E2\": () => (/* binding */ hasTopClosestByTag),\n/* harmony export */   \"O9\": () => (/* binding */ getTopList),\n/* harmony export */   \"a1\": () => (/* binding */ hasClosestByAttribute),\n/* harmony export */   \"F9\": () => (/* binding */ hasClosestBlock),\n/* harmony export */   \"lG\": () => (/* binding */ hasClosestByMatchTag),\n/* harmony export */   \"fb\": () => (/* binding */ hasClosestByClassName),\n/* harmony export */   \"DX\": () => (/* binding */ getLastNode)\n/* harmony export */ });\n/* unused harmony export hasTopClosestByAttribute */\n/* harmony import */ var _hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(615);\n\nvar hasTopClosestByClassName = function (element, className) {\n    var closest = hasClosestByClassName(element, className);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByClassName(closest.parentElement, className);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByAttribute = function (element, attr, value) {\n    var closest = hasClosestByAttribute(element, attr, value);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByAttribute(closest.parentElement, attr, value);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByTag = function (element, nodeName) {\n    var closest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(element, nodeName);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(closest.parentElement, nodeName);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar getTopList = function (element) {\n    var topUlElement = hasTopClosestByTag(element, \"UL\");\n    var topOlElement = hasTopClosestByTag(element, \"OL\");\n    var topListElement = topUlElement;\n    if (topOlElement && (!topUlElement || (topUlElement && topOlElement.contains(topUlElement)))) {\n        topListElement = topOlElement;\n    }\n    return topListElement;\n};\nvar hasClosestByAttribute = function (element, attr, value) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.getAttribute(attr) === value) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestBlock = function (element) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    var blockElement = hasClosestByAttribute(element, \"data-block\", \"0\");\n    if (blockElement) {\n        return blockElement;\n    }\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.tagName === \"H1\" ||\n            e.tagName === \"H2\" ||\n            e.tagName === \"H3\" ||\n            e.tagName === \"H4\" ||\n            e.tagName === \"H5\" ||\n            e.tagName === \"H6\" ||\n            e.tagName === \"P\" ||\n            e.tagName === \"BLOCKQUOTE\" ||\n            e.tagName === \"OL\" ||\n            e.tagName === \"UL\") {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByMatchTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName === nodeName) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByClassName = function (element, className) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.classList.contains(className)) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar getLastNode = function (node) {\n    while (node && node.lastChild) {\n        node = node.lastChild;\n    }\n    return node;\n};\n\n\n/***/ }),\n\n/***/ 615:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"S\": () => (/* binding */ hasClosestByTag),\n/* harmony export */   \"W\": () => (/* binding */ hasClosestByHeadings)\n/* harmony export */ });\n// NOTE: 减少 method.ts 打包，故从 hasClosest.ts 中拆分\nvar hasClosestByTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName.indexOf(nodeName) === 0) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByHeadings = function (element) {\n    var headingElement = hasClosestByTag(element, \"H\");\n    if (headingElement && headingElement.tagName.length === 2 && headingElement.tagName !== \"HR\") {\n        return headingElement;\n    }\n    return false;\n};\n\n\n/***/ }),\n\n/***/ 224:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"T\": () => (/* binding */ merge)\n/* harmony export */ });\nvar merge = function () {\n    var options = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        options[_i] = arguments[_i];\n    }\n    var target = {};\n    var merger = function (obj) {\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                if (Object.prototype.toString.call(obj[prop]) === \"[object Object]\") {\n                    target[prop] = merge(target[prop], obj[prop]);\n                }\n                else {\n                    target[prop] = obj[prop];\n                }\n            }\n        }\n    };\n    for (var i = 0; i < options.length; i++) {\n        merger(options[i]);\n    }\n    return target;\n};\n\n\n/***/ }),\n\n/***/ 187:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"zh\": () => (/* binding */ getEditorRange),\n/* harmony export */   \"Ny\": () => (/* binding */ getCursorPosition),\n/* harmony export */   \"Gb\": () => (/* binding */ selectIsEditor),\n/* harmony export */   \"Hc\": () => (/* binding */ setSelectionFocus),\n/* harmony export */   \"im\": () => (/* binding */ getSelectPosition),\n/* harmony export */   \"$j\": () => (/* binding */ setSelectionByPosition),\n/* harmony export */   \"ib\": () => (/* binding */ setRangeByWbr),\n/* harmony export */   \"oC\": () => (/* binding */ insertHTML)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _compatibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(931);\n/* harmony import */ var _hasClosest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(713);\n\n\n\nvar getEditorRange = function (vditor) {\n    var range;\n    var element = vditor[vditor.currentMode].element;\n    if (getSelection().rangeCount > 0) {\n        range = getSelection().getRangeAt(0);\n        if (element.isEqualNode(range.startContainer) || element.contains(range.startContainer)) {\n            return range;\n        }\n    }\n    if (vditor[vditor.currentMode].range) {\n        return vditor[vditor.currentMode].range;\n    }\n    element.focus();\n    range = element.ownerDocument.createRange();\n    range.setStart(element, 0);\n    range.collapse(true);\n    return range;\n};\nvar getCursorPosition = function (editor) {\n    var range = window.getSelection().getRangeAt(0);\n    if (!editor.contains(range.startContainer) && !(0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByClassName */ .fb)(range.startContainer, \"vditor-panel--none\")) {\n        return {\n            left: 0,\n            top: 0,\n        };\n    }\n    var parentRect = editor.parentElement.getBoundingClientRect();\n    var cursorRect;\n    if (range.getClientRects().length === 0) {\n        if (range.startContainer.nodeType === 3) {\n            // 空行时，会出现没有 br 的情况，需要根据父元素 <p> 获取位置信息\n            var parent_1 = range.startContainer.parentElement;\n            if (parent_1 && parent_1.getClientRects().length > 0) {\n                cursorRect = parent_1.getClientRects()[0];\n            }\n            else {\n                return {\n                    left: 0,\n                    top: 0,\n                };\n            }\n        }\n        else {\n            var children = range.startContainer.children;\n            if (children[range.startOffset] &&\n                children[range.startOffset].getClientRects().length > 0) {\n                // markdown 模式回车\n                cursorRect = children[range.startOffset].getClientRects()[0];\n            }\n            else if (range.startContainer.childNodes.length > 0) {\n                // in table or code block\n                var cloneRange = range.cloneRange();\n                range.selectNode(range.startContainer.childNodes[Math.max(0, range.startOffset - 1)]);\n                cursorRect = range.getClientRects()[0];\n                range.setEnd(cloneRange.endContainer, cloneRange.endOffset);\n                range.setStart(cloneRange.startContainer, cloneRange.startOffset);\n            }\n            else {\n                cursorRect = range.startContainer.getClientRects()[0];\n            }\n            if (!cursorRect) {\n                var parentElement = range.startContainer.childNodes[range.startOffset];\n                while (!parentElement.getClientRects ||\n                    (parentElement.getClientRects && parentElement.getClientRects().length === 0)) {\n                    parentElement = parentElement.parentElement;\n                }\n                cursorRect = parentElement.getClientRects()[0];\n            }\n        }\n    }\n    else {\n        cursorRect = range.getClientRects()[0];\n    }\n    return {\n        left: cursorRect.left - parentRect.left,\n        top: cursorRect.top - parentRect.top,\n    };\n};\nvar selectIsEditor = function (editor, range) {\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return false;\n        }\n        else {\n            range = getSelection().getRangeAt(0);\n        }\n    }\n    var container = range.commonAncestorContainer;\n    return editor.isEqualNode(container) || editor.contains(container);\n};\nvar setSelectionFocus = function (range) {\n    var selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n};\nvar getSelectPosition = function (selectElement, editorElement, range) {\n    var position = {\n        end: 0,\n        start: 0,\n    };\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return position;\n        }\n        range = window.getSelection().getRangeAt(0);\n    }\n    if (selectIsEditor(editorElement, range)) {\n        var preSelectionRange = range.cloneRange();\n        if (selectElement.childNodes[0] && selectElement.childNodes[0].childNodes[0]) {\n            preSelectionRange.setStart(selectElement.childNodes[0].childNodes[0], 0);\n        }\n        else {\n            preSelectionRange.selectNodeContents(selectElement);\n        }\n        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n        position.start = preSelectionRange.toString().length;\n        position.end = position.start + range.toString().length;\n    }\n    return position;\n};\nvar setSelectionByPosition = function (start, end, editor) {\n    var charIndex = 0;\n    var line = 0;\n    var pNode = editor.childNodes[line];\n    var foundStart = false;\n    var stop = false;\n    start = Math.max(0, start);\n    end = Math.max(0, end);\n    var range = editor.ownerDocument.createRange();\n    range.setStart(pNode || editor, 0);\n    range.collapse(true);\n    while (!stop && pNode) {\n        var nextCharIndex = charIndex + pNode.textContent.length;\n        if (!foundStart && start >= charIndex && start <= nextCharIndex) {\n            if (start === 0) {\n                range.setStart(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setStart(pNode.childNodes[0], start - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setStartBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setStartAfter(pNode);\n                }\n            }\n            foundStart = true;\n            if (start === end) {\n                stop = true;\n                break;\n            }\n        }\n        if (foundStart && end >= charIndex && end <= nextCharIndex) {\n            if (end === 0) {\n                range.setEnd(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setEnd(pNode.childNodes[0], end - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setEndBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setEndAfter(pNode);\n                }\n            }\n            stop = true;\n        }\n        charIndex = nextCharIndex;\n        pNode = editor.childNodes[++line];\n    }\n    if (!stop && editor.childNodes[line - 1]) {\n        range.setStartBefore(editor.childNodes[line - 1]);\n    }\n    setSelectionFocus(range);\n    return range;\n};\nvar setRangeByWbr = function (element, range) {\n    var wbrElement = element.querySelector(\"wbr\");\n    if (!wbrElement) {\n        return;\n    }\n    if (!wbrElement.previousElementSibling) {\n        if (wbrElement.previousSibling) {\n            // text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n        else if (wbrElement.nextSibling) {\n            if (wbrElement.nextSibling.nodeType === 3) {\n                // <wbr>text\n                range.setStart(wbrElement.nextSibling, 0);\n            }\n            else {\n                // <wbr><br> https://github.com/Vanessa219/vditor/issues/400\n                range.setStartBefore(wbrElement.nextSibling);\n            }\n        }\n        else {\n            // 内容为空\n            range.setStart(wbrElement.parentElement, 0);\n        }\n    }\n    else {\n        if (wbrElement.previousElementSibling.isSameNode(wbrElement.previousSibling)) {\n            if (wbrElement.previousElementSibling.lastChild) {\n                // <em>text</em><wbr>\n                range.setStartBefore(wbrElement);\n                range.collapse(true);\n                setSelectionFocus(range);\n                // fix Chrome set range bug: **c**\n                if ((0,_compatibility__WEBPACK_IMPORTED_MODULE_2__/* .isChrome */ .i7)() && (wbrElement.previousElementSibling.tagName === \"EM\" ||\n                    wbrElement.previousElementSibling.tagName === \"STRONG\" ||\n                    wbrElement.previousElementSibling.tagName === \"S\")) {\n                    range.insertNode(document.createTextNode(_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.ZWSP */ .g.ZWSP));\n                    range.collapse(false);\n                }\n                wbrElement.remove();\n                return;\n            }\n            else {\n                // <br><wbr>\n                range.setStartAfter(wbrElement.previousElementSibling);\n            }\n        }\n        else {\n            // <em>text</em>text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n    }\n    range.collapse(true);\n    wbrElement.remove();\n    setSelectionFocus(range);\n};\nvar insertHTML = function (html, vditor) {\n    // 使用 lute 方法会添加 p 元素，只有一个 p 元素的时候进行删除\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var tempBlockElement = tempElement.querySelectorAll(\"p\");\n    if (tempBlockElement.length === 1 && !tempBlockElement[0].previousSibling && !tempBlockElement[0].nextSibling &&\n        vditor[vditor.currentMode].element.children.length > 0 && tempElement.firstElementChild.tagName === \"P\") {\n        html = tempBlockElement[0].innerHTML.trim();\n    }\n    var pasteElement = document.createElement(\"div\");\n    pasteElement.innerHTML = html;\n    var range = getEditorRange(vditor);\n    if (range.toString() !== \"\") {\n        vditor[vditor.currentMode].preventInput = true;\n        document.execCommand(\"delete\", false, \"\");\n    }\n    if (pasteElement.firstElementChild &&\n        pasteElement.firstElementChild.getAttribute(\"data-block\") === \"0\") {\n        // 粘贴内容为块元素时，应在下一段落中插入\n        pasteElement.lastElementChild.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        var blockElement = (0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestBlock */ .F9)(range.startContainer);\n        if (!blockElement) {\n            vditor[vditor.currentMode].element.insertAdjacentHTML(\"beforeend\", pasteElement.innerHTML);\n        }\n        else {\n            blockElement.insertAdjacentHTML(\"afterend\", pasteElement.innerHTML);\n        }\n        setRangeByWbr(vditor[vditor.currentMode].element, range);\n    }\n    else {\n        var pasteTemplate = document.createElement(\"template\");\n        pasteTemplate.innerHTML = html;\n        range.insertNode(pasteTemplate.content.cloneNode(true));\n        range.collapse(false);\n        setSelectionFocus(range);\n    }\n};\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ src)\n});\n\n// EXTERNAL MODULE: ./src/assets/scss/index.scss\nvar scss = __webpack_require__(157);\n// EXTERNAL MODULE: ./src/method.ts + 4 modules\nvar method = __webpack_require__(857);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(260);\n// EXTERNAL MODULE: ./src/ts/util/code160to32.ts\nvar code160to32 = __webpack_require__(769);\n;// CONCATENATED MODULE: ./src/ts/markdown/getMarkdown.ts\n\nvar getMarkdown = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return (0,code160to32/* code160to32 */.X)((vditor.sv.element.textContent + \"\\n\").replace(/\\n\\n$/, \"\\n\"));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2Md(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2Md(vditor.ir.element.innerHTML);\n    }\n    return \"\";\n};\n\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(228);\n;// CONCATENATED MODULE: ./src/ts/devtools/index.ts\n\n\nvar DevTools = /** @class */ (function () {\n    function DevTools() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-devtools\";\n        this.element.innerHTML = '<div class=\"vditor-reset--error\"></div><div style=\"height: 100%;\"></div>';\n    }\n    DevTools.prototype.renderEchart = function (vditor) {\n        var _this = this;\n        if (vditor.devtools.element.style.display !== \"block\") {\n            return;\n        }\n        (0,addScript/* addScript */.G)(vditor.options.cdn + \"/dist/js/echarts/echarts.min.js\", \"vditorEchartsScript\").then(function () {\n            if (!_this.ASTChart) {\n                _this.ASTChart = echarts.init(vditor.devtools.element.lastElementChild);\n            }\n            try {\n                _this.element.lastElementChild.style.display = \"block\";\n                _this.element.firstElementChild.innerHTML = \"\";\n                _this.ASTChart.setOption({\n                    series: [\n                        {\n                            data: JSON.parse(vditor.lute.RenderEChartsJSON(getMarkdown(vditor))),\n                            initialTreeDepth: -1,\n                            label: {\n                                align: \"left\",\n                                backgroundColor: \"rgba(68, 77, 86, .68)\",\n                                borderRadius: 3,\n                                color: \"#d1d5da\",\n                                fontSize: 12,\n                                lineHeight: 12,\n                                offset: [9, 12],\n                                padding: [2, 4, 2, 4],\n                                position: \"top\",\n                                verticalAlign: \"middle\",\n                            },\n                            lineStyle: {\n                                color: \"#4285f4\",\n                                type: \"curve\",\n                                width: 1,\n                            },\n                            orient: \"vertical\",\n                            roam: true,\n                            type: \"tree\",\n                        },\n                    ],\n                    toolbox: {\n                        bottom: 25,\n                        emphasis: {\n                            iconStyle: {\n                                color: \"#4285f4\",\n                            },\n                        },\n                        feature: {\n                            restore: {\n                                show: true,\n                            },\n                            saveAsImage: {\n                                show: true,\n                            },\n                        },\n                        right: 15,\n                        show: true,\n                    },\n                });\n                _this.ASTChart.resize();\n            }\n            catch (e) {\n                _this.element.lastElementChild.style.display = \"none\";\n                _this.element.firstElementChild.innerHTML = e;\n            }\n        });\n    };\n    return DevTools;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/compatibility.ts\nvar compatibility = __webpack_require__(931);\n;// CONCATENATED MODULE: ./src/ts/toolbar/setToolbar.ts\n\n\nvar removeCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.remove(\"vditor-menu--current\");\n        }\n    });\n};\nvar setCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.add(\"vditor-menu--current\");\n        }\n    });\n};\nvar enableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.remove(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar disableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.add(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar hideToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"none\";\n        }\n    });\n};\nvar showToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"block\";\n        }\n    });\n};\n// \"subToolbar\", \"hint\", \"popover\"\nvar hidePanel = function (vditor, panels, exceptElement) {\n    if (panels.includes(\"subToolbar\")) {\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint\").forEach(function (item) {\n            if (exceptElement && item.isEqualNode(exceptElement)) {\n                return;\n            }\n            item.style.display = \"none\";\n        });\n        if (vditor.toolbar.elements.emoji) {\n            vditor.toolbar.elements.emoji.lastElementChild.style.display = \"none\";\n        }\n    }\n    if (panels.includes(\"hint\")) {\n        vditor.hint.element.style.display = \"none\";\n    }\n    if (vditor.wysiwyg.popover && panels.includes(\"popover\")) {\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n};\nvar toggleSubMenu = function (vditor, panelElement, actionBtn, level) {\n    actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            return;\n        }\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint--current\").forEach(function (item) {\n            item.classList.remove(\"vditor-hint--current\");\n        });\n        if (panelElement.style.display === \"block\") {\n            panelElement.style.display = \"none\";\n        }\n        else {\n            hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"], actionBtn.parentElement.parentElement);\n            if (!actionBtn.classList.contains(\"vditor-tooltipped\")) {\n                actionBtn.classList.add(\"vditor-hint--current\");\n            }\n            panelElement.style.display = \"block\";\n            if (vditor.toolbar.element.getBoundingClientRect().right - actionBtn.getBoundingClientRect().right < 250) {\n                panelElement.classList.add(\"vditor-panel--left\");\n            }\n            else {\n                panelElement.classList.remove(\"vditor-panel--left\");\n            }\n        }\n    });\n};\n\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(713);\n// EXTERNAL MODULE: ./src/ts/util/hasClosestByHeadings.ts\nvar hasClosestByHeadings = __webpack_require__(615);\n;// CONCATENATED MODULE: ./src/ts/util/log.ts\nvar log = function (method, content, type, print) {\n    if (print) {\n        // @ts-ignore\n        console.log(method + \" - \" + type + \": \" + content);\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(369);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(726);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(23);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(383);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(890);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(93);\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(323);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(765);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(894);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(583);\n;// CONCATENATED MODULE: ./src/ts/util/processCode.ts\n\n\n\n\n\n\n\n\n\n\nvar processPasteCode = function (html, text, type) {\n    if (type === void 0) { type = \"sv\"; }\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var isCode = false;\n    if (tempElement.childElementCount === 1 &&\n        tempElement.lastElementChild.style.fontFamily.indexOf(\"monospace\") > -1) {\n        // VS Code\n        isCode = true;\n    }\n    var pres = tempElement.querySelectorAll(\"pre\");\n    if (tempElement.childElementCount === 1 && pres.length === 1\n        && pres[0].className !== \"vditor-wysiwyg\"\n        && pres[0].className !== \"vditor-sv\") {\n        // IDE\n        isCode = true;\n    }\n    if (html.indexOf('\\n<p class=\"p1\">') === 0) {\n        // Xcode\n        isCode = true;\n    }\n    if (tempElement.childElementCount === 1 && tempElement.firstElementChild.tagName === \"TABLE\" &&\n        tempElement.querySelector(\".line-number\") && tempElement.querySelector(\".line-content\")) {\n        // 网页源码\n        isCode = true;\n    }\n    if (isCode) {\n        var code = text || html;\n        if (/\\n/.test(code) || pres.length === 1) {\n            if (type === \"wysiwyg\") {\n                return \"<div class=\\\"vditor-wysiwyg__block\\\" data-block=\\\"0\\\" data-type=\\\"code-block\\\"><pre><code>\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"<wbr></code></pre></div>\";\n            }\n            return \"\\n```\\n\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"\\n```\";\n        }\n        else {\n            if (type === \"wysiwyg\") {\n                return \"<code>\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"</code><wbr>\";\n            }\n            return \"`\" + code + \"`\";\n        }\n    }\n    return false;\n};\nvar processCodeRender = function (previewPanel, vditor) {\n    if (!previewPanel) {\n        return;\n    }\n    if (previewPanel.parentElement.getAttribute(\"data-type\") === \"html-block\") {\n        previewPanel.setAttribute(\"data-render\", \"1\");\n        return;\n    }\n    var language = previewPanel.firstElementChild.className.replace(\"language-\", \"\");\n    if (!language) {\n        return;\n    }\n    if (language === \"abc\") {\n        (0,abcRender/* abcRender */.Q)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"mermaid\") {\n        (0,mermaidRender/* mermaidRender */.i)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"flowchart\") {\n        (0,flowchartRender/* flowchartRender */.P)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"echarts\") {\n        (0,chartRender/* chartRender */.p)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"mindmap\") {\n        (0,mindmapRender/* mindmapRender */.P)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"plantuml\") {\n        (0,plantumlRender/* plantumlRender */.B)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"graphviz\") {\n        (0,graphvizRender/* graphvizRender */.v)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"math\") {\n        (0,mathRender/* mathRender */.H)(previewPanel, { cdn: vditor.options.cdn, math: vditor.options.preview.math });\n    }\n    else {\n        (0,highlightRender/* highlightRender */.s)(Object.assign({}, vditor.options.preview.hljs), previewPanel, vditor.options.cdn);\n        (0,codeRender/* codeRender */.O)(previewPanel);\n    }\n    previewPanel.setAttribute(\"data-render\", \"1\");\n};\n\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(187);\n;// CONCATENATED MODULE: ./src/ts/util/toc.ts\n\n\n\n\nvar renderToc = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var tocHTML = vditor.outline.render(vditor);\n    if (tocHTML === \"\") {\n        tocHTML = \"[ToC]\";\n    }\n    editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n        item.innerHTML = tocHTML;\n        (0,mathRender/* mathRender */.H)(item, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    });\n};\nvar clickToc = function (event, vditor) {\n    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n        var headingElement = vditor[vditor.currentMode].element.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n        if (headingElement) {\n            if (vditor.options.height === \"auto\") {\n                var windowScrollY = headingElement.offsetTop + vditor.element.offsetTop;\n                if (!vditor.options.toolbarConfig.pin) {\n                    windowScrollY += vditor.toolbar.element.offsetHeight;\n                }\n                window.scrollTo(window.scrollX, windowScrollY);\n            }\n            else {\n                if (vditor.element.offsetTop < window.scrollY) {\n                    window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                }\n                vditor[vditor.currentMode].element.scrollTop = headingElement.offsetTop;\n            }\n        }\n        return;\n    }\n};\nvar keydownToc = function (blockElement, vditor, event, range) {\n    // toc 前无元素，插入空块\n    if (blockElement.previousElementSibling &&\n        blockElement.previousElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Backspace\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start === 0) {\n            blockElement.previousElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockElement, blockElement.previousElementSibling)) {\n            return true;\n        }\n    }\n    // toc 后无元素，插入空块\n    if (blockElement.nextElementSibling &&\n        blockElement.nextElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Delete\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start\n                >= blockElement.textContent.trimRight().length) {\n            blockElement.nextElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockElement, blockElement.nextElementSibling)) {\n            return true;\n        }\n    }\n    // toc 删除\n    if (event.key === \"Backspace\" || event.key === \"Delete\") {\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-toc\");\n        if (tocElement) {\n            tocElement.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/input.ts\n\n\n\n\n\n\n\n\n\nvar input = function (vditor, range, ignoreSpace, event) {\n    if (ignoreSpace === void 0) { ignoreSpace = false; }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    // 前后可以输入空格\n    if (blockElement && !ignoreSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\") {\n        if ((isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling) ||\n            isHeadingMD(blockElement.innerHTML)) {\n            return;\n        }\n        // 前后空格处理\n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n        // 开始可以输入空格\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // 软换行后有空格\n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        // 结尾可以输入空格\n        var endSpace = true;\n        for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n            if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                endSpace = false;\n                break;\n            }\n        }\n        if (startSpace) {\n            return;\n        }\n        if (endSpace) {\n            var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker\");\n            if (markerElement) {\n                // inline marker space https://github.com/Vanessa219/vditor/issues/239\n            }\n            else {\n                var previousNode = range.startContainer.previousSibling;\n                if (previousNode && previousNode.nodeType !== 3 && previousNode.classList.contains(\"vditor-ir__node--expand\")) {\n                    // FireFox https://github.com/Vanessa219/vditor/issues/239\n                    previousNode.classList.remove(\"vditor-ir__node--expand\");\n                }\n                return;\n            }\n        }\n    }\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    if (!blockElement) {\n        // 使用顶级块元素，应使用 innerHTML\n        blockElement = vditor.ir.element;\n    }\n    // document.exeComment insertHTML 会插入 wbr\n    if (!blockElement.querySelector(\"wbr\")) {\n        var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n        if (previewRenderElement) {\n            previewRenderElement.previousElementSibling.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        }\n        else {\n            range.insertNode(document.createElement(\"wbr\"));\n        }\n    }\n    // 清除浏览器自带的样式\n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n        // 修改链接引用\n        blockElement = vditor.ir.element;\n    }\n    var isIRElement = blockElement.isEqualNode(vditor.ir.element);\n    var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n    var html = \"\";\n    if (!isIRElement) {\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n        // 列表需要到最顶层\n        var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (topListElement) {\n            blockElement = topListElement;\n        }\n        // 应到引用层，否则 > --- 会解析为 front-matter；列表中有 blockquote 则解析 blockquote；blockquote 中有列表则解析列表\n        if (blockquoteElement && (!topListElement || (topListElement && !blockquoteElement.contains(topListElement)))) {\n            blockElement = blockquoteElement;\n        }\n        // 修改脚注\n        if (footnoteElement) {\n            blockElement = footnoteElement;\n        }\n        html = blockElement.outerHTML;\n        if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n            // 如果为列表的话，需要把上下的列表都重绘\n            var listPrevElement = blockElement.previousElementSibling;\n            var listNextElement = blockElement.nextElementSibling;\n            if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                html = listPrevElement.outerHTML + html;\n                listPrevElement.remove();\n            }\n            if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                html = html + listNextElement.outerHTML;\n                listNextElement.remove();\n            }\n            // firefox 列表回车不会产生新的 list item https://github.com/Vanessa219/vditor/issues/194\n            html = html.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n        }\n        else if (blockElement.previousElementSibling &&\n            blockElement.previousElementSibling.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") !== \"\" &&\n            event && event.inputType === \"insertParagraph\") {\n            // 换行时需要处理上一段落\n            html = blockElement.previousElementSibling.outerHTML + html;\n            blockElement.previousElementSibling.remove();\n        }\n        // 添加链接引用\n        vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n            if (item && !blockElement.isEqualNode(item)) {\n                html += item.outerHTML;\n                item.remove();\n            }\n        });\n        // 添加脚注\n        vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n            if (item && !blockElement.isEqualNode(item)) {\n                html += item.outerHTML;\n                item.remove();\n            }\n        });\n    }\n    else {\n        html = blockElement.innerHTML;\n    }\n    log(\"SpinVditorIRDOM\", html, \"argument\", vditor.options.debugger);\n    html = vditor.lute.SpinVditorIRDOM(html);\n    log(\"SpinVditorIRDOM\", html, \"result\", vditor.options.debugger);\n    if (isIRElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n        // 更新正文中的 tip\n        if (footnoteElement) {\n            var footnoteItemElement = (0,hasClosest/* hasClosestByAttribute */.a1)(vditor.ir.element.querySelector(\"wbr\"), \"data-type\", \"footnotes-def\");\n            if (footnoteItemElement) {\n                var footnoteItemText = footnoteItemElement.textContent;\n                var marker = footnoteItemText.substring(1, footnoteItemText.indexOf(\"]:\"));\n                var footnoteRefElement = vditor.ir.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\" + marker + \"\\\"]\");\n                if (footnoteRefElement) {\n                    footnoteRefElement.setAttribute(\"aria-label\", footnoteItemText.substr(marker.length + 3).trim().substr(0, 24));\n                }\n            }\n        }\n    }\n    //  linkref 合并及添加\n    var firstLinkRefDefElement;\n    var allLinkRefDefsElement = vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n    allLinkRefDefsElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstLinkRefDefElement = item;\n        }\n        else {\n            firstLinkRefDefElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allLinkRefDefsElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n    }\n    // 脚注合并后添加的末尾\n    var firstFootnoteElement;\n    var allFootnoteElement = vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\");\n    allFootnoteElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstFootnoteElement = item;\n        }\n        else {\n            firstFootnoteElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allFootnoteElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n    });\n    renderToc(vditor);\n    process_processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/hotKey.ts\n\n// 是否匹配 ⇧⌘[] / ⌘[] / ⌥[] / ⌥⌘[] / ⇧Tab / []\nvar matchHotKey = function (hotKey, event) {\n    if (hotKey === \"\") {\n        return false;\n    }\n    // []\n    if (hotKey.indexOf(\"⇧\") === -1 && hotKey.indexOf(\"⌘\") === -1 && hotKey.indexOf(\"⌥\") === -1) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.code === hotKey) {\n            return true;\n        }\n        return false;\n    }\n    // 是否匹配 ⇧Tab\n    if (hotKey === \"⇧Tab\") {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.shiftKey && event.code === \"Tab\") {\n            return true;\n        }\n        return false;\n    }\n    var hotKeys = hotKey.split(\"\");\n    if (hotKey.startsWith(\"⌥\")) {\n        // 是否匹配 ⌥[] / ⌥⌘[]\n        var keyCode = hotKeys.length === 3 ? hotKeys[2] : hotKeys[1];\n        if ((hotKeys.length === 3 ? (0,compatibility/* isCtrl */.yl)(event) : !(0,compatibility/* isCtrl */.yl)(event)) && event.altKey && !event.shiftKey &&\n            event.code === (/^[0-9]$/.test(keyCode) ? \"Digit\" : \"Key\") + keyCode) {\n            return true;\n        }\n        return false;\n    }\n    // 是否匹配 ⇧⌘[] / ⌘[]\n    if (hotKey === \"⌘Enter\") {\n        hotKeys = [\"⌘\", \"Enter\"];\n    }\n    var hasShift = hotKeys.length > 2 && (hotKeys[0] === \"⇧\");\n    var key = (hasShift ? hotKeys[2] : hotKeys[1]);\n    if (hasShift && ((0,compatibility/* isFirefox */.vU)() || !/Mac/.test(navigator.platform))) {\n        if (key === \"-\") {\n            key = \"_\";\n        }\n        else if (key === \"=\") {\n            key = \"+\";\n        }\n    }\n    if ((0,compatibility/* isCtrl */.yl)(event) && event.key.toLowerCase() === key.toLowerCase() && !event.altKey\n        && ((!hasShift && !event.shiftKey) || (hasShift && event.shiftKey))) {\n        return true;\n    }\n    return false;\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/expandMarker.ts\n\n\nvar nextIsNode = function (range) {\n    var startContainer = range.startContainer;\n    if (startContainer.nodeType === 3 && startContainer.nodeValue.length !== range.startOffset) {\n        return false;\n    }\n    var nextNode = startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (!nextNode) {\n        // *em*|**string**\n        var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker\");\n        if (markerElement && !markerElement.nextSibling) {\n            var parentNextNode = startContainer.parentElement.parentElement.nextSibling;\n            if (parentNextNode && parentNextNode.nodeType !== 3 &&\n                parentNextNode.classList.contains(\"vditor-ir__node\")) {\n                return parentNextNode;\n            }\n        }\n        return false;\n    }\n    else if (nextNode && nextNode.nodeType !== 3 && nextNode.classList.contains(\"vditor-ir__node\") &&\n        !nextNode.getAttribute(\"data-block\")) {\n        // test|*em*\n        return nextNode;\n    }\n    return false;\n};\nvar previousIsNode = function (range) {\n    var startContainer = range.startContainer;\n    var previousNode = startContainer.previousSibling;\n    if (startContainer.nodeType === 3 && range.startOffset === 0 && previousNode && previousNode.nodeType !== 3 &&\n        // *em*|text\n        previousNode.classList.contains(\"vditor-ir__node\") && !previousNode.getAttribute(\"data-block\")) {\n        return previousNode;\n    }\n    return false;\n};\nvar expandMarker = function (range, vditor) {\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    var nodeElement = (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.startContainer, \"vditor-ir__node\");\n    var nodeElementEnd = !range.collapsed && (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.endContainer, \"vditor-ir__node\");\n    // 选中文本为同一个 nodeElement 内时，需要展开\n    if (!range.collapsed && (!nodeElement || nodeElement !== nodeElementEnd)) {\n        return;\n    }\n    if (nodeElement) {\n        nodeElement.classList.add(\"vditor-ir__node--expand\");\n        nodeElement.classList.remove(\"vditor-ir__node--hidden\");\n        // https://github.com/Vanessa219/vditor/issues/615 safari中光标位置跳动\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    var nextNode = nextIsNode(range);\n    if (nextNode) {\n        nextNode.classList.add(\"vditor-ir__node--expand\");\n        nextNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n    var previousNode = previousIsNode(range);\n    if (previousNode) {\n        previousNode.classList.add(\"vditor-ir__node--expand\");\n        previousNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\nvar processKeydown = function (vditor, event) {\n    vditor.ir.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    // 添加第一次记录 undo 的光标\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    // 斜体、粗体、内联代码块中换行\n    var newlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-newline\", \"1\");\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.key === \"Enter\" && newlineElement\n        && range.startOffset < newlineElement.textContent.length) {\n        var beforeMarkerElement = newlineElement.previousElementSibling;\n        if (beforeMarkerElement) {\n            range.insertNode(document.createTextNode(beforeMarkerElement.textContent));\n            range.collapse(false);\n        }\n        var afterMarkerElement = newlineElement.nextSibling;\n        if (afterMarkerElement) {\n            range.insertNode(document.createTextNode(afterMarkerElement.textContent));\n            range.collapse(true);\n        }\n    }\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md 处理\n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // 代码块\n    var preRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker--pre\");\n    if (preRenderElement && preRenderElement.tagName === \"PRE\") {\n        var codeRenderElement = preRenderElement.firstChild;\n        if (fixCodeBlock(vditor, event, preRenderElement, range)) {\n            return true;\n        }\n        // 数学公式上无元素，按上或左将添加新块\n        if ((codeRenderElement.getAttribute(\"data-type\") === \"math-block\"\n            || codeRenderElement.getAttribute(\"data-type\") === \"html-block\") &&\n            insertBeforeBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n        // 代码块下无元素或者为代码块/table 元素，添加空块\n        if (insertAfterBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n    }\n    // 代码块语言\n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (event.key === \"Enter\" || event.key === \"Tab\") {\n            range.selectNodeContents(preBeforeElement.nextElementSibling.firstChild);\n            range.collapse(true);\n            event.preventDefault();\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n        if (event.key === \"Backspace\") {\n            var start = (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start;\n            if (start === 1) { // 删除零宽空格\n                range.setStart(startContainer, 0);\n            }\n            if (start === 2) { // 删除时清空自动补全语言\n                vditor.hint.recentLanguage = \"\";\n            }\n        }\n        if (insertBeforeBlock(vditor, event, range, preBeforeElement, preBeforeElement.parentElement)) {\n            // 上无元素，按上或左将添加新块\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n    }\n    // table\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (event.key.indexOf(\"Arrow\") > -1 && cellElement) {\n        var tableElement = isFirstCell(cellElement);\n        if (tableElement && insertBeforeBlock(vditor, event, range, cellElement, tableElement)) {\n            return true;\n        }\n        var table2Element = isLastCell(cellElement);\n        if (table2Element && insertAfterBlock(vditor, event, range, cellElement, table2Element)) {\n            return true;\n        }\n    }\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        // enter++: 标题变大\n        if (matchHotKey(\"⌘=\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length > 1) {\n                process_processHeading(vditor, headingMarkerElement.textContent.substr(1));\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变小\n        if (matchHotKey(\"⌘-\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length < 6) {\n                process_processHeading(vditor, headingMarkerElement.textContent.trim() + \"# \");\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement && blockElement.previousElementSibling\n            && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\"\n            && (blockElement.previousElementSibling.getAttribute(\"data-type\") === \"code-block\" ||\n                blockElement.previousElementSibling.getAttribute(\"data-type\") === \"math-block\")) {\n            var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n            if (rangeStart === 0 || (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                // 当前块删除后光标落于代码渲染块上，当前块会被删除，因此需要阻止事件，不能和 keyup 中的代码块处理合并\n                range.selectNodeContents(blockElement.previousElementSibling.querySelector(\".vditor-ir__marker--pre code\"));\n                range.collapse(false);\n                expandMarker(range, vditor);\n                if (blockElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    // 当前块为空且不是最后一个时，需要删除\n                    blockElement.remove();\n                    process_processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n        // 光标位于标题前，marker 后\n        if (headingElement) {\n            var headingLength = headingElement.firstElementChild.textContent.length;\n            if ((0,selection/* getSelectPosition */.im)(headingElement, vditor.ir.element).start === headingLength) {\n                range.setStart(headingElement.firstElementChild.firstChild, headingLength - 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n    }\n    if ((event.key === \"ArrowUp\" || event.key === \"ArrowDown\") && blockElement) {\n        // https://github.com/Vanessa219/vditor/issues/358\n        blockElement.querySelectorAll(\".vditor-ir__node\").forEach(function (item) {\n            if (!item.contains(startContainer)) {\n                item.classList.add(\"vditor-ir__node--hidden\");\n            }\n        });\n        if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n            return true;\n        }\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(264);\n;// CONCATENATED MODULE: ./src/ts/sv/inputEvent.ts\n\n\n\n\nvar inputEvent = function (vditor, event) {\n    var _a;\n    var range = getSelection().getRangeAt(0).cloneRange();\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    // 不调用 lute 解析\n    if (blockElement && event && (event.inputType === \"deleteContentBackward\" || event.data === \" \")) {\n        // 开始可以输入空格\n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start;\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // 软换行后有空格\n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        if (startSpace) {\n            processAfterRender(vditor);\n            return;\n        }\n        if (event.inputType === \"deleteContentBackward\") {\n            // https://github.com/Vanessa219/vditor/issues/584 代码块 marker 删除\n            var codeBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-open-marker\") ||\n                (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-close-marker\");\n            if (codeBlockMarkerElement) {\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-close-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-open-marker\");\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-open-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-close-marker\", false);\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n            }\n            // https://github.com/Vanessa219/vditor/issues/877 数学公式输入删除生成节点\n            var mathBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"math-block-open-marker\");\n            if (mathBlockMarkerElement) {\n                var mathBlockCloseElement = mathBlockMarkerElement.nextElementSibling.nextElementSibling;\n                if (mathBlockCloseElement && mathBlockCloseElement.getAttribute(\"data-type\") === \"math-block-close-marker\") {\n                    mathBlockCloseElement.remove();\n                    processAfterRender(vditor);\n                }\n                return;\n            }\n            blockElement.querySelectorAll('[data-type=\"code-block-open-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            blockElement.querySelectorAll('[data-type=\"code-block-close-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            // 标题删除\n            var headingElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"heading-marker\");\n            if (headingElement && headingElement.textContent.indexOf(\"#\") === -1) {\n                processAfterRender(vditor);\n                return;\n            }\n        }\n        // 删除或空格不解析，否则会 format 回去\n        if ((event.data === \" \" || event.inputType === \"deleteContentBackward\") &&\n            ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"padding\") // 场景：b 前进行删除 [> 1. a\\n>   b]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\") // 场景：删除最后一个字符 [* 1\\n* ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\") // 场景：删除最后一个字符 [* [ ] ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\") // 场景：删除最后一个字符 [> ]\n            )) {\n            processAfterRender(vditor);\n            return;\n        }\n    }\n    if (blockElement && blockElement.textContent.trimRight() === \"$$\") {\n        // 内联数学公式\n        processAfterRender(vditor);\n        return;\n    }\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    if (((_a = blockElement.firstElementChild) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"link-ref-defs-block\") {\n        // 修改链接引用\n        blockElement = vditor.sv.element;\n    }\n    if ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-link\")) {\n        // 修改脚注角标\n        blockElement = vditor.sv.element;\n    }\n    // 添加光标位置\n    if (blockElement.textContent.indexOf(Lute.Caret) === -1) {\n        // 点击工具栏会插入 Caret\n        range.insertNode(document.createTextNode(Lute.Caret));\n    }\n    // 清除浏览器自带的样式\n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    blockElement.querySelectorAll(\"font\").forEach(function (item) {\n        item.outerHTML = item.innerHTML;\n    });\n    var html = blockElement.textContent;\n    var isSVElement = blockElement.isEqualNode(vditor.sv.element);\n    if (isSVElement) {\n        html = blockElement.textContent;\n    }\n    else {\n        // 添加前一个块元素\n        if (blockElement.previousElementSibling) {\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        if (blockElement.previousElementSibling && html.indexOf(\"---\\n\") === 0) {\n            // 确认 yaml-front 是否为首行\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        // 添加链接引用\n        vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item, index) {\n            if (index === 0 && item && !blockElement.isEqualNode(item.parentElement)) {\n                html += \"\\n\" + item.parentElement.textContent;\n                item.parentElement.remove();\n            }\n        });\n        // 添加脚注\n        vditor.sv.element.querySelectorAll(\"[data-type='footnotes-link']\").forEach(function (item, index) {\n            if (index === 0 && item && !blockElement.isEqualNode(item.parentElement)) {\n                html += \"\\n\" + item.parentElement.textContent;\n                item.parentElement.remove();\n            }\n        });\n    }\n    html = processSpinVditorSVDOM(html, vditor);\n    if (isSVElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n    }\n    var firstLinkRefDefElement;\n    var allLinkRefDefsElement = vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n    allLinkRefDefsElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstLinkRefDefElement = item.parentElement;\n        }\n        else {\n            firstLinkRefDefElement.lastElementChild.remove();\n            firstLinkRefDefElement.insertAdjacentHTML(\"beforeend\", \"\" + item.parentElement.innerHTML);\n            item.parentElement.remove();\n        }\n    });\n    if (allLinkRefDefsElement.length > 0) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", firstLinkRefDefElement);\n    }\n    // 脚注合并后添加的末尾\n    var firstFootnoteElement;\n    var allFootnoteElement = vditor.sv.element.querySelectorAll(\"[data-type='footnotes-link']\");\n    allFootnoteElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstFootnoteElement = item.parentElement;\n        }\n        else {\n            firstFootnoteElement.lastElementChild.remove();\n            firstFootnoteElement.insertAdjacentHTML(\"beforeend\", \"\" + item.parentElement.innerHTML);\n            item.parentElement.remove();\n        }\n    });\n    if (allFootnoteElement.length > 0) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", firstFootnoteElement);\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n    processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/processKeydown.ts\n\n\n\n\n\n\n\nvar processKeydown_processKeydown = function (vditor, event) {\n    var _a, _b, _c, _d, _e;\n    vditor.sv.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\") {\n        return false;\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var textElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"text\");\n    // blockquote\n    var blockquoteMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\");\n    if (!blockquoteMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        textElement.previousElementSibling.getAttribute(\"data-type\") === \"blockquote-marker\") {\n        blockquoteMarkerElement = textElement.previousElementSibling;\n    }\n    // 回车逐个删除 blockquote marker 标记\n    if (blockquoteMarkerElement) {\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey &&\n            blockquoteMarkerElement.nextElementSibling.textContent.trim() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(blockquoteMarkerElement, vditor.sv.element, range).start ===\n                blockquoteMarkerElement.textContent.length) {\n            if (((_a = blockquoteMarkerElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"padding\") {\n                // 列表中存在多行 BQ 时，标记回车需跳出列表\n                blockquoteMarkerElement.previousElementSibling.setAttribute(\"data-action\", \"enter-remove\");\n            }\n            blockquoteMarkerElement.remove();\n            processAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // list item\n    var listMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\");\n    var taskMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\");\n    var listLastMarkerElement = listMarkerElement;\n    if (!listLastMarkerElement) {\n        if (taskMarkerElement && taskMarkerElement.nextElementSibling.getAttribute(\"data-type\") !== \"task-marker\") {\n            listLastMarkerElement = taskMarkerElement;\n        }\n    }\n    if (!listLastMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        (textElement.previousElementSibling.getAttribute(\"data-type\") === \"li-marker\" ||\n            textElement.previousElementSibling.getAttribute(\"data-type\") === \"task-marker\")) {\n        listLastMarkerElement = textElement.previousElementSibling;\n    }\n    if (listLastMarkerElement) {\n        var startIndex = (0,selection/* getSelectPosition */.im)(listLastMarkerElement, vditor.sv.element, range).start;\n        var isTask = listLastMarkerElement.getAttribute(\"data-type\") === \"task-marker\";\n        var listFirstMarkerElement = listLastMarkerElement;\n        if (isTask) {\n            listFirstMarkerElement = listLastMarkerElement.previousElementSibling.previousElementSibling\n                .previousElementSibling;\n        }\n        if (startIndex === listLastMarkerElement.textContent.length) {\n            // 回车清空列表标记符\n            if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n                listLastMarkerElement.nextElementSibling.textContent.trim() === \"\") {\n                if (((_b = listFirstMarkerElement.previousElementSibling) === null || _b === void 0 ? void 0 : _b.getAttribute(\"data-type\")) === \"padding\") {\n                    listFirstMarkerElement.previousElementSibling.remove();\n                    inputEvent(vditor);\n                }\n                else {\n                    if (isTask) {\n                        listFirstMarkerElement.remove();\n                        listLastMarkerElement.previousElementSibling.previousElementSibling.remove();\n                        listLastMarkerElement.previousElementSibling.remove();\n                    }\n                    listLastMarkerElement.nextElementSibling.remove();\n                    listLastMarkerElement.remove();\n                    processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n            // 第一个 marker 后 tab 进行缩进\n            if (event.key === \"Tab\") {\n                listFirstMarkerElement.insertAdjacentHTML(\"beforebegin\", \"<span data-type=\\\"padding\\\">\" + listFirstMarkerElement.textContent.replace(/\\S/g, \" \") + \"</span>\");\n                if (/^\\d/.test(listFirstMarkerElement.textContent)) {\n                    listFirstMarkerElement.textContent = listFirstMarkerElement.textContent.replace(/^\\d{1,}/, \"1\");\n                    range.selectNodeContents(listLastMarkerElement.firstChild);\n                    range.collapse(false);\n                }\n                inputEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(startContainer, \"SPAN\");\n    // 回车\n    if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && blockElement) {\n        var isFirst = false;\n        var newLineMatch = blockElement.textContent.match(/^\\n+/);\n        if ((0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element).start <= (newLineMatch ? newLineMatch[0].length : 0)) {\n            // 允许段落开始换行\n            isFirst = true;\n        }\n        var newLineText = \"\\n\";\n        if (spanElement) {\n            if (((_c = spanElement.previousElementSibling) === null || _c === void 0 ? void 0 : _c.getAttribute(\"data-action\")) === \"enter-remove\") {\n                // https://github.com/Vanessa219/vditor/issues/596\n                spanElement.previousElementSibling.remove();\n                processAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                newLineText += processPreviousMarkers(spanElement);\n            }\n        }\n        range.insertNode(document.createTextNode(newLineText));\n        range.collapse(false);\n        if (blockElement && blockElement.textContent.trim() !== \"\" && !isFirst) {\n            inputEvent(vditor);\n        }\n        else {\n            processAfterRender(vditor);\n        }\n        event.preventDefault();\n        return true;\n    }\n    // 删除后光标前有 newline 的处理\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey) {\n        if (spanElement && ((_d = spanElement.previousElementSibling) === null || _d === void 0 ? void 0 : _d.getAttribute(\"data-type\")) === \"newline\" &&\n            (0,selection/* getSelectPosition */.im)(spanElement, vditor.sv.element, range).start === 1 &&\n            // 飘号的处理需在 inputEvent 中，否则上下飘号对不齐\n            spanElement.getAttribute(\"data-type\").indexOf(\"code-block-\") === -1) {\n            // 光标在每一行的第一个字符后\n            range.setStart(spanElement, 0);\n            range.extractContents();\n            if (spanElement.textContent.trim() !== \"\") {\n                inputEvent(vditor);\n            }\n            else {\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // 每一段第一个字符前\n        if (blockElement && (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start === 0 &&\n            blockElement.previousElementSibling) {\n            range.extractContents();\n            var previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            if (previousLastElement.getAttribute(\"data-type\") === \"newline\") {\n                previousLastElement.remove();\n                previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            }\n            // 场景：末尾无法删除 [```\\ntext\\n```\\n\\n]\n            if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                previousLastElement.insertAdjacentHTML(\"afterend\", blockElement.innerHTML);\n                blockElement.remove();\n            }\n            if (blockElement.textContent.trim() !== \"\" && !((_e = blockElement.previousElementSibling) === null || _e === void 0 ? void 0 : _e.querySelector('[data-type=\"code-block-open-marker\"]'))) {\n                inputEvent(vditor);\n            }\n            else {\n                if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                    // https://github.com/Vanessa219/vditor/issues/597\n                    range.selectNodeContents(previousLastElement.lastChild);\n                    range.collapse(false);\n                }\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(958);\n;// CONCATENATED MODULE: ./src/ts/ui/setTheme.ts\nvar setTheme = function (vditor) {\n    if (vditor.options.theme === \"dark\") {\n        vditor.element.classList.add(\"vditor--dark\");\n    }\n    else {\n        vditor.element.classList.remove(\"vditor--dark\");\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ui/initUI.ts\n\n\n\n\n\nvar initUI = function (vditor) {\n    vditor.element.innerHTML = \"\";\n    vditor.element.classList.add(\"vditor\");\n    setTheme(vditor);\n    (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n    if (typeof vditor.options.height === \"number\") {\n        vditor.element.style.height = vditor.options.height + \"px\";\n    }\n    if (typeof vditor.options.minHeight === \"number\") {\n        vditor.element.style.minHeight = vditor.options.minHeight + \"px\";\n    }\n    if (typeof vditor.options.width === \"number\") {\n        vditor.element.style.width = vditor.options.width + \"px\";\n    }\n    else {\n        vditor.element.style.width = vditor.options.width;\n    }\n    vditor.element.appendChild(vditor.toolbar.element);\n    var contentElement = document.createElement(\"div\");\n    contentElement.className = \"vditor-content\";\n    if (vditor.options.outline.position === \"left\") {\n        contentElement.appendChild(vditor.outline.element);\n    }\n    contentElement.appendChild(vditor.wysiwyg.element.parentElement);\n    contentElement.appendChild(vditor.sv.element);\n    contentElement.appendChild(vditor.ir.element.parentElement);\n    contentElement.appendChild(vditor.preview.element);\n    if (vditor.toolbar.elements.devtools) {\n        contentElement.appendChild(vditor.devtools.element);\n    }\n    if (vditor.options.outline.position === \"right\") {\n        vditor.outline.element.classList.add(\"vditor-outline--right\");\n        contentElement.appendChild(vditor.outline.element);\n    }\n    if (vditor.upload) {\n        contentElement.appendChild(vditor.upload.element);\n    }\n    if (vditor.options.resize.enable) {\n        contentElement.appendChild(vditor.resize.element);\n    }\n    contentElement.appendChild(vditor.hint.element);\n    contentElement.appendChild(vditor.tip.element);\n    vditor.element.appendChild(contentElement);\n    if (vditor.toolbar.elements.export) {\n        // for export pdf\n        vditor.element.insertAdjacentHTML(\"beforeend\", '<iframe style=\"width: 100%;height: 0;border: 0\"></iframe>');\n    }\n    setEditMode(vditor, vditor.options.mode, afterRender(vditor, contentElement));\n    document.execCommand(\"DefaultParagraphSeparator\", false, \"p\");\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1 && typeof window.visualViewport !== \"undefined\") {\n        // https://github.com/Vanessa219/vditor/issues/379\n        var pendingUpdate_1 = false;\n        var viewportHandler = function (event) {\n            if (pendingUpdate_1) {\n                return;\n            }\n            pendingUpdate_1 = true;\n            requestAnimationFrame(function () {\n                pendingUpdate_1 = false;\n                var layoutViewport = vditor.toolbar.element;\n                layoutViewport.style.transform = \"none\";\n                if (layoutViewport.getBoundingClientRect().top < 0) {\n                    layoutViewport.style.transform = \"translate(0, \" + -layoutViewport.getBoundingClientRect().top + \"px)\";\n                }\n            });\n        };\n        window.visualViewport.addEventListener(\"scroll\", viewportHandler);\n        window.visualViewport.addEventListener(\"resize\", viewportHandler);\n    }\n};\nvar setPadding = function (vditor) {\n    var minPadding = window.innerWidth <= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH ? 10 : 35;\n    if (vditor.wysiwyg.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.wysiwyg.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.wysiwyg.element.style.padding = \"10px \" + Math.max(minPadding, padding) + \"px\";\n    }\n    if (vditor.ir.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.ir.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.ir.element.style.padding = \"10px \" + Math.max(minPadding, padding) + \"px\";\n    }\n    if (vditor.preview.element.style.display !== \"block\" || vditor.currentMode === \"sv\") {\n        vditor.toolbar.element.style.paddingLeft = Math.max(5, parseInt(vditor[vditor.currentMode].element.style.paddingLeft || \"0\", 10) +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0)) + \"px\";\n    }\n};\nvar setTypewriterPosition = function (vditor) {\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var height = window.innerHeight;\n    if (typeof vditor.options.height === \"number\") {\n        height = vditor.options.height;\n        if (typeof vditor.options.minHeight === \"number\") {\n            height = Math.max(height, vditor.options.minHeight);\n        }\n        height = Math.min(window.innerHeight, height);\n    }\n    if (vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        height = window.innerHeight;\n    }\n    // 由于 Firefox padding-bottom bug，只能使用 :after\n    vditor[vditor.currentMode].element.style.setProperty(\"--editor-bottom\", ((height - vditor.toolbar.element.offsetHeight) / 2) + \"px\");\n};\nvar afterRender = function (vditor, contentElement) {\n    setTypewriterPosition(vditor);\n    window.addEventListener(\"resize\", function () {\n        setPadding(vditor);\n        setTypewriterPosition(vditor);\n    });\n    // set default value\n    var initValue = (0,compatibility/* accessLocalStorage */.pK)() && localStorage.getItem(vditor.options.cache.id);\n    if (!vditor.options.cache.enable || !initValue) {\n        if (vditor.options.value) {\n            initValue = vditor.options.value;\n        }\n        else if (vditor.originalInnerHTML) {\n            initValue = vditor.lute.HTML2Md(vditor.originalInnerHTML);\n        }\n        else if (!vditor.options.cache.enable) {\n            initValue = \"\";\n        }\n    }\n    return initValue || \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/highlightToolbarIR.ts\n\n\n\n\n\nvar highlightToolbarIR = function (vditor) {\n    clearTimeout(vditor[vditor.currentMode].hlToolbarTimeoutId);\n    vditor[vditor.currentMode].hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor[vditor.currentMode].element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        if (typeElement.classList.contains(\"vditor-reset\")) {\n            typeElement = typeElement.childNodes[range.startOffset];\n        }\n        var headingElement = vditor.currentMode === \"sv\" ?\n            (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"heading\") : (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if (headingElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        var quoteElement = vditor.currentMode === \"sv\" ? (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"blockquote\") :\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n        if (quoteElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        var strongElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"strong\");\n        if (strongElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        var emElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"em\");\n        if (emElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        var sElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"s\");\n        if (sElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"a\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        var codeBlockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code-block\");\n        if (codeBlockElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"inline-code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n        }\n        var codeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code\");\n        if (codeElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"table\");\n        if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"list\", \"ordered-list\", \"check\", \"line\",\n                \"quote\", \"code\", \"table\"]);\n        }\n    }, 200);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/afterRenderEvent.ts\n\n\nvar afterRenderEvent = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    clearTimeout(vditor.wysiwyg.afterRenderTimeoutId);\n    vditor.wysiwyg.afterRenderTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/inlineTag.ts\n\n\nvar previoueIsEmptyA = function (node) {\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType !== 3 && previousNode.tagName === \"A\" && !previousNode.previousSibling\n            && previousNode.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && previousNode.nextSibling) {\n            return previousNode;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return false;\n};\nvar nextIsCode = function (range) {\n    var nextNode = range.startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (nextNode && nextNode.nodeType !== 3 && (nextNode.tagName === \"CODE\" ||\n        nextNode.getAttribute(\"data-type\") === \"math-inline\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-entity\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-inline\")) {\n        return true;\n    }\n    return false;\n};\nvar getNextHTML = function (node) {\n    var html = \"\";\n    var nextNode = node.nextSibling;\n    while (nextNode) {\n        if (nextNode.nodeType === 3) {\n            html += nextNode.textContent;\n        }\n        else {\n            html += nextNode.outerHTML;\n        }\n        nextNode = nextNode.nextSibling;\n    }\n    return html;\n};\nvar getPreviousHTML = function (node) {\n    var html = \"\";\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType === 3) {\n            html = previousNode.textContent + html;\n        }\n        else {\n            html = previousNode.outerHTML + html;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return html;\n};\nvar getRenderElementNextNode = function (blockCodeElement) {\n    var nextNode = blockCodeElement;\n    while (nextNode && !nextNode.nextSibling) {\n        nextNode = nextNode.parentElement;\n    }\n    return nextNode.nextSibling;\n};\nvar splitElement = function (range) {\n    var previousHTML = getPreviousHTML(range.startContainer);\n    var nextHTML = getNextHTML(range.startContainer);\n    var text = range.startContainer.textContent;\n    var offset = range.startOffset;\n    var beforeHTML = \"\";\n    var afterHTML = \"\";\n    if (text.substr(0, offset) !== \"\" && text.substr(0, offset) !== constants/* Constants.ZWSP */.g.ZWSP || previousHTML) {\n        beforeHTML = \"\" + previousHTML + text.substr(0, offset);\n    }\n    if (text.substr(offset) !== \"\" && text.substr(offset) !== constants/* Constants.ZWSP */.g.ZWSP || nextHTML) {\n        afterHTML = \"\" + text.substr(offset) + nextHTML;\n    }\n    return {\n        afterHTML: afterHTML,\n        beforeHTML: beforeHTML,\n    };\n};\nvar modifyPre = function (vditor, range) {\n    // 没有被块元素包裹\n    Array.from(vditor.wysiwyg.element.childNodes).find(function (node) {\n        if (node.nodeType === 3) {\n            var pElement = document.createElement(\"p\");\n            pElement.setAttribute(\"data-block\", \"0\");\n            pElement.textContent = node.textContent;\n            // 为空按下 tab 且 tab = '    ' 时，range.startContainer 不为 node\n            var cloneRangeOffset = range.startContainer.nodeType === 3 ? range.startOffset : node.textContent.length;\n            node.parentNode.insertBefore(pElement, node);\n            node.remove();\n            range.setStart(pElement.firstChild, Math.min(pElement.firstChild.textContent.length, cloneRangeOffset));\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        else if (!node.getAttribute(\"data-block\")) {\n            if (node.tagName === \"P\") {\n                node.remove();\n            }\n            else {\n                if (node.tagName === \"DIV\") {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    // firefox 列表换行产生 div\n                    node.outerHTML = \"<p data-block=\\\"0\\\">\" + node.innerHTML + \"</p>\";\n                }\n                else {\n                    if (node.tagName === \"BR\") {\n                        // firefox 空换行产生 BR\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\" + node.outerHTML + \"<wbr></p>\";\n                    }\n                    else {\n                        range.insertNode(document.createElement(\"wbr\"));\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\" + node.outerHTML + \"</p>\";\n                    }\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                range = getSelection().getRangeAt(0);\n            }\n            return true;\n        }\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/setHeading.ts\n\n\n\nvar setHeading = function (vditor, tagName) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (!blockElement && vditor.wysiwyg.element.children.length === 0) {\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (blockElement && !blockElement.classList.contains(\"vditor-wysiwyg__block\")) {\n        range.insertNode(document.createElement(\"wbr\"));\n        // Firefox 需要 trim https://github.com/Vanessa219/vditor/issues/207\n        if (blockElement.innerHTML.trim() === \"<wbr>\") {\n            // Firefox 光标对不齐 https://github.com/Vanessa219/vditor/issues/199 1\n            blockElement.innerHTML = \"<wbr><br>\";\n        }\n        if (blockElement.tagName === \"BLOCKQUOTE\" || blockElement.classList.contains(\"vditor-reset\")) {\n            blockElement.innerHTML = \"<\" + tagName + \" data-block=\\\"0\\\">\" + blockElement.innerHTML.trim() + \"</\" + tagName + \">\";\n        }\n        else {\n            blockElement.outerHTML = \"<\" + tagName + \" data-block=\\\"0\\\">\" + blockElement.innerHTML.trim() + \"</\" + tagName + \">\";\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        renderToc(vditor);\n    }\n};\nvar removeHeading = function (vditor) {\n    var range = getSelection().getRangeAt(0);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (blockElement) {\n        range.insertNode(document.createElement(\"wbr\"));\n        blockElement.outerHTML = \"<p data-block=\\\"0\\\">\" + blockElement.innerHTML + \"</p>\";\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n    }\n    vditor.wysiwyg.popover.style.display = \"none\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/showCode.ts\n\n\nvar showCode = function (previewElement, vditor, first) {\n    if (first === void 0) { first = true; }\n    var previousElement = previewElement.previousElementSibling;\n    var range = previousElement.ownerDocument.createRange();\n    if (previousElement.tagName === \"CODE\") {\n        previousElement.style.display = \"inline-block\";\n        if (first) {\n            range.setStart(previousElement.firstChild, 1);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n        }\n    }\n    else {\n        previousElement.style.display = \"block\";\n        if (!previousElement.firstChild.firstChild) {\n            previousElement.firstChild.appendChild(document.createTextNode(\"\"));\n        }\n        range.selectNodeContents(previousElement.firstChild);\n    }\n    if (first) {\n        range.collapse(true);\n    }\n    else {\n        range.collapse(false);\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    if (previewElement.firstElementChild.classList.contains(\"language-mindmap\")) {\n        return;\n    }\n    scrollCenter(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar wysiwyg_processKeydown_processKeydown = function (vditor, event) {\n    // Chrome firefox 触发 compositionend 机制不一致 https://github.com/Vanessa219/vditor/issues/188\n    vditor.wysiwyg.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    // 添加第一次记录 undo 的光标\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md 处理\n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // table\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // code render\n    var codeRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-wysiwyg__block\");\n    if (codeRenderElement) {\n        // esc: 退出编辑，仅展示渲染\n        if (event.key === \"Escape\" && codeRenderElement.children.length === 2) {\n            vditor.wysiwyg.popover.style.display = \"none\";\n            codeRenderElement.firstElementChild.style.display = \"none\";\n            vditor.wysiwyg.element.blur();\n            event.preventDefault();\n            return true;\n        }\n        // alt+enter: 代码块切换到语言 https://github.com/Vanessa219/vditor/issues/54\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && event.altKey && event.key === \"Enter\" &&\n            codeRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n            var inputElemment = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElemment.focus();\n            inputElemment.select();\n            event.preventDefault();\n            return true;\n        }\n        if (codeRenderElement.getAttribute(\"data-block\") === \"0\") {\n            if (fixCodeBlock(vditor, event, codeRenderElement.firstElementChild, range)) {\n                return true;\n            }\n            if (insertAfterBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n            if (codeRenderElement.getAttribute(\"data-type\") !== \"yaml-front-matter\" &&\n                insertBeforeBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n        }\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // 顶层 blockquote\n    var topBQElement = (0,hasClosest/* hasTopClosestByTag */.E2)(startContainer, \"BLOCKQUOTE\");\n    if (topBQElement) {\n        if (!event.shiftKey && event.altKey && event.key === \"Enter\") {\n            if (!(0,compatibility/* isCtrl */.yl)(event)) {\n                // alt+enter: 跳出多层 blockquote 嵌套之后 https://github.com/Vanessa219/vditor/issues/51\n                range.setStartAfter(topBQElement);\n            }\n            else {\n                // ctrl+alt+enter: 跳出多层 blockquote 嵌套之前\n                range.setStartBefore(topBQElement);\n            }\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            var node = document.createElement(\"p\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.innerHTML = \"\\n\";\n            range.insertNode(node);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // h1-h6\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        if (headingElement.tagName === \"H6\" && startContainer.textContent.length === range.startOffset &&\n            !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\") {\n            // enter: H6 回车解析问题 https://github.com/Vanessa219/vditor/issues/48\n            var pTempElement = document.createElement(\"p\");\n            pTempElement.textContent = \"\\n\";\n            pTempElement.setAttribute(\"data-block\", \"0\");\n            startContainer.parentElement.insertAdjacentElement(\"afterend\", pTempElement);\n            range.setStart(pTempElement, 0);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变大\n        if (matchHotKey(\"⌘=\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) - 1;\n            if (index > 0) {\n                setHeading(vditor, \"h\" + index);\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变小\n        if (matchHotKey(\"⌘-\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) + 1;\n            if (index < 7) {\n                setHeading(vditor, \"h\" + index);\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && headingElement.textContent.length === 1) {\n            // 删除后变为空\n            removeHeading(vditor);\n        }\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // alt+enter\n    if (event.altKey && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey) {\n        // 切换到链接、链接引用、脚注引用弹出的输入框中\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"A\");\n        var linRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"link-ref\");\n        var footnoteRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-ref\");\n        if (aElement || linRefElement || footnoteRefElement ||\n            (headingElement && headingElement.tagName.length === 2)) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n            inputElement.focus();\n            inputElement.select();\n        }\n    }\n    // 删除有子工具栏的块\n    if (removeBlockElement(vditor, event)) {\n        return true;\n    }\n    // 对有子工具栏的块上移\n    if (matchHotKey(\"⇧⌘U\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"up\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 对有子工具栏的块下移\n    if (matchHotKey(\"⇧⌘D\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"down\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    // shift+enter：软换行，但 table/hr/heading 处理、cell 内换行、block render 换行处理单独写在上面，li & p 使用浏览器默认\n    if (!(0,compatibility/* isCtrl */.yl)(event) && event.shiftKey && !event.altKey && event.key === \"Enter\" &&\n        startContainer.parentElement.tagName !== \"LI\" && startContainer.parentElement.tagName !== \"P\") {\n        if ([\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n            // 行内元素软换行需继续 https://github.com/Vanessa219/vditor/issues/170\n            range.insertNode(document.createTextNode(\"\\n\" + constants/* Constants.ZWSP */.g.ZWSP));\n        }\n        else {\n            range.insertNode(document.createTextNode(\"\\n\"));\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        afterRenderEvent(vditor);\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // 删除\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement) {\n            if (blockElement.previousElementSibling\n                && blockElement.previousElementSibling.classList.contains(\"vditor-wysiwyg__block\")\n                && blockElement.previousElementSibling.getAttribute(\"data-block\") === \"0\"\n                // https://github.com/Vanessa219/vditor/issues/946\n                && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\") {\n                var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n                if ((rangeStart === 0 && range.startOffset === 0) || // https://github.com/Vanessa219/vditor/issues/894\n                    (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                    // 当前块删除后光标落于代码渲染块上，当前块会被删除，因此需要阻止事件，不能和 keyup 中的代码块处理合并\n                    showCode(blockElement.previousElementSibling.lastElementChild, vditor, false);\n                    if (blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        // 当前块为空且不是最后一个时，需要删除\n                        blockElement.remove();\n                        afterRenderEvent(vditor);\n                    }\n                    event.preventDefault();\n                    return true;\n                }\n            }\n            var rangeStartOffset = range.startOffset;\n            if (range.toString() === \"\" && startContainer.nodeType === 3 &&\n                startContainer.textContent.charAt(rangeStartOffset - 2) === \"\\n\" &&\n                startContainer.textContent.charAt(rangeStartOffset - 1) !== constants/* Constants.ZWSP */.g.ZWSP\n                && [\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n                // 保持行内元素软换行需继续的一致性\n                startContainer.textContent = startContainer.textContent.substring(0, rangeStartOffset - 1) +\n                    constants/* Constants.ZWSP */.g.ZWSP;\n                range.setStart(startContainer, rangeStartOffset);\n                range.collapse(true);\n                afterRenderEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n            // inline code、math、html 行前零宽字符后进行删除\n            if (startContainer.textContent === constants/* Constants.ZWSP */.g.ZWSP && range.startOffset === 1\n                && !startContainer.previousSibling && nextIsCode(range)) {\n                startContainer.textContent = \"\";\n                // 不能返回，其前面为代码渲染块时需进行以下处理：修正光标位于 inline math/html 前，按下删除按钮 code 中内容会被删除\n            }\n            // 修正光标位于 inline math/html, html-entity 前，按下删除按钮 code 中内容会被删除, 不能返回，还需要进行后续处理\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='math-inline']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='html-entity']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n        }\n    }\n    if ((0,compatibility/* isFirefox */.vU)() && range.startOffset === 1 && startContainer.textContent.indexOf(constants/* Constants.ZWSP */.g.ZWSP) > -1 &&\n        startContainer.previousSibling && startContainer.previousSibling.nodeType !== 3 &&\n        startContainer.previousSibling.tagName === \"CODE\" &&\n        (event.key === \"Backspace\" || event.key === \"ArrowLeft\")) {\n        // https://github.com/Vanessa219/vditor/issues/410\n        range.selectNodeContents(startContainer.previousSibling);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n        event.preventDefault();\n        return true;\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (event.key === \"ArrowDown\") {\n        // 光标位于内联数学公式前，按下键无作用\n        var nextElement = startContainer.nextSibling;\n        if (nextElement && nextElement.nodeType !== 3 && nextElement.getAttribute(\"data-type\") === \"math-inline\") {\n            range.setStartAfter(nextElement);\n        }\n    }\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar removeBlockElement = function (vditor, event) {\n    // 删除有子工具栏的块\n    if (matchHotKey(\"⇧⌘X\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"remove\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/highlightToolbarWYSIWYG.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar highlightToolbarWYSIWYG = function (vditor) {\n    clearTimeout(vditor.wysiwyg.hlToolbarTimeoutId);\n    vditor.wysiwyg.hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor.wysiwyg.element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = getSelection().getRangeAt(0);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        else {\n            typeElement = typeElement.childNodes[range.startOffset >= typeElement.childNodes.length\n                ? typeElement.childNodes.length - 1\n                : range.startOffset];\n        }\n        var footnotesElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-block\");\n        if (footnotesElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(footnotesElement, vditor);\n            setPopoverPosition(vditor, footnotesElement);\n            return;\n        }\n        // 工具栏高亮和禁用\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"B\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRONG\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"I\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"EM\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRIKE\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"S\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        // comments\n        vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment--focus\")\n            .forEach(function (item) {\n            item.classList.remove(\"vditor-comment--focus\");\n        });\n        var commentElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-comment\");\n        if (commentElement) {\n            var ids_1 = commentElement.getAttribute(\"data-cmtids\").split(\" \");\n            if (ids_1.length > 1 && commentElement.nextSibling.isSameNode(commentElement.nextElementSibling)) {\n                var nextIds_1 = commentElement.nextElementSibling\n                    .getAttribute(\"data-cmtids\")\n                    .split(\" \");\n                ids_1.find(function (id) {\n                    if (nextIds_1.includes(id)) {\n                        ids_1 = [id];\n                        return true;\n                    }\n                });\n            }\n            vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(ids_1[0]) > -1) {\n                    item.classList.add(\"vditor-comment--focus\");\n                }\n            });\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"A\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TABLE\");\n        var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"CODE\")) {\n            if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"PRE\")) {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"inline-code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n            }\n        }\n        else if (headingElement) {\n            disableToolbar(vditor.toolbar.elements, [\"bold\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        else if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"table\"]);\n        }\n        // toc popover\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-toc\");\n        if (tocElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(tocElement, vditor);\n            setPopoverPosition(vditor, tocElement);\n            return;\n        }\n        // quote popover\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(typeElement, \"BLOCKQUOTE\");\n        if (blockquoteElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockquoteElement, vditor);\n            genDown(range, blockquoteElement, vditor);\n            genClose(blockquoteElement, vditor);\n            setPopoverPosition(vditor, blockquoteElement);\n        }\n        // list item popover\n        if (liElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, liElement, vditor);\n            genDown(range, liElement, vditor);\n            genClose(liElement, vditor);\n            setPopoverPosition(vditor, liElement);\n        }\n        // table popover\n        if (tableElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var updateTable_1 = function () {\n                var oldRow = tableElement.rows.length;\n                var oldColumn = tableElement.rows[0].cells.length;\n                var row = parseInt(input_1.value, 10) || oldRow;\n                var column = parseInt(input2_1.value, 10) || oldColumn;\n                if (row === oldRow && oldColumn === column) {\n                    return;\n                }\n                if (oldColumn !== column) {\n                    var columnDiff = column - oldColumn;\n                    for (var i = 0; i < tableElement.rows.length; i++) {\n                        if (columnDiff > 0) {\n                            for (var j = 0; j < columnDiff; j++) {\n                                if (i === 0) {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<th> </th>\");\n                                }\n                                else {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<td> </td>\");\n                                }\n                            }\n                        }\n                        else {\n                            for (var k = oldColumn - 1; k >= column; k--) {\n                                tableElement.rows[i].cells[k].remove();\n                            }\n                        }\n                    }\n                }\n                if (oldRow !== row) {\n                    var rowDiff = row - oldRow;\n                    if (rowDiff > 0) {\n                        var rowHTML = \"<tr>\";\n                        for (var m = 0; m < column; m++) {\n                            rowHTML += \"<td> </td>\";\n                        }\n                        for (var l = 0; l < rowDiff; l++) {\n                            if (tableElement.querySelector(\"tbody\")) {\n                                tableElement\n                                    .querySelector(\"tbody\")\n                                    .insertAdjacentHTML(\"beforeend\", rowHTML);\n                            }\n                            else {\n                                tableElement\n                                    .querySelector(\"thead\")\n                                    .insertAdjacentHTML(\"afterend\", rowHTML + \"</tr>\");\n                            }\n                        }\n                    }\n                    else {\n                        for (var m = oldRow - 1; m >= row; m--) {\n                            tableElement.rows[m].remove();\n                            if (tableElement.rows.length === 1) {\n                                tableElement.querySelector(\"tbody\").remove();\n                            }\n                        }\n                    }\n                }\n            };\n            var setAlign_1 = function (type) {\n                setTableAlign(tableElement, type);\n                if (type === \"right\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.add(\"vditor-icon--current\");\n                }\n                else if (type === \"center\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.add(\"vditor-icon--current\");\n                }\n                else {\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    left_1.classList.add(\"vditor-icon--current\");\n                }\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                afterRenderEvent(vditor);\n            };\n            var td = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TD\");\n            var th = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TH\");\n            var alignType = \"left\";\n            if (td) {\n                alignType = td.getAttribute(\"align\") || \"left\";\n            }\n            else if (th) {\n                alignType = th.getAttribute(\"align\") || \"center\";\n            }\n            var left_1 = document.createElement(\"button\");\n            left_1.setAttribute(\"type\", \"button\");\n            left_1.setAttribute(\"aria-label\", window.VditorI18n.alignLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘L\") + \">\");\n            left_1.setAttribute(\"data-type\", \"left\");\n            left_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-left\"></use></svg>';\n            left_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"left\" ? \" vditor-icon--current\" : \"\");\n            left_1.onclick = function () {\n                setAlign_1(\"left\");\n            };\n            var center_1 = document.createElement(\"button\");\n            center_1.setAttribute(\"type\", \"button\");\n            center_1.setAttribute(\"aria-label\", window.VditorI18n.alignCenter + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘C\") + \">\");\n            center_1.setAttribute(\"data-type\", \"center\");\n            center_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>';\n            center_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"center\" ? \" vditor-icon--current\" : \"\");\n            center_1.onclick = function () {\n                setAlign_1(\"center\");\n            };\n            var right_1 = document.createElement(\"button\");\n            right_1.setAttribute(\"type\", \"button\");\n            right_1.setAttribute(\"aria-label\", window.VditorI18n.alignRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘R\") + \">\");\n            right_1.setAttribute(\"data-type\", \"right\");\n            right_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-right\"></use></svg>';\n            right_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"right\" ? \" vditor-icon--current\" : \"\");\n            right_1.onclick = function () {\n                setAlign_1(\"right\");\n            };\n            var insertRowElement = document.createElement(\"button\");\n            insertRowElement.setAttribute(\"type\", \"button\");\n            insertRowElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowBelow + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌘=\") + \">\");\n            insertRowElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-row\"></use></svg>';\n            insertRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRow(vditor, range, cellElement);\n                }\n            };\n            var insertRowBElement = document.createElement(\"button\");\n            insertRowBElement.setAttribute(\"type\", \"button\");\n            insertRowBElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowAbove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘F\") + \">\");\n            insertRowBElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-rowb\"></use></svg>';\n            insertRowBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRowAbove(vditor, range, cellElement);\n                }\n            };\n            var insertColumnElement = document.createElement(\"button\");\n            insertColumnElement.setAttribute(\"type\", \"button\");\n            insertColumnElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘=\") + \">\");\n            insertColumnElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-column\"></use></svg>';\n            insertColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement);\n                }\n            };\n            var insertColumnBElement = document.createElement(\"button\");\n            insertColumnBElement.setAttribute(\"type\", \"button\");\n            insertColumnBElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘G\") + \">\");\n            insertColumnBElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-columnb\"></use></svg>';\n            insertColumnBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n                }\n            };\n            var deleteRowElement = document.createElement(\"button\");\n            deleteRowElement.setAttribute(\"type\", \"button\");\n            deleteRowElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-row\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌘-\") + \">\");\n            deleteRowElement.setAttribute(\"data-type\", \"deleteRow\");\n            deleteRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-row\"></use></svg>';\n            deleteRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteRow(vditor, range, cellElement);\n                }\n            };\n            var deleteColumnElement = document.createElement(\"button\");\n            deleteColumnElement.setAttribute(\"type\", \"button\");\n            deleteColumnElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-column\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘-\") + \">\");\n            deleteColumnElement.setAttribute(\"data-type\", \"deleteColumn\");\n            deleteColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-column\"></use></svg>';\n            deleteColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteColumn(vditor, range, tableElement, cellElement);\n                }\n            };\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.row);\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_1 = document.createElement(\"input\");\n            inputWrap.appendChild(input_1);\n            input_1.type = \"number\";\n            input_1.min = \"1\";\n            input_1.className = \"vditor-input\";\n            input_1.style.width = \"42px\";\n            input_1.style.textAlign = \"center\";\n            input_1.setAttribute(\"placeholder\", window.VditorI18n.row);\n            input_1.value = tableElement.rows.length.toString();\n            input_1.oninput = function () {\n                updateTable_1();\n            };\n            input_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input2_1.focus();\n                    input2_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            var input2Wrap = document.createElement(\"span\");\n            input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.column);\n            input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input2_1 = document.createElement(\"input\");\n            input2Wrap.appendChild(input2_1);\n            input2_1.type = \"number\";\n            input2_1.min = \"1\";\n            input2_1.className = \"vditor-input\";\n            input2_1.style.width = \"42px\";\n            input2_1.style.textAlign = \"center\";\n            input2_1.setAttribute(\"placeholder\", window.VditorI18n.column);\n            input2_1.value = tableElement.rows[0].cells.length.toString();\n            input2_1.oninput = function () {\n                updateTable_1();\n            };\n            input2_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input_1.focus();\n                    input_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            genUp(range, tableElement, vditor);\n            genDown(range, tableElement, vditor);\n            genClose(tableElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", left_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", center_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", right_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            vditor.wysiwyg.popover.insertAdjacentHTML(\"beforeend\", \" x \");\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n            setPopoverPosition(vditor, tableElement);\n        }\n        // link ref popover\n        var linkRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"link-ref\");\n        if (linkRefElement) {\n            genLinkRefPopover(vditor, linkRefElement);\n        }\n        // footnote popover\n        var footnotesRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-ref\");\n        if (footnotesRefElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_2 = document.createElement(\"input\");\n            inputWrap.appendChild(input_2);\n            input_2.className = \"vditor-input\";\n            input_2.setAttribute(\"placeholder\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            input_2.style.width = \"120px\";\n            input_2.value = footnotesRefElement.getAttribute(\"data-footnotes-label\");\n            input_2.oninput = function () {\n                if (input_2.value.trim() !== \"\") {\n                    footnotesRefElement.setAttribute(\"data-footnotes-label\", input_2.value);\n                }\n            };\n            input_2.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (!(0,compatibility/* isCtrl */.yl)(event) &&\n                    !event.shiftKey &&\n                    event.altKey &&\n                    event.key === \"Enter\") {\n                    range.selectNodeContents(footnotesRefElement);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            genClose(footnotesRefElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, footnotesRefElement);\n        }\n        var blockRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-wysiwyg__block\");\n        // block popover: math-inline, math-block, html-block, html-inline, code-block, html-entity\n        if (blockRenderElement &&\n            blockRenderElement.getAttribute(\"data-type\").indexOf(\"block\") > -1) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockRenderElement, vditor);\n            genDown(range, blockRenderElement, vditor);\n            genClose(blockRenderElement, vditor);\n            if (blockRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n                var languageWrap = document.createElement(\"span\");\n                languageWrap.setAttribute(\"aria-label\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n                languageWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n                var language_1 = document.createElement(\"input\");\n                languageWrap.appendChild(language_1);\n                var codeElement_1 = blockRenderElement.firstElementChild.firstElementChild;\n                language_1.className = \"vditor-input\";\n                language_1.setAttribute(\"placeholder\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n                language_1.value =\n                    codeElement_1.className.indexOf(\"language-\") > -1\n                        ? codeElement_1.className.split(\"-\")[1].split(\" \")[0]\n                        : \"\";\n                language_1.oninput = function () {\n                    if (language_1.value.trim() !== \"\") {\n                        codeElement_1.className = \"language-\" + language_1.value;\n                    }\n                    else {\n                        codeElement_1.className = \"\";\n                        vditor.hint.recentLanguage = \"\";\n                    }\n                    if (blockRenderElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                        blockRenderElement.lastElementChild.innerHTML =\n                            blockRenderElement.firstElementChild.innerHTML;\n                        processCodeRender(blockRenderElement.lastElementChild, vditor);\n                    }\n                    afterRenderEvent(vditor);\n                };\n                language_1.onkeydown = function (event) {\n                    if (event.isComposing) {\n                        return;\n                    }\n                    if (removeBlockElement(vditor, event)) {\n                        return;\n                    }\n                    if (event.key === \"Escape\" &&\n                        vditor.hint.element.style.display === \"block\") {\n                        vditor.hint.element.style.display = \"none\";\n                        event.preventDefault();\n                        return;\n                    }\n                    if (!(0,compatibility/* isCtrl */.yl)(event) &&\n                        !event.shiftKey &&\n                        event.altKey &&\n                        event.key === \"Enter\") {\n                        range.setStart(codeElement_1.firstChild, 0);\n                        range.collapse(true);\n                        (0,selection/* setSelectionFocus */.Hc)(range);\n                    }\n                    vditor.hint.select(event, vditor);\n                };\n                language_1.onkeyup = function (event) {\n                    if (event.isComposing ||\n                        event.key === \"Enter\" ||\n                        event.key === \"ArrowUp\" ||\n                        event.key === \"Escape\" ||\n                        event.key === \"ArrowDown\") {\n                        return;\n                    }\n                    var matchLangData = [];\n                    var key = language_1.value.substring(0, language_1.selectionStart);\n                    constants/* Constants.CODE_LANGUAGES.forEach */.g.CODE_LANGUAGES.forEach(function (keyName) {\n                        if (keyName.indexOf(key.toLowerCase()) > -1) {\n                            matchLangData.push({\n                                html: keyName,\n                                value: keyName,\n                            });\n                        }\n                    });\n                    vditor.hint.genHTML(matchLangData, key, vditor);\n                    event.preventDefault();\n                };\n                vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", languageWrap);\n            }\n            setPopoverPosition(vditor, blockRenderElement);\n        }\n        else {\n            if (!blockRenderElement) {\n                vditor.wysiwyg.element\n                    .querySelectorAll(\".vditor-wysiwyg__preview\")\n                    .forEach(function (itemElement) {\n                    var previousElement = itemElement.previousElementSibling;\n                    previousElement.style.display = \"none\";\n                });\n            }\n            blockRenderElement = undefined;\n        }\n        if (headingElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_3 = document.createElement(\"input\");\n            inputWrap.appendChild(input_3);\n            input_3.className = \"vditor-input\";\n            input_3.setAttribute(\"placeholder\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            input_3.style.width = \"120px\";\n            input_3.value = headingElement.getAttribute(\"data-id\") || \"\";\n            input_3.oninput = function () {\n                headingElement.setAttribute(\"data-id\", input_3.value);\n            };\n            input_3.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (!(0,compatibility/* isCtrl */.yl)(event) &&\n                    !event.shiftKey &&\n                    event.altKey &&\n                    event.key === \"Enter\") {\n                    range.selectNodeContents(headingElement);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            genUp(range, headingElement, vditor);\n            genDown(range, headingElement, vditor);\n            genClose(headingElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, headingElement);\n        }\n        // a popover\n        if (aElement) {\n            genAPopover(vditor, aElement);\n        }\n        if (!blockquoteElement &&\n            !liElement &&\n            !tableElement &&\n            !blockRenderElement &&\n            !aElement &&\n            !linkRefElement &&\n            !footnotesRefElement &&\n            !headingElement &&\n            !tocElement) {\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-block\", \"0\");\n            if (blockElement &&\n                blockElement.parentElement.isEqualNode(vditor.wysiwyg.element)) {\n                vditor.wysiwyg.popover.innerHTML = \"\";\n                genUp(range, blockElement, vditor);\n                genDown(range, blockElement, vditor);\n                genClose(blockElement, vditor);\n                setPopoverPosition(vditor, blockElement);\n            }\n            else {\n                vditor.wysiwyg.popover.style.display = \"none\";\n            }\n        }\n        // 反斜杠特殊处理\n        vditor.wysiwyg.element\n            .querySelectorAll('span[data-type=\"backslash\"] > span')\n            .forEach(function (item) {\n            item.style.display = \"none\";\n        });\n        var backslashElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"backslash\");\n        if (backslashElement) {\n            backslashElement.querySelector(\"span\").style.display = \"inline\";\n        }\n    }, 200);\n};\nvar setPopoverPosition = function (vditor, element) {\n    var targetElement = element;\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(element, \"TABLE\");\n    if (tableElement) {\n        targetElement = tableElement;\n    }\n    vditor.wysiwyg.popover.style.left = \"0\";\n    vditor.wysiwyg.popover.style.display = \"block\";\n    vditor.wysiwyg.popover.style.top =\n        Math.max(-8, targetElement.offsetTop - 21 - vditor.wysiwyg.element.scrollTop) + \"px\";\n    vditor.wysiwyg.popover.style.left =\n        Math.min(targetElement.offsetLeft, vditor.wysiwyg.element.clientWidth - vditor.wysiwyg.popover.clientWidth) + \"px\";\n    vditor.wysiwyg.popover.setAttribute(\"data-top\", (targetElement.offsetTop - 21).toString());\n};\nvar genLinkRefPopover = function (vditor, linkRefElement) {\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateLinkRef = function () {\n        if (input.value.trim() !== \"\") {\n            if (linkRefElement.tagName === \"IMG\") {\n                linkRefElement.setAttribute(\"alt\", input.value);\n            }\n            else {\n                linkRefElement.textContent = input.value;\n            }\n        }\n        // data-link-label\n        if (input1.value.trim() !== \"\") {\n            linkRefElement.setAttribute(\"data-link-label\", input1.value);\n        }\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value =\n        linkRefElement.getAttribute(\"alt\") || linkRefElement.textContent;\n    input.oninput = function () {\n        updateLinkRef();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.linkRef);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.linkRef);\n    input1.value = linkRefElement.getAttribute(\"data-link-label\");\n    input1.oninput = function () {\n        updateLinkRef();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input);\n    };\n    genClose(linkRefElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    setPopoverPosition(vditor, linkRefElement);\n};\nvar genUp = function (range, element, vditor) {\n    var previousElement = element.previousElementSibling;\n    if (!previousElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var upElement = document.createElement(\"button\");\n    upElement.setAttribute(\"type\", \"button\");\n    upElement.setAttribute(\"data-type\", \"up\");\n    upElement.setAttribute(\"aria-label\", window.VditorI18n.up + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘U\") + \">\");\n    upElement.innerHTML = '<svg><use xlink:href=\"#vditor-icon-up\"></use></svg>';\n    upElement.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    upElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        previousElement.insertAdjacentElement(\"beforebegin\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", upElement);\n};\nvar genDown = function (range, element, vditor) {\n    var nextElement = element.nextElementSibling;\n    if (!nextElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var downElement = document.createElement(\"button\");\n    downElement.setAttribute(\"type\", \"button\");\n    downElement.setAttribute(\"data-type\", \"down\");\n    downElement.setAttribute(\"aria-label\", window.VditorI18n.down + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘D\") + \">\");\n    downElement.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-down\"></use></svg>';\n    downElement.className =\n        \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    downElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        nextElement.insertAdjacentElement(\"afterend\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", downElement);\n};\nvar genClose = function (element, vditor) {\n    var close = document.createElement(\"button\");\n    close.setAttribute(\"type\", \"button\");\n    close.setAttribute(\"data-type\", \"remove\");\n    close.setAttribute(\"aria-label\", window.VditorI18n.remove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘X\") + \">\");\n    close.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-trashcan\"></use></svg>';\n    close.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    close.onclick = function () {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        range.setStartAfter(element);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        element.remove();\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", close);\n};\nvar linkHotkey = function (vditor, element, event, nextInputElement) {\n    if (event.isComposing) {\n        return;\n    }\n    if (event.key === \"Tab\") {\n        nextInputElement.focus();\n        nextInputElement.select();\n        event.preventDefault();\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) &&\n        !event.shiftKey &&\n        event.altKey &&\n        event.key === \"Enter\") {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        // firefox 不会打断 link https://github.com/Vanessa219/vditor/issues/193\n        element.insertAdjacentHTML(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n        range.setStartAfter(element.nextSibling);\n        range.collapse(true);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        event.preventDefault();\n    }\n};\nvar genAPopover = function (vditor, aElement) {\n    var lang = vditor.options.lang;\n    var options = vditor.options;\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateA = function () {\n        if (input.value.trim() !== \"\") {\n            aElement.innerHTML = input.value;\n        }\n        aElement.setAttribute(\"href\", input1.value);\n        aElement.setAttribute(\"title\", input2.value);\n    };\n    aElement.querySelectorAll(\"[data-marker]\").forEach(function (item) {\n        item.removeAttribute(\"data-marker\");\n    });\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value = aElement.innerHTML || \"\";\n    input.oninput = function () {\n        updateA();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.link);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.link);\n    input1.value = aElement.getAttribute(\"href\") || \"\";\n    input1.oninput = function () {\n        updateA();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input2);\n    };\n    var input2Wrap = document.createElement(\"span\");\n    input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.tooltipText);\n    input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input2 = document.createElement(\"input\");\n    input2Wrap.appendChild(input2);\n    input2.className = \"vditor-input\";\n    input2.setAttribute(\"placeholder\", window.VditorI18n.tooltipText);\n    input2.style.width = \"60px\";\n    input2.value = aElement.getAttribute(\"title\") || \"\";\n    input2.oninput = function () {\n        updateA();\n    };\n    input2.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input);\n    };\n    genClose(aElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n    setPopoverPosition(vditor, aElement);\n};\nvar genImagePopover = function (event, vditor) {\n    var imgElement = event.target;\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateImg = function () {\n        imgElement.setAttribute(\"src\", inputElement.value);\n        imgElement.setAttribute(\"alt\", alt.value);\n        imgElement.setAttribute(\"title\", title.value);\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.imageURL);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var inputElement = document.createElement(\"input\");\n    inputWrap.appendChild(inputElement);\n    inputElement.className = \"vditor-input\";\n    inputElement.setAttribute(\"placeholder\", window.VditorI18n.imageURL);\n    inputElement.value = imgElement.getAttribute(\"src\") || \"\";\n    inputElement.oninput = function () {\n        updateImg();\n    };\n    inputElement.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var altWrap = document.createElement(\"span\");\n    altWrap.setAttribute(\"aria-label\", window.VditorI18n.alternateText);\n    altWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var alt = document.createElement(\"input\");\n    altWrap.appendChild(alt);\n    alt.className = \"vditor-input\";\n    alt.setAttribute(\"placeholder\", window.VditorI18n.alternateText);\n    alt.style.width = \"52px\";\n    alt.value = imgElement.getAttribute(\"alt\") || \"\";\n    alt.oninput = function () {\n        updateImg();\n    };\n    alt.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var titleWrap = document.createElement(\"span\");\n    titleWrap.setAttribute(\"aria-label\", window.VditorI18n.title);\n    titleWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var title = document.createElement(\"input\");\n    titleWrap.appendChild(title);\n    title.className = \"vditor-input\";\n    title.setAttribute(\"placeholder\", window.VditorI18n.title);\n    title.value = imgElement.getAttribute(\"title\") || \"\";\n    title.oninput = function () {\n        updateImg();\n    };\n    title.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    genClose(imgElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", altWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", titleWrap);\n    setPopoverPosition(vditor, imgElement);\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/highlightToolbar.ts\n\n\nvar highlightToolbar = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\") {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/renderDomByMd.ts\n\n\nvar renderDomByMd = function (vditor, md, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    var editorElement = vditor.wysiwyg.element;\n    editorElement.innerHTML = vditor.lute.Md2VditorDOM(md);\n    editorElement.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n        item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n    });\n    afterRenderEvent(vditor, options);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/toolbarEvent.ts\n\n\n\n\n\n\n\n\n\nvar cancelBES = function (range, vditor, commandName) {\n    var element = range.startContainer.parentElement;\n    var jump = false;\n    var lastTagName = \"\";\n    var lastEndTagName = \"\";\n    var splitHTML = splitElement(range);\n    var lastBeforeHTML = splitHTML.beforeHTML;\n    var lastAfterHTML = splitHTML.afterHTML;\n    while (element && !jump) {\n        var tagName = element.tagName;\n        if (tagName === \"STRIKE\") {\n            tagName = \"S\";\n        }\n        if (tagName === \"I\") {\n            tagName = \"EM\";\n        }\n        if (tagName === \"B\") {\n            tagName = \"STRONG\";\n        }\n        if (tagName === \"S\" || tagName === \"STRONG\" || tagName === \"EM\") {\n            var insertHTML = \"\";\n            var previousHTML = \"\";\n            var nextHTML = \"\";\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                previousHTML = getPreviousHTML(element);\n                nextHTML = getNextHTML(element);\n            }\n            if (lastBeforeHTML || previousHTML) {\n                insertHTML = previousHTML + \"<\" + tagName + \">\" + lastBeforeHTML + \"</\" + tagName + \">\";\n                lastBeforeHTML = insertHTML;\n            }\n            if ((commandName === \"bold\" && tagName === \"STRONG\") ||\n                (commandName === \"italic\" && tagName === \"EM\") ||\n                (commandName === \"strikeThrough\" && tagName === \"S\")) {\n                // 取消\n                insertHTML += \"\" + lastTagName + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr>\" + lastEndTagName;\n                jump = true;\n            }\n            if (lastAfterHTML || nextHTML) {\n                lastAfterHTML = \"<\" + tagName + \">\" + lastAfterHTML + \"</\" + tagName + \">\" + nextHTML;\n                insertHTML += lastAfterHTML;\n            }\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                element = element.parentElement;\n                element.innerHTML = insertHTML;\n            }\n            else {\n                element.outerHTML = insertHTML;\n                element = element.parentElement;\n            }\n            lastTagName = \"<\" + tagName + \">\" + lastTagName;\n            lastEndTagName = \"</\" + tagName + \">\" + lastEndTagName;\n        }\n        else {\n            jump = true;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n};\nvar toolbarEvent = function (vditor, actionBtn, event) {\n    if (vditor.wysiwyg.composingLock // Mac Chrome 中韩文结束会出发此事件，导致重复末尾字符 https://github.com/Vanessa219/vditor/issues/188\n        && event instanceof CustomEvent // 点击按钮应忽略输入法 https://github.com/Vanessa219/vditor/issues/473\n    ) {\n        return;\n    }\n    var useHighlight = true;\n    var useRender = true;\n    if (vditor.wysiwyg.element.querySelector(\"wbr\")) {\n        vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // 移除\n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"strike\") {\n            commandName = \"strikeThrough\";\n        }\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"BLOCKQUOTE\");\n            if (!quoteElement) {\n                quoteElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (quoteElement) {\n                useHighlight = false;\n                actionBtn.classList.remove(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\" + quoteElement.innerHTML + \"</p>\" : quoteElement.innerHTML;\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"inline-code\") {\n            var inlineCodeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n            if (!inlineCodeElement) {\n                inlineCodeElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (inlineCodeElement) {\n                inlineCodeElement.outerHTML = inlineCodeElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") + \"<wbr>\";\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"link\") {\n            if (!range.collapsed) {\n                document.execCommand(\"unlink\", false, \"\");\n            }\n            else {\n                range.selectNode(range.startContainer.parentElement);\n                document.execCommand(\"unlink\", false, \"\");\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n            if (range.toString() === \"\") {\n                cancelBES(range, vditor, commandName);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    else {\n        // 添加\n        if (vditor.wysiwyg.element.childNodes.length === 0) {\n            vditor.wysiwyg.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"quote\") {\n            if (!blockElement) {\n                blockElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (blockElement) {\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n                // li 中软换行\n                if (liElement && blockElement.contains(liElement)) {\n                    liElement.innerHTML = \"<blockquote data-block=\\\"0\\\">\" + liElement.innerHTML + \"</blockquote>\";\n                }\n                else {\n                    blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\" + blockElement.outerHTML + \"</blockquote>\";\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"inline-code\") {\n            if (range.toString() === \"\") {\n                var node = document.createElement(\"code\");\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else if (range.startContainer.nodeType === 3) {\n                var node = document.createElement(\"code\");\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"code\") {\n            var node = document.createElement(\"div\");\n            node.className = \"vditor-wysiwyg__block\";\n            node.setAttribute(\"data-type\", \"code-block\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.setAttribute(\"data-marker\", \"```\");\n            if (range.toString() === \"\") {\n                node.innerHTML = \"<pre><code><wbr>\\n</code></pre>\";\n            }\n            else {\n                node.innerHTML = \"<pre><code>\" + range.toString() + \"<wbr></code></pre>\";\n                range.deleteContents();\n            }\n            range.insertNode(node);\n            if (blockElement) {\n                blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n                processCodeRender(item, vditor);\n            });\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"link\") {\n            if (range.toString() === \"\") {\n                var aElement = document.createElement(\"a\");\n                aElement.innerText = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(aElement);\n                range.setStart(aElement.firstChild, 1);\n                range.collapse(true);\n                genAPopover(vditor, aElement);\n                var textInputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n                textInputElement.value = \"\";\n                textInputElement.focus();\n                useRender = false;\n            }\n            else {\n                var node = document.createElement(\"a\");\n                node.setAttribute(\"href\", \"\");\n                node.innerHTML = range.toString();\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                genAPopover(vditor, node);\n                var textInputElements = vditor.wysiwyg.popover.querySelectorAll(\"input\");\n                textInputElements[0].value = node.innerText;\n                textInputElements[1].focus();\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"table\") {\n            var tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>\";\n            if (range.toString().trim() === \"\") {\n                if (blockElement && blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    blockElement.outerHTML = tableHTML_1;\n                }\n                else {\n                    document.execCommand(\"insertHTML\", false, tableHTML_1);\n                }\n                range.selectNode(vditor.wysiwyg.element.querySelector(\"wbr\").previousSibling);\n                vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr>\";\n                var tableText = range.toString().split(\"\\n\");\n                var delimiter_1 = tableText[0].split(\",\").length > tableText[0].split(\"\\t\").length ? \",\" : \"\\t\";\n                tableText.forEach(function (rows, index) {\n                    if (index === 0) {\n                        rows.split(delimiter_1).forEach(function (header, subIndex) {\n                            if (subIndex === 0) {\n                                tableHTML_1 += \"<th>\" + header + \"<wbr></th>\";\n                            }\n                            else {\n                                tableHTML_1 += \"<th>\" + header + \"</th>\";\n                            }\n                        });\n                        tableHTML_1 += \"</tr></thead>\";\n                    }\n                    else {\n                        if (index === 1) {\n                            tableHTML_1 += \"<tbody><tr>\";\n                        }\n                        else {\n                            tableHTML_1 += \"<tr>\";\n                        }\n                        rows.split(delimiter_1).forEach(function (cell) {\n                            tableHTML_1 += \"<td>\" + cell + \"</td>\";\n                        });\n                        tableHTML_1 += \"</tr>\";\n                    }\n                });\n                tableHTML_1 += \"</tbody></table>\";\n                document.execCommand(\"insertHTML\", false, tableHTML_1);\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n            if (commandName === \"strike\") {\n                commandName = \"strikeThrough\";\n            }\n            if (range.toString() === \"\" && (commandName === \"bold\" || commandName === \"italic\" || commandName === \"strikeThrough\")) {\n                var tagName = \"strong\";\n                if (commandName === \"italic\") {\n                    tagName = \"em\";\n                }\n                else if (commandName === \"strikeThrough\") {\n                    tagName = \"s\";\n                }\n                var node = document.createElement(tagName);\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                if (node.previousSibling && node.previousSibling.textContent === constants/* Constants.ZWSP */.g.ZWSP) {\n                    // 移除多层嵌套中的 zwsp\n                    node.previousSibling.textContent = \"\";\n                }\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    if (useHighlight) {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    if (useRender) {\n        afterRenderEvent(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/MenuItem.ts\n\n\n\n\n\n\nvar MenuItem = /** @class */ (function () {\n    function MenuItem(vditor, menuItem) {\n        var _a;\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        if (menuItem.className) {\n            (_a = this.element.classList).add.apply(_a, menuItem.className.split(\" \"));\n        }\n        var hotkey = menuItem.hotkey ? \" <\" + (0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey) + \">\" : \"\";\n        if (menuItem.level === 2) {\n            hotkey = menuItem.hotkey ? \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey) + \"&gt;\" : \"\";\n        }\n        var tip = menuItem.tip ? menuItem.tip + hotkey : \"\" + window.VditorI18n[menuItem.name] + hotkey;\n        var tagName = menuItem.name === \"upload\" ? \"div\" : \"button\";\n        if (menuItem.level === 2) {\n            this.element.innerHTML = \"<\" + tagName + \" data-type=\\\"\" + menuItem.name + \"\\\">\" + tip + \"</\" + tagName + \">\";\n        }\n        else {\n            this.element.classList.add(\"vditor-toolbar__item\");\n            var iconElement = document.createElement(tagName);\n            iconElement.setAttribute(\"data-type\", menuItem.name);\n            iconElement.className = \"vditor-tooltipped vditor-tooltipped__\" + menuItem.tipPosition;\n            iconElement.setAttribute(\"aria-label\", tip);\n            iconElement.innerHTML = menuItem.icon;\n            this.element.appendChild(iconElement);\n        }\n        if (!menuItem.prefix) {\n            return;\n        }\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            if (vditor.currentMode === \"wysiwyg\") {\n                toolbarEvent(vditor, _this.element.children[0], event);\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n            else {\n                processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n        });\n    }\n    return MenuItem;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/EditMode.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar setEditMode = function (vditor, type, event) {\n    var markdownText;\n    if (typeof event !== \"string\") {\n        hidePanel(vditor, [\"subToolbar\", \"hint\"]);\n        event.preventDefault();\n        markdownText = getMarkdown(vditor);\n    }\n    else {\n        markdownText = event;\n    }\n    if (vditor.currentMode === type && typeof event !== \"string\") {\n        return;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    if (vditor.options.preview.mode === \"both\" && type === \"sv\") {\n        vditor.preview.element.style.display = \"block\";\n    }\n    else {\n        vditor.preview.element.style.display = \"none\";\n    }\n    enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n    if (type === \"ir\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"block\";\n        vditor.lute.SetVditorIR(true);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"ir\";\n        vditor.ir.element.innerHTML = vditor.lute.Md2VditorIRDOM(markdownText);\n        process_processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n        vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        vditor.ir.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n    }\n    else if (type === \"wysiwyg\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"block\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(true);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"wysiwyg\";\n        setPadding(vditor);\n        renderDomByMd(vditor, markdownText, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n    else if (type === \"sv\") {\n        showToolbar(vditor.toolbar.elements, [\"both\"]);\n        hideToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        if (vditor.options.preview.mode === \"both\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        else if (vditor.options.preview.mode === \"editor\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(true);\n        vditor.currentMode = \"sv\";\n        var svHTML = processSpinVditorSVDOM(markdownText, vditor);\n        if (svHTML === \"<div data-block='0'></div>\") {\n            // https://github.com/Vanessa219/vditor/issues/654 SV 模式 Placeholder 显示问题\n            svHTML = \"\";\n        }\n        vditor.sv.element.innerHTML = svHTML;\n        processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n    }\n    vditor.undo.resetIcon(vditor);\n    if (typeof event !== \"string\") {\n        // 初始化不 focus\n        vditor[vditor.currentMode].element.focus();\n        highlightToolbar(vditor);\n    }\n    renderToc(vditor);\n    setTypewriterPosition(vditor);\n    if (vditor.toolbar.elements[\"edit-mode\"]) {\n        vditor.toolbar.elements[\"edit-mode\"].querySelectorAll(\"button\").forEach(function (item) {\n            item.classList.remove(\"vditor-menu--current\");\n        });\n        vditor.toolbar.elements[\"edit-mode\"].querySelector(\"button[data-mode=\\\"\" + vditor.currentMode + \"\\\"]\").classList.add(\"vditor-menu--current\");\n    }\n    vditor.outline.toggle(vditor, vditor.currentMode !== \"sv\" && vditor.options.outline.enable);\n};\nvar EditMode = /** @class */ (function (_super) {\n    __extends(EditMode, _super);\n    function EditMode(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-mode=\\\"wysiwyg\\\">\" + window.VditorI18n.wysiwyg + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘7\") + \"></button>\\n<button data-mode=\\\"ir\\\">\" + window.VditorI18n.instantRendering + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘8\") + \"></button>\\n<button data-mode=\\\"sv\\\">\" + window.VditorI18n.splitView + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘9\") + \"></button>\";\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement, menuItem);\n        return _this;\n    }\n    EditMode.prototype._bindEvent = function (vditor, panelElement, menuItem) {\n        var actionBtn = this.element.children[0];\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        panelElement.children.item(0).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // wysiwyg\n            setEditMode(vditor, \"wysiwyg\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(1).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // ir\n            setEditMode(vditor, \"ir\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(2).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // markdown\n            setEditMode(vditor, \"sv\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    return EditMode;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/getSelectText.ts\n\nvar getSelectText = function (editor, range) {\n    if ((0,selection/* selectIsEditor */.Gb)(editor, range)) {\n        return getSelection().toString();\n    }\n    return \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/editorCommonEvent.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar focusEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"focus\", function () {\n        if (vditor.options.focus) {\n            vditor.options.focus(getMarkdown(vditor));\n        }\n        hidePanel(vditor, [\"subToolbar\"]);\n    });\n};\nvar dblclickEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dblclick\", function (event) {\n        if (event.target.tagName === \"IMG\") {\n            (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n        }\n    });\n};\nvar blurEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"blur\", function (event) {\n        if (vditor.currentMode === \"ir\") {\n            var expandElement = vditor.ir.element.querySelector(\".vditor-ir__node--expand\");\n            if (expandElement) {\n                expandElement.classList.remove(\"vditor-ir__node--expand\");\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\" &&\n            !vditor.wysiwyg.selectPopover.contains(event.relatedTarget)) {\n            vditor.wysiwyg.hideComment();\n        }\n        vditor[vditor.currentMode].range = (0,selection/* getEditorRange */.zh)(vditor);\n        if (vditor.options.blur) {\n            vditor.options.blur(getMarkdown(vditor));\n        }\n    });\n};\nvar dropEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dragstart\", function (event) {\n        // 选中编辑器中的文字进行拖拽\n        event.dataTransfer.setData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR, constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR);\n    });\n    editorElement.addEventListener(\"drop\", function (event) {\n        if (event.dataTransfer.getData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR)) {\n            // 编辑器内选中文字拖拽\n            execAfterRender(vditor);\n        }\n        else if (event.dataTransfer.types[0] === \"Files\" || event.dataTransfer.types.includes(\"text/html\")) {\n            // 外部文件拖入编辑器中或者编辑器内选中文字拖拽\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        }\n    });\n};\nvar copyEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"copy\", function (event) { return copy(event, vditor); });\n};\nvar cutEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"cut\", function (event) {\n        copy(event, vditor);\n        // 获取 comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\") {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        document.execCommand(\"delete\");\n    });\n};\nvar scrollCenter = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n        vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n    }\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var cursorTop = (0,selection/* getCursorPosition */.Ny)(editorElement).top;\n    if (typeof vditor.options.height === \"string\" && !vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        window.scrollTo(window.scrollX, cursorTop + vditor.element.offsetTop + vditor.toolbar.element.offsetHeight - window.innerHeight / 2 + 10);\n    }\n    if (typeof vditor.options.height === \"number\" || vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        editorElement.scrollTop = cursorTop + editorElement.scrollTop - editorElement.clientHeight / 2 + 10;\n    }\n};\nvar hotkeyEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"keydown\", function (event) {\n        // hint: 上下选择\n        if ((vditor.options.hint.extend.length > 1 || vditor.toolbar.elements.emoji) &&\n            vditor.hint.select(event, vditor)) {\n            return;\n        }\n        // 重置 comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\" &&\n            (event.key === \"Backspace\" || matchHotKey(\"⌘X\", event))) {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        if (vditor.currentMode === \"sv\") {\n            if (processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\") {\n            if (wysiwyg_processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"ir\") {\n            if (processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        if (vditor.options.ctrlEnter && matchHotKey(\"⌘Enter\", event)) {\n            vditor.options.ctrlEnter(getMarkdown(vditor));\n            event.preventDefault();\n            return;\n        }\n        // undo\n        if (matchHotKey(\"⌘Z\", event) && !vditor.toolbar.elements.undo) {\n            vditor.undo.undo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // redo\n        if (matchHotKey(\"⌘Y\", event) && !vditor.toolbar.elements.redo) {\n            vditor.undo.redo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // esc\n        if (event.key === \"Escape\") {\n            if (vditor.hint.element.style.display === \"block\") {\n                vditor.hint.element.style.display = \"none\";\n            }\n            else if (vditor.options.esc && !event.isComposing) {\n                vditor.options.esc(getMarkdown(vditor));\n            }\n            event.preventDefault();\n            return;\n        }\n        // h1 - h6 hotkey\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[1-6]$/.test(event.code)) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                var tagName = event.code.replace(\"Digit\", \"H\");\n                if ((0,hasClosest/* hasClosestByMatchTag */.lG)(getSelection().getRangeAt(0).startContainer, tagName)) {\n                    removeHeading(vditor);\n                }\n                else {\n                    setHeading(vditor, tagName);\n                }\n                afterRenderEvent(vditor);\n            }\n            else if (vditor.currentMode === \"sv\") {\n                processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            event.preventDefault();\n            return true;\n        }\n        // toggle edit mode\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[7-9]$/.test(event.code)) {\n            if (event.code === \"Digit7\") {\n                setEditMode(vditor, \"wysiwyg\", event);\n            }\n            else if (event.code === \"Digit8\") {\n                setEditMode(vditor, \"ir\", event);\n            }\n            else if (event.code === \"Digit9\") {\n                setEditMode(vditor, \"sv\", event);\n            }\n            return true;\n        }\n        // toolbar action\n        vditor.options.toolbar.find(function (menuItem) {\n            if (!menuItem.hotkey || menuItem.toolbar) {\n                if (menuItem.toolbar) {\n                    var sub = menuItem.toolbar.find(function (subMenuItem) {\n                        if (!subMenuItem.hotkey) {\n                            return false;\n                        }\n                        if (matchHotKey(subMenuItem.hotkey, event)) {\n                            vditor.toolbar.elements[subMenuItem.name].children[0]\n                                .dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                            event.preventDefault();\n                            return true;\n                        }\n                    });\n                    return sub ? true : false;\n                }\n                return false;\n            }\n            if (matchHotKey(menuItem.hotkey, event)) {\n                vditor.toolbar.elements[menuItem.name].children[0].dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                event.preventDefault();\n                return true;\n            }\n        });\n    });\n};\nvar selectEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"selectstart\", function (event) {\n        editorElement.onmouseup = function () {\n            setTimeout(function () {\n                var selectText = getSelectText(vditor[vditor.currentMode].element);\n                if (selectText.trim()) {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        if (!(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"footnotes-block\") &&\n                            !(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"link-ref-defs-block\")) {\n                            vditor.wysiwyg.showComment();\n                        }\n                        else {\n                            vditor.wysiwyg.hideComment();\n                        }\n                    }\n                    if (vditor.options.select) {\n                        vditor.options.select(selectText);\n                    }\n                }\n                else {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        vditor.wysiwyg.hideComment();\n                    }\n                }\n            });\n        };\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/process.ts\n\n\n\n\n\n\n\n\nvar processPaste = function (vditor, text) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    range.extractContents();\n    range.insertNode(document.createTextNode(Lute.Caret));\n    range.insertNode(document.createTextNode(text));\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    var html = \"<div data-block='0'>\" +\n        vditor.lute.Md2VditorSVDOM(blockElement.textContent).replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    if (blockElement.isEqualNode(vditor.sv.element)) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n};\nvar getSideByType = function (spanNode, type, isPrevious) {\n    if (isPrevious === void 0) { isPrevious = true; }\n    var sideElement = spanNode;\n    if (sideElement.nodeType === 3) {\n        sideElement = sideElement.parentElement;\n    }\n    while (sideElement) {\n        if (sideElement.getAttribute(\"data-type\") === type) {\n            return sideElement;\n        }\n        if (isPrevious) {\n            sideElement = sideElement.previousElementSibling;\n        }\n        else {\n            sideElement = sideElement.nextElementSibling;\n        }\n    }\n    return false;\n};\nvar processSpinVditorSVDOM = function (html, vditor) {\n    log(\"SpinVditorSVDOM\", html, \"argument\", vditor.options.debugger);\n    html = \"<div data-block='0'>\" +\n        vditor.lute.SpinVditorSVDOM(html).replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    log(\"SpinVditorSVDOM\", html, \"result\", vditor.options.debugger);\n    return html;\n};\nvar processPreviousMarkers = function (spanElement) {\n    var spanType = spanElement.getAttribute(\"data-type\");\n    var previousElement = spanElement.previousElementSibling;\n    // 有内容的子列表/标题，在其 marker 后换行\n    var markerText = (spanType && spanType !== \"text\" && spanType !== \"table\" && spanType !== \"heading-marker\" &&\n        spanType !== \"newline\" && spanType !== \"yaml-front-matter-open-marker\" && spanType !== \"yaml-front-matter-close-marker\"\n        && spanType !== \"code-block-info\" && spanType !== \"code-block-close-marker\" && spanType !== \"code-block-open-marker\") ?\n        spanElement.textContent : \"\";\n    var hasNL = false;\n    if (spanType === \"newline\") {\n        hasNL = true;\n    }\n    while (previousElement && !hasNL) {\n        var previousType = previousElement.getAttribute(\"data-type\");\n        if (previousType === \"li-marker\" || previousType === \"blockquote-marker\" || previousType === \"task-marker\" ||\n            previousType === \"padding\") {\n            var previousText = previousElement.textContent;\n            if (previousType === \"li-marker\" &&\n                (spanType === \"code-block-open-marker\" || spanType === \"code-block-info\")) {\n                // https://github.com/Vanessa219/vditor/issues/586\n                markerText = previousText.replace(/\\S/g, \" \") + markerText;\n            }\n            else if (spanType === \"code-block-close-marker\" &&\n                previousElement.nextElementSibling.isSameNode(spanElement)) {\n                // https://github.com/Vanessa219/vditor/issues/594\n                var openMarker = getSideByType(spanElement, \"code-block-open-marker\");\n                if (openMarker && openMarker.previousElementSibling) {\n                    previousElement = openMarker.previousElementSibling;\n                    markerText = previousText + markerText;\n                }\n            }\n            else {\n                markerText = previousText + markerText;\n            }\n        }\n        else if (previousType === \"newline\") {\n            hasNL = true;\n        }\n        previousElement = previousElement.previousElementSibling;\n    }\n    return markerText;\n};\nvar processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    vditor.preview.render(vditor);\n    var text = getMarkdown(vditor);\n    if (typeof vditor.options.input === \"function\" && options.enableInput) {\n        vditor.options.input(text);\n    }\n    if (vditor.options.counter.enable) {\n        vditor.counter.render(vditor, text);\n    }\n    if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n        localStorage.setItem(vditor.options.cache.id, text);\n        if (vditor.options.cache.after) {\n            vditor.options.cache.after(text);\n        }\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    clearTimeout(vditor.sv.processTimeoutId);\n    vditor.sv.processTimeoutId = window.setTimeout(function () {\n        if (options.enableAddUndoStack && !vditor.sv.composingLock) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (headingElement && headingElement.textContent.trim() !== \"\") {\n        value = \"\\n\" + value;\n    }\n    range.collapse(true);\n    document.execCommand(\"insertHTML\", false, value);\n};\nvar processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // 添加\n    if (vditor.sv.element.childNodes.length === 0) {\n        vditor.sv.element.innerHTML = \"<span data-type=\\\"p\\\" data-block=\\\"0\\\"><span data-type=\\\"text\\\"><wbr></span></span><span data-type=\\\"newline\\\"><br><span style=\\\"display: none\\\">\\n</span></span>\";\n        (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (!blockElement) {\n        return;\n    }\n    if (commandName === \"link\") {\n        var html = void 0;\n        if (range.toString() === \"\") {\n            html = \"\" + prefix + Lute.Caret + suffix;\n        }\n        else {\n            html = \"\" + prefix + range.toString() + suffix.replace(\")\", Lute.Caret + \")\");\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\" ||\n        commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\" || commandName === \"line\") {\n        var html = void 0;\n        // https://github.com/Vanessa219/vditor/issues/563 代码块不需要后面的 ```\n        if (range.toString() === \"\") {\n            html = \"\" + prefix + Lute.Caret + (commandName === \"code\" ? \"\" : suffix);\n        }\n        else {\n            html = \"\" + prefix + range.toString() + Lute.Caret + (commandName === \"code\" ? \"\" : suffix);\n        }\n        if (commandName === \"table\" || (commandName === \"code\" && spanElement && spanElement.textContent !== \"\")) {\n            html = \"\\n\\n\" + html;\n        }\n        else if (commandName === \"line\") {\n            html = \"\\n\\n\" + prefix + \"\\n\" + Lute.Caret;\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\" ||\n        commandName === \"quote\") {\n        if (spanElement) {\n            var marker = \"* \";\n            if (commandName === \"check\") {\n                marker = \"* [ ] \";\n            }\n            else if (commandName === \"ordered-list\") {\n                marker = \"1. \";\n            }\n            else if (commandName === \"quote\") {\n                marker = \"> \";\n            }\n            var newLine = getSideByType(spanElement, \"newline\");\n            if (newLine) {\n                newLine.insertAdjacentText(\"afterend\", marker);\n            }\n            else {\n                blockElement.insertAdjacentText(\"afterbegin\", marker);\n            }\n            inputEvent(vditor);\n            return;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    processAfterRender(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/getElement.ts\nvar getElement = function (vditor) {\n    switch (vditor.currentMode) {\n        case \"ir\":\n            return vditor.ir.element;\n        case \"wysiwyg\":\n            return vditor.wysiwyg.element;\n        case \"sv\":\n            return vditor.sv.element;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/setHeaders.ts\nvar setHeaders = function (vditor, xhr) {\n    if (vditor.options.upload.setHeaders) {\n        vditor.options.upload.headers = vditor.options.upload.setHeaders();\n    }\n    if (vditor.options.upload.headers) {\n        Object.keys(vditor.options.upload.headers).forEach(function (key) {\n            xhr.setRequestHeader(key, vditor.options.upload.headers[key]);\n        });\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/index.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar Upload = /** @class */ (function () {\n    function Upload() {\n        this.isUploading = false;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-upload\";\n    }\n    return Upload;\n}());\nvar validateFile = function (vditor, files) {\n    vditor.tip.hide();\n    var uploadFileList = [];\n    var errorTip = \"\";\n    var uploadingStr = \"\";\n    var lang = vditor.options.lang;\n    var options = vditor.options;\n    var _loop_1 = function (iMax, i) {\n        var file = files[i];\n        var validate = true;\n        if (!file.name) {\n            errorTip += \"<li>\" + window.VditorI18n.nameEmpty + \"</li>\";\n            validate = false;\n        }\n        if (file.size > vditor.options.upload.max) {\n            errorTip += \"<li>\" + file.name + \" \" + window.VditorI18n.over + \" \" + vditor.options.upload.max / 1024 / 1024 + \"M</li>\";\n            validate = false;\n        }\n        var lastIndex = file.name.lastIndexOf(\".\");\n        var fileExt = file.name.substr(lastIndex);\n        var filename = vditor.options.upload.filename(file.name.substr(0, lastIndex)) + fileExt;\n        if (vditor.options.upload.accept) {\n            var isAccept = vditor.options.upload.accept.split(\",\").some(function (item) {\n                var type = item.trim();\n                if (type.indexOf(\".\") === 0) {\n                    if (fileExt.toLowerCase() === type.toLowerCase()) {\n                        return true;\n                    }\n                }\n                else {\n                    if (file.type.split(\"/\")[0] === type.split(\"/\")[0]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n            if (!isAccept) {\n                errorTip += \"<li>\" + file.name + \" \" + window.VditorI18n.fileTypeError + \"</li>\";\n                validate = false;\n            }\n        }\n        if (validate) {\n            uploadFileList.push(file);\n            uploadingStr += \"<li>\" + filename + \" \" + window.VditorI18n.uploading + \"</li>\";\n        }\n    };\n    for (var iMax = files.length, i = 0; i < iMax; i++) {\n        _loop_1(iMax, i);\n    }\n    vditor.tip.show(\"<ul>\" + errorTip + uploadingStr + \"</ul>\");\n    return uploadFileList;\n};\nvar genUploadedLabel = function (responseText, vditor) {\n    var editorElement = getElement(vditor);\n    editorElement.focus();\n    var response = JSON.parse(responseText);\n    var errorTip = \"\";\n    if (response.code === 1) {\n        errorTip = \"\" + response.msg;\n    }\n    if (response.data.errFiles && response.data.errFiles.length > 0) {\n        errorTip = \"<ul><li>\" + errorTip + \"</li>\";\n        response.data.errFiles.forEach(function (data) {\n            var lastIndex = data.lastIndexOf(\".\");\n            var filename = vditor.options.upload.filename(data.substr(0, lastIndex)) + data.substr(lastIndex);\n            errorTip += \"<li>\" + filename + \" \" + window.VditorI18n.uploadError + \"</li>\";\n        });\n        errorTip += \"</ul>\";\n    }\n    if (errorTip) {\n        vditor.tip.show(errorTip);\n    }\n    else {\n        vditor.tip.hide();\n    }\n    var succFileText = \"\";\n    Object.keys(response.data.succMap).forEach(function (key) {\n        var path = response.data.succMap[key];\n        var lastIndex = key.lastIndexOf(\".\");\n        var type = key.substr(lastIndex);\n        var filename = vditor.options.upload.filename(key.substr(0, lastIndex)) + type;\n        type = type.toLowerCase();\n        if (type.indexOf(\".wav\") === 0 || type.indexOf(\".mp3\") === 0 || type.indexOf(\".ogg\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<div class=\\\"vditor-wysiwyg__block\\\" data-type=\\\"html-block\\\"\\n data-block=\\\"0\\\"><pre><code>&lt;audio controls=\\\"controls\\\" src=\\\"\" + path + \"\\\"&gt;&lt;/audio&gt;</code></pre>\";\n            }\n            else if (vditor.currentMode === \"ir\") {\n                succFileText += \"<audio controls=\\\"controls\\\" src=\\\"\" + path + \"\\\"></audio>\\n\";\n            }\n            else {\n                succFileText += \"[\" + filename + \"](\" + path + \")\\n\";\n            }\n        }\n        else if (type.indexOf(\".apng\") === 0\n            || type.indexOf(\".bmp\") === 0\n            || type.indexOf(\".gif\") === 0\n            || type.indexOf(\".ico\") === 0 || type.indexOf(\".cur\") === 0\n            || type.indexOf(\".jpg\") === 0 || type.indexOf(\".jpeg\") === 0 || type.indexOf(\".jfif\") === 0 || type.indexOf(\".pjp\") === 0 || type.indexOf(\".pjpeg\") === 0\n            || type.indexOf(\".png\") === 0\n            || type.indexOf(\".svg\") === 0\n            || type.indexOf(\".webp\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<img alt=\\\"\" + filename + \"\\\" src=\\\"\" + path + \"\\\">\";\n            }\n            else {\n                succFileText += \"![\" + filename + \"](\" + path + \")\\n\";\n            }\n        }\n        else {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<a href=\\\"\" + path + \"\\\">\" + filename + \"</a>\";\n            }\n            else {\n                succFileText += \"[\" + filename + \"](\" + path + \")\\n\";\n            }\n        }\n    });\n    (0,selection/* setSelectionFocus */.Hc)(vditor.upload.range);\n    document.execCommand(\"insertHTML\", false, succFileText);\n    vditor.upload.range = getSelection().getRangeAt(0).cloneRange();\n};\nvar uploadFiles = function (vditor, files, element) { return __awaiter(void 0, void 0, void 0, function () {\n    var fileList, filesMax, i, fileItem, isValidate, isValidate, editorElement, validateResult, formData, extraData, _i, _a, key, i, iMax, xhr;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                fileList = [];\n                filesMax = vditor.options.upload.multiple === true ? files.length : 1;\n                for (i = 0; i < filesMax; i++) {\n                    fileItem = files[i];\n                    if (fileItem instanceof DataTransferItem) {\n                        fileItem = fileItem.getAsFile();\n                    }\n                    fileList.push(fileItem);\n                }\n                if (vditor.options.upload.handler) {\n                    isValidate = vditor.options.upload.handler(fileList);\n                    if (typeof isValidate === \"string\") {\n                        vditor.tip.show(isValidate);\n                        return [2 /*return*/];\n                    }\n                    return [2 /*return*/];\n                }\n                if (!vditor.options.upload.url || !vditor.upload) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    vditor.tip.show(\"please config: options.upload.url\");\n                    return [2 /*return*/];\n                }\n                if (!vditor.options.upload.file) return [3 /*break*/, 2];\n                return [4 /*yield*/, vditor.options.upload.file(fileList)];\n            case 1:\n                fileList = _b.sent();\n                _b.label = 2;\n            case 2:\n                if (vditor.options.upload.validate) {\n                    isValidate = vditor.options.upload.validate(fileList);\n                    if (typeof isValidate === \"string\") {\n                        vditor.tip.show(isValidate);\n                        return [2 /*return*/];\n                    }\n                }\n                editorElement = getElement(vditor);\n                vditor.upload.range = (0,selection/* getEditorRange */.zh)(vditor);\n                validateResult = validateFile(vditor, fileList);\n                if (validateResult.length === 0) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    return [2 /*return*/];\n                }\n                formData = new FormData();\n                extraData = vditor.options.upload.extraData;\n                for (_i = 0, _a = Object.keys(extraData); _i < _a.length; _i++) {\n                    key = _a[_i];\n                    formData.append(key, extraData[key]);\n                }\n                for (i = 0, iMax = validateResult.length; i < iMax; i++) {\n                    formData.append(vditor.options.upload.fieldName, validateResult[i]);\n                }\n                xhr = new XMLHttpRequest();\n                xhr.open(\"POST\", vditor.options.upload.url);\n                if (vditor.options.upload.token) {\n                    xhr.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                }\n                if (vditor.options.upload.withCredentials) {\n                    xhr.withCredentials = true;\n                }\n                setHeaders(vditor, xhr);\n                vditor.upload.isUploading = true;\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === XMLHttpRequest.DONE) {\n                        vditor.upload.isUploading = false;\n                        editorElement.setAttribute(\"contenteditable\", \"true\");\n                        if (xhr.status >= 200 && xhr.status < 300) {\n                            if (vditor.options.upload.success) {\n                                vditor.options.upload.success(editorElement, xhr.responseText);\n                            }\n                            else {\n                                var responseText = xhr.responseText;\n                                if (vditor.options.upload.format) {\n                                    responseText = vditor.options.upload.format(files, xhr.responseText);\n                                }\n                                genUploadedLabel(responseText, vditor);\n                            }\n                        }\n                        else {\n                            if (vditor.options.upload.error) {\n                                vditor.options.upload.error(xhr.responseText);\n                            }\n                            else {\n                                vditor.tip.show(xhr.responseText);\n                            }\n                        }\n                        if (element) {\n                            element.value = \"\";\n                        }\n                        vditor.upload.element.style.display = \"none\";\n                    }\n                };\n                xhr.upload.onprogress = function (event) {\n                    if (!event.lengthComputable) {\n                        return;\n                    }\n                    var progress = event.loaded / event.total * 100;\n                    vditor.upload.element.style.display = \"block\";\n                    var progressBar = vditor.upload.element;\n                    progressBar.style.width = progress + \"%\";\n                };\n                xhr.send(formData);\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/input.ts\n\n\n\n\n\n\n\n\nvar input_input = function (vditor, range, event) {\n    var _a;\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        // 使用顶级块元素，应使用 innerHTML\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (event && event.inputType !== \"formatItalic\"\n        && event.inputType !== \"deleteByDrag\"\n        && event.inputType !== \"insertFromDrop\"\n        && event.inputType !== \"formatBold\"\n        && event.inputType !== \"formatRemove\"\n        && event.inputType !== \"formatStrikeThrough\"\n        && event.inputType !== \"insertUnorderedList\"\n        && event.inputType !== \"insertOrderedList\"\n        && event.inputType !== \"formatOutdent\"\n        && event.inputType !== \"formatIndent\"\n        && event.inputType !== \"\" // document.execCommand('unlink', false)\n        || !event) {\n        var previousAEmptyElement = previoueIsEmptyA(range.startContainer);\n        if (previousAEmptyElement) {\n            // 链接结尾回车不应该复制到下一行 https://github.com/Vanessa219/vditor/issues/163\n            previousAEmptyElement.remove();\n        }\n        // 保存光标\n        vditor.wysiwyg.element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        // 在行首进行删除，后面的元素会带有样式，需清除\n        blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n            item.removeAttribute(\"style\");\n        });\n        // 移除空评论\n        blockElement.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        //  在有评论的行首换行后，该行的前一段会带有评论标识\n        (_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        var html_1 = \"\";\n        if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n            // 修改链接引用\n            blockElement = vditor.wysiwyg.element;\n        }\n        var isWYSIWYGElement = blockElement.isEqualNode(vditor.wysiwyg.element);\n        var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n        if (!isWYSIWYGElement) {\n            // 列表需要到最顶层\n            var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n            if (topListElement && !footnoteElement) {\n                var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n                if (blockquoteElement) {\n                    // li 中有 blockquote 就只渲染 blockquote\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || blockElement;\n                }\n                else {\n                    blockElement = topListElement;\n                }\n            }\n            // 修改脚注\n            if (footnoteElement) {\n                blockElement = footnoteElement;\n            }\n            html_1 = blockElement.outerHTML;\n            if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n                // 如果为列表的话，需要把上下的列表都重绘\n                var listPrevElement = blockElement.previousElementSibling;\n                var listNextElement = blockElement.nextElementSibling;\n                if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                    html_1 = listPrevElement.outerHTML + html_1;\n                    listPrevElement.remove();\n                }\n                if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                    html_1 = html_1 + listNextElement.outerHTML;\n                    listNextElement.remove();\n                }\n                // firefox 列表回车不会产生新的 list item https://github.com/Vanessa219/vditor/issues/194\n                html_1 = html_1.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n            }\n            // 添加链接引用\n            vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html_1 += item.outerHTML;\n                    item.remove();\n                }\n            });\n            // 添加脚注\n            vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html_1 += item.outerHTML;\n                    item.remove();\n                }\n            });\n        }\n        else {\n            html_1 = blockElement.innerHTML;\n        }\n        // 合并多个 em， strong，s。以防止多个相同元素在一起时不满足 commonmark 规范，出现标记符\n        html_1 = html_1.replace(/<\\/(strong|b)><strong data-marker=\"\\W{2}\">/g, \"\")\n            .replace(/<\\/(em|i)><em data-marker=\"\\W{1}\">/g, \"\")\n            .replace(/<\\/(s|strike)><s data-marker=\"~{1,2}\">/g, \"\");\n        if (html_1 === '<p data-block=\"0\">```<wbr></p>' && vditor.hint.recentLanguage) {\n            html_1 = '<p data-block=\"0\">```<wbr></p>'.replace(\"```\", \"```\" + vditor.hint.recentLanguage);\n        }\n        log(\"SpinVditorDOM\", html_1, \"argument\", vditor.options.debugger);\n        html_1 = vditor.lute.SpinVditorDOM(html_1);\n        log(\"SpinVditorDOM\", html_1, \"result\", vditor.options.debugger);\n        if (isWYSIWYGElement) {\n            blockElement.innerHTML = html_1;\n        }\n        else {\n            blockElement.outerHTML = html_1;\n            if (footnoteElement) {\n                // 更新正文中的 tip\n                var footnoteItemElement = (0,hasClosest/* hasTopClosestByTag */.E2)(vditor.wysiwyg.element.querySelector(\"wbr\"), \"LI\");\n                if (footnoteItemElement) {\n                    var footnoteRefElement = vditor.wysiwyg.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\" + footnoteItemElement.getAttribute(\"data-marker\") + \"\\\"]\");\n                    if (footnoteRefElement) {\n                        footnoteRefElement.setAttribute(\"aria-label\", footnoteItemElement.textContent.trim().substr(0, 24));\n                    }\n                }\n            }\n        }\n        var firstLinkRefDefElement_1;\n        var allLinkRefDefsElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n        allLinkRefDefsElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstLinkRefDefElement_1 = item;\n            }\n            else {\n                firstLinkRefDefElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allLinkRefDefsElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n        }\n        // 脚注合并后添加的末尾\n        var firstFootnoteElement_1;\n        var allFootnoteElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\");\n        allFootnoteElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstFootnoteElement_1 = item;\n            }\n            else {\n                firstFootnoteElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allFootnoteElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n        }\n        // 设置光标\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\")\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (event && (event.inputType === \"deleteContentBackward\" || event.inputType === \"deleteContentForward\") &&\n            vditor.options.comment.enable) {\n            vditor.wysiwyg.triggerRemoveComment(vditor);\n            vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n        }\n    }\n    renderToc(vditor);\n    afterRenderEvent(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/fixBrowserBehavior.ts\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar fixBrowserBehavior_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar fixBrowserBehavior_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// https://github.com/Vanessa219/vditor/issues/508 软键盘无法删除空块\nvar fixGSKeyBackspace = function (event, vditor, startContainer) {\n    if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\" && vditor.currentMode !== \"sv\") {\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        // 移动端的标点符号都显示为 299，因此需限定为空删除的条件\n        if (blockElement && blockElement.textContent.trim() === \"\") {\n            vditor[vditor.currentMode].composingLock = true;\n            return false;\n        }\n    }\n    return true;\n};\n// https://github.com/Vanessa219/vditor/issues/361 代码块后输入中文\nvar fixCJKPosition = function (range, vditor, event) {\n    if (event.key === \"Enter\" || event.key === \"Tab\" || event.key === \"Backspace\" || event.key.indexOf(\"Arrow\") > -1\n        || (0,compatibility/* isCtrl */.yl)(event) || event.key === \"Escape\" || event.shiftKey || event.altKey) {\n        return;\n    }\n    var pLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"P\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    if (pLiElement && (0,selection/* getSelectPosition */.im)(pLiElement, vditor[vditor.currentMode].element, range).start === 0) {\n        var zwspNode = document.createTextNode(constants/* Constants.ZWSP */.g.ZWSP);\n        range.insertNode(zwspNode);\n        range.setStartAfter(zwspNode);\n    }\n};\n// https://github.com/Vanessa219/vditor/issues/381 光标在内联数学公式中无法向下移动\nvar fixCursorDownInlineMath = function (range, key) {\n    if (key === \"ArrowDown\" || key === \"ArrowUp\") {\n        var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"math-inline\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-entity\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-inline\");\n        if (inlineElement) {\n            if (key === \"ArrowDown\") {\n                range.setStartAfter(inlineElement.parentElement);\n            }\n            if (key === \"ArrowUp\") {\n                range.setStartBefore(inlineElement.parentElement);\n            }\n        }\n    }\n};\nvar insertEmptyBlock = function (vditor, position) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (blockElement) {\n        blockElement.insertAdjacentHTML(position, \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr>\\n</p>\");\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        highlightToolbar(vditor);\n        execAfterRender(vditor);\n    }\n};\nvar isFirstCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.rows[0].cells[0].isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\nvar isLastCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.lastElementChild.lastElementChild.lastElementChild.isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\n// 光标设置到前一个表格中\nvar goPreviousCell = function (cellElement, range, isSelected) {\n    if (isSelected === void 0) { isSelected = true; }\n    var previousElement = cellElement.previousElementSibling;\n    if (!previousElement) {\n        if (cellElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement.previousElementSibling.lastElementChild;\n        }\n        else if (cellElement.parentElement.parentElement.tagName === \"TBODY\" &&\n            cellElement.parentElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement\n                .parentElement.previousElementSibling.lastElementChild.lastElementChild;\n        }\n        else {\n            previousElement = null;\n        }\n    }\n    if (previousElement) {\n        range.selectNodeContents(previousElement);\n        if (!isSelected) {\n            range.collapse(false);\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    return previousElement;\n};\nvar insertAfterBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowDown\" && element.textContent.trimRight().substr(position.start).indexOf(\"\\n\") === -1) ||\n        (event.key === \"ArrowRight\" && position.start >= element.textContent.trimRight().length)) {\n        var nextElement = blockElement.nextElementSibling;\n        if (!nextElement ||\n            (nextElement && (nextElement.tagName === \"TABLE\" || nextElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(nextElement);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar insertBeforeBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowUp\" && element.textContent.substr(0, position.start).indexOf(\"\\n\") === -1) ||\n        ((event.key === \"ArrowLeft\" || (event.key === \"Backspace\" && range.toString() === \"\")) &&\n            position.start === 0)) {\n        var previousElement = blockElement.previousElementSibling;\n        // table || code\n        if (!previousElement ||\n            (previousElement && (previousElement.tagName === \"TABLE\" || previousElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar listToggle = function (vditor, range, type, cancel) {\n    if (cancel === void 0) { cancel = true; }\n    var itemElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n        wbr.remove();\n    });\n    range.insertNode(document.createElement(\"wbr\"));\n    if (cancel && itemElement) {\n        // 取消\n        var pHTML = \"\";\n        for (var i = 0; i < itemElement.parentElement.childElementCount; i++) {\n            var inputElement = itemElement.parentElement.children[i].querySelector(\"input\");\n            if (inputElement) {\n                inputElement.remove();\n            }\n            pHTML += \"<p data-block=\\\"0\\\">\" + itemElement.parentElement.children[i].innerHTML.trimLeft() + \"</p>\";\n        }\n        itemElement.parentElement.insertAdjacentHTML(\"beforebegin\", pHTML);\n        itemElement.parentElement.remove();\n    }\n    else {\n        if (!itemElement) {\n            // 添加\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n            if (!blockElement) {\n                vditor[vditor.currentMode].element.querySelector(\"wbr\").remove();\n                blockElement = vditor[vditor.currentMode].element.querySelector(\"p\");\n                blockElement.innerHTML = \"<wbr>\";\n            }\n            if (type === \"check\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li class=\\\"vditor-task\\\"><input type=\\\"checkbox\\\" /> \" + blockElement.innerHTML + \"</li></ul>\");\n                blockElement.remove();\n            }\n            else if (type === \"list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li>\" + blockElement.innerHTML + \"</li></ul>\");\n                blockElement.remove();\n            }\n            else if (type === \"ordered-list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ol data-block=\\\"0\\\"><li>\" + blockElement.innerHTML + \"</li></ol>\");\n                blockElement.remove();\n            }\n        }\n        else {\n            // 切换\n            if (type === \"check\") {\n                itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                    item.insertAdjacentHTML(\"afterbegin\", \"<input type=\\\"checkbox\\\" />\" + (item.textContent.indexOf(\" \") === 0 ? \"\" : \" \"));\n                    item.classList.add(\"vditor-task\");\n                });\n            }\n            else {\n                if (itemElement.querySelector(\"input\")) {\n                    itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                        item.querySelector(\"input\").remove();\n                        item.classList.remove(\"vditor-task\");\n                    });\n                }\n                var element = void 0;\n                if (type === \"list\") {\n                    element = document.createElement(\"ul\");\n                }\n                else {\n                    element = document.createElement(\"ol\");\n                }\n                element.innerHTML = itemElement.parentElement.innerHTML;\n                itemElement.parentElement.parentNode.replaceChild(element, itemElement.parentElement);\n            }\n        }\n    }\n};\nvar listIndent = function (vditor, liElement, range) {\n    var previousElement = liElement.previousElementSibling;\n    if (liElement && previousElement) {\n        var liElements_1 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\"\n                && liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_1.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = previousElement.parentElement;\n        var liHTML_1 = \"\";\n        liElements_1.forEach(function (item) {\n            var marker = item.getAttribute(\"data-marker\");\n            if (marker.length !== 1) {\n                marker = \"1\" + marker.slice(-1);\n            }\n            liHTML_1 += \"<li data-node-id=\\\"\" + item.getAttribute(\"data-node-id\") + \"\\\" data-marker=\\\"\" + marker + \"\\\">\" + item.innerHTML + \"</li>\";\n            item.remove();\n        });\n        previousElement.insertAdjacentHTML(\"beforeend\", \"<\" + liParentElement.tagName + \" data-block=\\\"0\\\">\" + liHTML_1 + \"</\" + liParentElement.tagName + \">\");\n        if (vditor.currentMode === \"wysiwyg\") {\n            liParentElement.outerHTML = vditor.lute.SpinVditorDOM(liParentElement.outerHTML);\n        }\n        else {\n            liParentElement.outerHTML = vditor.lute.SpinVditorIRDOM(liParentElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar listOutdent = function (vditor, liElement, range, topListElement) {\n    var liParentLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(liElement.parentElement, \"LI\");\n    if (liParentLiElement) {\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = liElement.parentElement;\n        var liParentAfterElement = liParentElement.cloneNode();\n        var liElements_2 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\" &&\n                liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_2.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        var isMatch_1 = false;\n        var afterHTML_1 = \"\";\n        liParentElement.querySelectorAll(\"li\").forEach(function (item) {\n            if (isMatch_1) {\n                afterHTML_1 += item.outerHTML;\n                if (!item.nextElementSibling && !item.previousElementSibling) {\n                    item.parentElement.remove();\n                }\n                else {\n                    item.remove();\n                }\n            }\n            if (item.isSameNode(liElements_2[liElements_2.length - 1])) {\n                isMatch_1 = true;\n            }\n        });\n        liElements_2.reverse().forEach(function (item) {\n            liParentLiElement.insertAdjacentElement(\"afterend\", item);\n        });\n        if (afterHTML_1) {\n            liParentAfterElement.innerHTML = afterHTML_1;\n            liElements_2[0].insertAdjacentElement(\"beforeend\", liParentAfterElement);\n        }\n        if (vditor.currentMode === \"wysiwyg\") {\n            topListElement.outerHTML = vditor.lute.SpinVditorDOM(topListElement.outerHTML);\n        }\n        else {\n            topListElement.outerHTML = vditor.lute.SpinVditorIRDOM(topListElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar setTableAlign = function (tableElement, type) {\n    var cell = getSelection().getRangeAt(0).startContainer.parentElement;\n    var columnCnt = tableElement.rows[0].cells.length;\n    var rowCnt = tableElement.rows.length;\n    var currentColumn = 0;\n    for (var i = 0; i < rowCnt; i++) {\n        for (var j = 0; j < columnCnt; j++) {\n            if (tableElement.rows[i].cells[j].isSameNode(cell)) {\n                currentColumn = j;\n                break;\n            }\n        }\n    }\n    for (var k = 0; k < rowCnt; k++) {\n        tableElement.rows[k].cells[currentColumn].setAttribute(\"align\", type);\n    }\n};\nvar isHrMD = function (text) {\n    // - _ *\n    var marker = text.trimRight().split(\"\\n\").pop();\n    if (marker === \"\") {\n        return false;\n    }\n    if (marker.replace(/ |-/g, \"\") === \"\"\n        || marker.replace(/ |_/g, \"\") === \"\"\n        || marker.replace(/ |\\*/g, \"\") === \"\") {\n        if (marker.replace(/ /g, \"\").length > 2) {\n            if (marker.indexOf(\"-\") > -1 && marker.trimLeft().indexOf(\" \") === -1\n                && text.trimRight().split(\"\\n\").length > 1) {\n                // 满足 heading\n                return false;\n            }\n            if (marker.indexOf(\"    \") === 0 || marker.indexOf(\"\\t\") === 0) {\n                // 代码块\n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n    return false;\n};\nvar isHeadingMD = function (text) {\n    // - =\n    var textArray = text.trimRight().split(\"\\n\");\n    text = textArray.pop();\n    if (text.indexOf(\"    \") === 0 || text.indexOf(\"\\t\") === 0) {\n        return false;\n    }\n    text = text.trimLeft();\n    if (text === \"\" || textArray.length === 0) {\n        return false;\n    }\n    if (text.replace(/-/g, \"\") === \"\"\n        || text.replace(/=/g, \"\") === \"\") {\n        return true;\n    }\n    return false;\n};\nvar execAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (vditor.currentMode === \"wysiwyg\") {\n        afterRenderEvent(vditor, options);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        process_processAfterRender(vditor, options);\n    }\n    else if (vditor.currentMode === \"sv\") {\n        processAfterRender(vditor, options);\n    }\n};\nvar fixList = function (range, vditor, pElement, event) {\n    var _a;\n    var startContainer = range.startContainer;\n    var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"LI\");\n    if (liElement) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\" &&\n            // fix li 中有多个 P 时，在第一个 P 中换行会在下方生成新的 li\n            (!event.shiftKey && pElement && liElement.contains(pElement) && pElement.nextElementSibling)) {\n            if (liElement && !liElement.textContent.endsWith(\"\\n\")) {\n                // li 结尾需 \\n\n                liElement.insertAdjacentText(\"beforeend\", \"\\n\");\n            }\n            range.insertNode(document.createTextNode(\"\\n\\n\"));\n            range.collapse(false);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            !liElement.previousElementSibling && range.toString() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(liElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // 光标位于点和第一个字符中间时，无法删除 li 元素\n            if (liElement.nextElementSibling) {\n                liElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\" + liElement.innerHTML + \"</p>\");\n                liElement.remove();\n            }\n            else {\n                liElement.parentElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\" + liElement.innerHTML + \"</p>\";\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // 空列表删除后与上一级段落对齐\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            liElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" &&\n            range.toString() === \"\" && ((_a = liElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"LI\") {\n            liElement.previousElementSibling.insertAdjacentText(\"beforeend\", \"\\n\\n\");\n            range.selectNodeContents(liElement.previousElementSibling);\n            range.collapse(false);\n            liElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Tab\") {\n            // 光标位于第一/零字符时，tab 用于列表的缩进\n            var isFirst = false;\n            if (range.startOffset === 0\n                && ((startContainer.nodeType === 3 && !startContainer.previousSibling)\n                    || (startContainer.nodeType !== 3 && startContainer.nodeName === \"LI\"))) {\n                // 有序/无序列表\n                isFirst = true;\n            }\n            else if (liElement.classList.contains(\"vditor-task\") && range.startOffset === 1\n                && startContainer.previousSibling.nodeType !== 3\n                && startContainer.previousSibling.tagName === \"INPUT\") {\n                // 任务列表\n                isFirst = true;\n            }\n            if (isFirst || range.toString() !== \"\") {\n                if (event.shiftKey) {\n                    listOutdent(vditor, liElement, range, liElement.parentElement);\n                }\n                else {\n                    listIndent(vditor, liElement, range);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    return false;\n};\n// tab 处理: block code render, table, 列表第一个字符中的 tab 处理单独写在上面\nvar fixTab = function (vditor, range, event) {\n    if (vditor.options.tab && event.key === \"Tab\") {\n        if (event.shiftKey) {\n            // TODO shift+tab\n        }\n        else {\n            if (range.toString() === \"\") {\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n            else {\n                range.extractContents();\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n};\nvar fixMarkdown = function (event, vditor, pElement, range) {\n    if (!pElement) {\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        var pText = String.raw(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\", \"\"], [\"\", \"\"])), pElement.textContent).replace(/\\\\\\|/g, \"\").trim();\n        var pTextList = pText.split(\"|\");\n        if (pText.startsWith(\"|\") && pText.endsWith(\"|\") && pTextList.length > 3) {\n            // table 自动完成\n            var tableHeaderMD = pTextList.map(function () { return \"---\"; }).join(\"|\");\n            tableHeaderMD =\n                pElement.textContent + \"\\n\" + tableHeaderMD.substring(3, tableHeaderMD.length - 3) + \"\\n|<wbr>\";\n            pElement.outerHTML = vditor.lute.SpinVditorDOM(tableHeaderMD);\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // hr 渲染\n        if (isHrMD(pElement.innerHTML) && pElement.previousElementSibling) {\n            // 软换行后 hr 前有内容\n            var pInnerHTML = \"\";\n            var innerHTMLList = pElement.innerHTML.trimRight().split(\"\\n\");\n            if (innerHTMLList.length > 1) {\n                innerHTMLList.pop();\n                pInnerHTML = \"<p data-block=\\\"0\\\">\" + innerHTMLList.join(\"\\n\") + \"</p>\";\n            }\n            pElement.insertAdjacentHTML(\"afterend\", pInnerHTML + \"<hr data-block=\\\"0\\\"><p data-block=\\\"0\\\"><wbr>\\n</p>\");\n            pElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (isHeadingMD(pElement.innerHTML)) {\n            // heading 渲染\n            if (vditor.currentMode === \"wysiwyg\") {\n                pElement.outerHTML = vditor.lute.SpinVditorDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            else {\n                pElement.outerHTML = vditor.lute.SpinVditorIRDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 软换行会被切割 https://github.com/Vanessa219/vditor/issues/220\n    if (range.collapsed && pElement.previousElementSibling && event.key === \"Backspace\" &&\n        !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n        pElement.textContent.trimRight().split(\"\\n\").length > 1 &&\n        (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0) {\n        var lastElement = (0,hasClosest/* getLastNode */.DX)(pElement.previousElementSibling);\n        if (!lastElement.textContent.endsWith(\"\\n\")) {\n            lastElement.textContent = lastElement.textContent + \"\\n\";\n        }\n        lastElement.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\" + pElement.innerHTML);\n        pElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        return false;\n    }\n    return false;\n};\nvar insertRow = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        rowHTML += \"<td align=\\\"\" + cellElement.parentElement.children[m].getAttribute(\"align\") + \"\\\"> </td>\";\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tbody><tr>\" + rowHTML + \"</tr></tbody>\");\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tr>\" + rowHTML + \"</tr>\");\n    }\n    execAfterRender(vditor);\n};\nvar insertRowAbove = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        if (cellElement.tagName === \"TH\") {\n            rowHTML += \"<th align=\\\"\" + cellElement.parentElement.children[m].getAttribute(\"align\") + \"\\\"> </th>\";\n        }\n        else {\n            rowHTML += \"<td align=\\\"\" + cellElement.parentElement.children[m].getAttribute(\"align\") + \"\\\"> </td>\";\n        }\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<thead><tr>\" + rowHTML + \"</tr></thead>\");\n        range.insertNode(document.createElement(\"wbr\"));\n        var theadHTML = cellElement.parentElement.innerHTML.replace(/<th>/g, \"<td>\").replace(/<\\/th>/g, \"</td>\");\n        cellElement.parentElement.parentElement.nextElementSibling.insertAdjacentHTML(\"afterbegin\", theadHTML);\n        cellElement.parentElement.parentElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<tr>\" + rowHTML + \"</tr>\");\n    }\n    execAfterRender(vditor);\n};\nvar insertColumn = function (vditor, tableElement, cellElement, type) {\n    if (type === void 0) { type = \"afterend\"; }\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        if (i === 0) {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<th> </th>\");\n        }\n        else {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<td> </td>\");\n        }\n    }\n    execAfterRender(vditor);\n};\nvar deleteRow = function (vditor, range, cellElement) {\n    if (cellElement.tagName === \"TD\") {\n        var tbodyElement = cellElement.parentElement.parentElement;\n        if (cellElement.parentElement.previousElementSibling) {\n            range.selectNodeContents(cellElement.parentElement.previousElementSibling.lastElementChild);\n        }\n        else {\n            range.selectNodeContents(tbodyElement.previousElementSibling.lastElementChild.lastElementChild);\n        }\n        if (tbodyElement.childElementCount === 1) {\n            tbodyElement.remove();\n        }\n        else {\n            cellElement.parentElement.remove();\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n    }\n};\nvar deleteColumn = function (vditor, range, tableElement, cellElement) {\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    if (cellElement.previousElementSibling || cellElement.nextElementSibling) {\n        range.selectNodeContents(cellElement.previousElementSibling || cellElement.nextElementSibling);\n        range.collapse(true);\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        var cells = tableElement.rows[i].cells;\n        if (cells.length === 1) {\n            tableElement.remove();\n            highlightToolbar(vditor);\n            break;\n        }\n        cells[index].remove();\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    execAfterRender(vditor);\n};\nvar fixTable = function (vditor, event, range) {\n    var startContainer = range.startContainer;\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (cellElement) {\n        // 换行或软换行：在 cell 中添加 br\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n            if (!cellElement.lastElementChild ||\n                (cellElement.lastElementChild && (!cellElement.lastElementChild.isSameNode(cellElement.lastChild) ||\n                    cellElement.lastElementChild.tagName !== \"BR\"))) {\n                cellElement.insertAdjacentHTML(\"beforeend\", \"<br>\");\n            }\n            var brElement = document.createElement(\"br\");\n            range.insertNode(brElement);\n            range.setStartAfter(brElement);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // tab：光标移向下一个 cell\n        if (event.key === \"Tab\") {\n            if (event.shiftKey) {\n                // shift + tab 光标移动到前一个 cell\n                goPreviousCell(cellElement, range);\n                event.preventDefault();\n                return true;\n            }\n            var nextElement = cellElement.nextElementSibling;\n            if (!nextElement) {\n                if (cellElement.parentElement.nextElementSibling) {\n                    nextElement = cellElement.parentElement.nextElementSibling.firstElementChild;\n                }\n                else if (cellElement.parentElement.parentElement.tagName === \"THEAD\" &&\n                    cellElement.parentElement.parentElement.nextElementSibling) {\n                    nextElement =\n                        cellElement.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild;\n                }\n                else {\n                    nextElement = null;\n                }\n            }\n            if (nextElement) {\n                range.selectNodeContents(nextElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            event.preventDefault();\n            return true;\n        }\n        var tableElement = cellElement.parentElement.parentElement.parentElement;\n        if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            if (cellElement.tagName === \"TH\") {\n                if (tableElement.previousElementSibling) {\n                    range.selectNodeContents(tableElement.previousElementSibling);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"beforebegin\");\n                }\n                return true;\n            }\n            var m = 0;\n            var trElement = cellElement.parentElement;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var previousElement = trElement.previousElementSibling;\n            if (!previousElement) {\n                previousElement = trElement.parentElement.previousElementSibling.firstChild;\n            }\n            range.selectNodeContents(previousElement.cells[m]);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            var trElement = cellElement.parentElement;\n            if (!trElement.nextElementSibling && cellElement.tagName === \"TD\") {\n                if (tableElement.nextElementSibling) {\n                    range.selectNodeContents(tableElement.nextElementSibling);\n                    range.collapse(true);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"afterend\");\n                }\n                return true;\n            }\n            var m = 0;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var nextElement = trElement.nextElementSibling;\n            if (!nextElement) {\n                nextElement = trElement.parentElement.nextElementSibling.firstChild;\n            }\n            range.selectNodeContents(nextElement.cells[m]);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        // focus row input, only wysiwyg\n        if (vditor.currentMode === \"wysiwyg\" &&\n            !(0,compatibility/* isCtrl */.yl)(event) && event.key === \"Enter\" && !event.shiftKey && event.altKey) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElement.focus();\n            inputElement.select();\n            event.preventDefault();\n            return true;\n        }\n        // Backspace：光标移动到前一个 cell\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\"\n            && range.startOffset === 0 && range.toString() === \"\") {\n            var previousCellElement = goPreviousCell(cellElement, range, false);\n            if (!previousCellElement && tableElement) {\n                if (tableElement.textContent.trim() === \"\") {\n                    tableElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\\n</p>\";\n                    (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                }\n                else {\n                    range.setStartBefore(tableElement);\n                    range.collapse(true);\n                }\n                execAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // 上方新添加一行\n        if (matchHotKey(\"⇧⌘F\", event)) {\n            insertRowAbove(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 下方新添加一行 https://github.com/Vanessa219/vditor/issues/46\n        if (matchHotKey(\"⌘=\", event)) {\n            insertRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 左方新添加一列\n        if (matchHotKey(\"⇧⌘G\", event)) {\n            insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n            event.preventDefault();\n            return true;\n        }\n        // 后方新添加一列\n        if (matchHotKey(\"⇧⌘=\", event)) {\n            insertColumn(vditor, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 删除当前行\n        if (matchHotKey(\"⌘-\", event)) {\n            deleteRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 删除当前列\n        if (matchHotKey(\"⇧⌘-\", event)) {\n            deleteColumn(vditor, range, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 剧左\n        if (matchHotKey(\"⇧⌘L\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"left\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"left\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // 剧中\n        if (matchHotKey(\"⇧⌘C\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"center\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"center\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // 剧右\n        if (matchHotKey(\"⇧⌘R\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"right\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"right\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n};\nvar fixCodeBlock = function (vditor, event, codeRenderElement, range) {\n    // 行级代码块中 command + a，近对当前代码块进行全选\n    if (codeRenderElement.tagName === \"PRE\" && matchHotKey(\"⌘A\", event)) {\n        range.selectNodeContents(codeRenderElement.firstElementChild);\n        event.preventDefault();\n        return true;\n    }\n    // tab\n    // TODO shift + tab, shift and 选中文字\n    if (vditor.options.tab && event.key === \"Tab\" && !event.shiftKey && range.toString() === \"\") {\n        range.insertNode(document.createTextNode(vditor.options.tab));\n        range.collapse(false);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // Backspace: 光标位于第零个字符，仅删除代码块标签\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n        var codePosition = (0,selection/* getSelectPosition */.im)(codeRenderElement, vditor[vditor.currentMode].element, range);\n        if ((codePosition.start === 0 ||\n            (codePosition.start === 1 && codeRenderElement.innerText === \"\\n\")) // 空代码块，光标在 \\n 后\n            && range.toString() === \"\") {\n            codeRenderElement.parentElement.outerHTML =\n                \"<p data-block=\\\"0\\\"><wbr>\" + codeRenderElement.firstElementChild.innerHTML + \"</p>\";\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 换行\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        if (!codeRenderElement.firstElementChild.textContent.endsWith(\"\\n\")) {\n            codeRenderElement.firstElementChild.insertAdjacentText(\"beforeend\", \"\\n\");\n        }\n        range.extractContents();\n        range.insertNode(document.createTextNode(\"\\n\"));\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        if (!(0,compatibility/* isFirefox */.vU)()) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                input_input(vditor, range);\n            }\n            else {\n                input(vditor, range);\n            }\n        }\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar fixBlockquote = function (vditor, range, event, pElement) {\n    var startContainer = range.startContainer;\n    var blockquoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"BLOCKQUOTE\");\n    if (blockquoteElement && range.toString() === \"\") {\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey &&\n            (0,selection/* getSelectPosition */.im)(blockquoteElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // Backspace: 光标位于引用中的第零个字符，仅删除引用标签\n            range.insertNode(document.createElement(\"wbr\"));\n            blockquoteElement.outerHTML = blockquoteElement.innerHTML;\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (pElement && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && pElement.parentElement.tagName === \"BLOCKQUOTE\") {\n            // Enter: 空行回车应逐层跳出\n            var isEmpty = false;\n            if (pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\\n\" ||\n                pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                // 空 P\n                isEmpty = true;\n                pElement.remove();\n            }\n            else if (pElement.innerHTML.endsWith(\"\\n\\n\") &&\n                (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start ===\n                    pElement.textContent.length - 1) {\n                // 软换行\n                pElement.innerHTML = pElement.innerHTML.substr(0, pElement.innerHTML.length - 2);\n                isEmpty = true;\n            }\n            if (isEmpty) {\n                // 需添加零宽字符，否则的话无法记录 undo\n                blockquoteElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr>\\n</p>\");\n                (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        if (vditor.currentMode === \"wysiwyg\" && blockElement && matchHotKey(\"⇧⌘;\", event)) {\n            // 插入 blockquote\n            range.insertNode(document.createElement(\"wbr\"));\n            blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\" + blockElement.outerHTML + \"</blockquote>\";\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            afterRenderEvent(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n    }\n    return false;\n};\nvar fixTask = function (vditor, range, event) {\n    var startContainer = range.startContainer;\n    var taskItemElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-task\");\n    if (taskItemElement) {\n        if (matchHotKey(\"⇧⌘J\", event)) {\n            // ctrl + shift: toggle checked\n            var inputElement = taskItemElement.firstElementChild;\n            if (inputElement.checked) {\n                inputElement.removeAttribute(\"checked\");\n            }\n            else {\n                inputElement.setAttribute(\"checked\", \"checked\");\n            }\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // Backspace: 在选择框前进行删除\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\"\n            && range.startOffset === 1\n            && ((startContainer.nodeType === 3 && startContainer.previousSibling &&\n                startContainer.previousSibling.tagName === \"INPUT\")\n                || startContainer.nodeType !== 3)) {\n            var previousElement = taskItemElement.previousElementSibling;\n            taskItemElement.querySelector(\"input\").remove();\n            if (previousElement) {\n                var lastNode = (0,hasClosest/* getLastNode */.DX)(previousElement);\n                lastNode.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\" + taskItemElement.innerHTML.trim());\n                taskItemElement.remove();\n            }\n            else {\n                taskItemElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\" + (taskItemElement.innerHTML.trim() || \"\\n\") + \"</p>\");\n                if (taskItemElement.nextElementSibling) {\n                    taskItemElement.remove();\n                }\n                else {\n                    taskItemElement.parentElement.remove();\n                }\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n            if (taskItemElement.textContent.trim() === \"\") {\n                // 当前任务列表无文字\n                if ((0,hasClosest/* hasClosestByClassName */.fb)(taskItemElement.parentElement, \"vditor-task\")) {\n                    // 为子元素时，需进行反向缩进\n                    var topListElement = (0,hasClosest/* getTopList */.O9)(startContainer);\n                    if (topListElement) {\n                        listOutdent(vditor, taskItemElement, range, topListElement);\n                    }\n                }\n                else {\n                    // 仅有一级任务列表\n                    if (taskItemElement.nextElementSibling) {\n                        // 任务列表下方还有元素，需要使用用段落隔断\n                        var afterHTML_2 = \"\";\n                        var beforeHTML_1 = \"\";\n                        var isAfter_1 = false;\n                        Array.from(taskItemElement.parentElement.children).forEach(function (taskItem) {\n                            if (taskItemElement.isSameNode(taskItem)) {\n                                isAfter_1 = true;\n                            }\n                            else {\n                                if (isAfter_1) {\n                                    afterHTML_2 += taskItem.outerHTML;\n                                }\n                                else {\n                                    beforeHTML_1 += taskItem.outerHTML;\n                                }\n                            }\n                        });\n                        var parentTagName = taskItemElement.parentElement.tagName;\n                        var dataMarker = taskItemElement.parentElement.tagName === \"OL\" ? \"\" : \" data-marker=\\\"\" + taskItemElement.parentElement.getAttribute(\"data-marker\") + \"\\\"\";\n                        var startAttribute = \"\";\n                        if (beforeHTML_1) {\n                            startAttribute = taskItemElement.parentElement.tagName === \"UL\" ? \"\" : \" start=\\\"1\\\"\";\n                            beforeHTML_1 = \"<\" + parentTagName + \" data-tight=\\\"true\\\"\" + dataMarker + \" data-block=\\\"0\\\">\" + beforeHTML_1 + \"</\" + parentTagName + \">\";\n                        }\n                        // <p data-block=\"0\">\\n<wbr></p> => <p data-block=\"0\"><wbr>\\n</p>\n                        // https://github.com/Vanessa219/vditor/issues/430\n                        taskItemElement.parentElement.outerHTML = beforeHTML_1 + \"<p data-block=\\\"0\\\"><wbr>\\n</p><\" + parentTagName + \"\\n data-tight=\\\"true\\\"\" + dataMarker + \" data-block=\\\"0\\\"\" + startAttribute + \">\" + afterHTML_2 + \"</\" + parentTagName + \">\";\n                    }\n                    else {\n                        // 任务列表下方无任务列表元素\n                        taskItemElement.parentElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\"><wbr>\\n</p>\");\n                        if (taskItemElement.parentElement.querySelectorAll(\"li\").length === 1) {\n                            // 任务列表仅有一项时，使用 p 元素替换\n                            taskItemElement.parentElement.remove();\n                        }\n                        else {\n                            // 任务列表有多项时，当前任务列表位于最后一项，移除该任务列表\n                            taskItemElement.remove();\n                        }\n                    }\n                }\n            }\n            else if (startContainer.nodeType !== 3 && range.startOffset === 0 &&\n                startContainer.firstChild.tagName === \"INPUT\") {\n                // 光标位于 input 之前\n                range.setStart(startContainer.childNodes[1], 1);\n            }\n            else {\n                // 当前任务列表有文字，光标后的文字需添加到新任务列表中\n                range.setEndAfter(taskItemElement.lastChild);\n                taskItemElement.insertAdjacentHTML(\"afterend\", \"<li class=\\\"vditor-task\\\" data-marker=\\\"\" + taskItemElement.getAttribute(\"data-marker\") + \"\\\"><input type=\\\"checkbox\\\"> <wbr></li>\");\n                document.querySelector(\"wbr\").after(range.extractContents());\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixDelete = function (vditor, range, event, pElement) {\n    if (range.startContainer.nodeType !== 3) {\n        // 光标位于 hr 前，hr 前有内容\n        var rangeElement = range.startContainer.children[range.startOffset];\n        if (rangeElement && rangeElement.tagName === \"HR\") {\n            range.selectNodeContents(rangeElement.previousElementSibling);\n            range.collapse(false);\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (pElement) {\n        var previousElement = pElement.previousElementSibling;\n        if (previousElement && (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0 &&\n            (((0,compatibility/* isFirefox */.vU)() && previousElement.tagName === \"HR\") || previousElement.tagName === \"TABLE\")) {\n            if (previousElement.tagName === \"TABLE\") {\n                // table 后删除 https://github.com/Vanessa219/vditor/issues/243\n                var lastCellElement = previousElement.lastElementChild.lastElementChild.lastElementChild;\n                lastCellElement.innerHTML =\n                    lastCellElement.innerHTML.trimLeft() + \"<wbr>\" + pElement.textContent.trim();\n                pElement.remove();\n            }\n            else {\n                // 光标位于 hr 后进行删除\n                previousElement.remove();\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixHR = function (range) {\n    if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.nodeType !== 3 &&\n        range.startContainer.tagName === \"HR\") {\n        range.setStartBefore(range.startContainer);\n    }\n};\n// firefox https://github.com/Vanessa219/vditor/issues/407\nvar fixFirefoxArrowUpTable = function (event, blockElement, range) {\n    var _a, _b;\n    if (!(0,compatibility/* isFirefox */.vU)()) {\n        return false;\n    }\n    if (event.key === \"ArrowUp\" && blockElement && ((_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"TABLE\") {\n        var tableElement = blockElement.previousElementSibling;\n        range.selectNodeContents(tableElement.rows[tableElement.rows.length - 1].lastElementChild);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (event.key === \"ArrowDown\" && blockElement && ((_b = blockElement.nextElementSibling) === null || _b === void 0 ? void 0 : _b.tagName) === \"TABLE\") {\n        range.selectNodeContents(blockElement.nextElementSibling.rows[0].cells[0]);\n        range.collapse(true);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar paste = function (vditor, event, callback) { return fixBrowserBehavior_awaiter(void 0, void 0, void 0, function () {\n    var textHTML, textPlain, files, renderers, renderLinkDest, doc, height, code, codeElement, position, tempElement, blockElement, range;\n    var _a;\n    return fixBrowserBehavior_generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                event.stopPropagation();\n                event.preventDefault();\n                if (\"clipboardData\" in event) {\n                    textHTML = event.clipboardData.getData(\"text/html\");\n                    textPlain = event.clipboardData.getData(\"text/plain\");\n                    files = event.clipboardData.files;\n                }\n                else {\n                    textHTML = event.dataTransfer.getData(\"text/html\");\n                    textPlain = event.dataTransfer.getData(\"text/plain\");\n                    if (event.dataTransfer.types[0] === \"Files\") {\n                        files = event.dataTransfer.items;\n                    }\n                }\n                renderers = {};\n                renderLinkDest = function (node, entering) {\n                    if (!entering) {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    var src = node.TokensStr();\n                    if (node.__internal_object__.Parent.Type === 34 && src && src.indexOf(\"file://\") === -1 &&\n                        vditor.options.upload.linkToImgUrl) {\n                        var xhr_1 = new XMLHttpRequest();\n                        xhr_1.open(\"POST\", vditor.options.upload.linkToImgUrl);\n                        if (vditor.options.upload.token) {\n                            xhr_1.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                        }\n                        if (vditor.options.upload.withCredentials) {\n                            xhr_1.withCredentials = true;\n                        }\n                        setHeaders(vditor, xhr_1);\n                        xhr_1.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n                        xhr_1.onreadystatechange = function () {\n                            if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                                if (xhr_1.status === 200) {\n                                    var responseText = xhr_1.responseText;\n                                    if (vditor.options.upload.linkToImgFormat) {\n                                        responseText = vditor.options.upload.linkToImgFormat(xhr_1.responseText);\n                                    }\n                                    var responseJSON_1 = JSON.parse(responseText);\n                                    if (responseJSON_1.code !== 0) {\n                                        vditor.tip.show(responseJSON_1.msg);\n                                        return;\n                                    }\n                                    var original_1 = responseJSON_1.data.originalURL;\n                                    if (vditor.currentMode === \"sv\") {\n                                        vditor.sv.element.querySelectorAll(\".vditor-sv__marker--link\")\n                                            .forEach(function (item) {\n                                            if (item.textContent === original_1) {\n                                                item.textContent = responseJSON_1.data.url;\n                                            }\n                                        });\n                                    }\n                                    else {\n                                        var imgElement = vditor[vditor.currentMode].element.querySelector(\"img[src=\\\"\" + original_1 + \"\\\"]\");\n                                        imgElement.src = responseJSON_1.data.url;\n                                        if (vditor.currentMode === \"ir\") {\n                                            imgElement.previousElementSibling.previousElementSibling.innerHTML =\n                                                responseJSON_1.data.url;\n                                        }\n                                    }\n                                    execAfterRender(vditor);\n                                }\n                                else {\n                                    vditor.tip.show(xhr_1.responseText);\n                                }\n                                if (vditor.options.upload.linkToImgCallback) {\n                                    vditor.options.upload.linkToImgCallback(xhr_1.responseText);\n                                }\n                            }\n                        };\n                        xhr_1.send(JSON.stringify({ url: src }));\n                    }\n                    if (vditor.currentMode === \"ir\") {\n                        return [\"<span class=\\\"vditor-ir__marker vditor-ir__marker--link\\\">\" + src + \"</span>\", Lute.WalkContinue];\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    else {\n                        return [\"<span class=\\\"vditor-sv__marker--link\\\">\" + src + \"</span>\", Lute.WalkContinue];\n                    }\n                };\n                // 浏览器地址栏拷贝处理\n                if (textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                    \"<a href=\\\"\" + textPlain + \"\\\">\" + textPlain + \"</a>\" ||\n                    textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                        \"<!--StartFragment--><a href=\\\"\" + textPlain + \"\\\">\" + textPlain + \"</a><!--EndFragment-->\") {\n                    textHTML = \"\";\n                }\n                doc = new DOMParser().parseFromString(textHTML, \"text/html\");\n                if (doc.body) {\n                    textHTML = doc.body.innerHTML;\n                }\n                vditor.wysiwyg.getComments(vditor);\n                height = vditor[vditor.currentMode].element.scrollHeight;\n                code = processPasteCode(textHTML, textPlain, vditor.currentMode);\n                codeElement = vditor.currentMode === \"sv\" ?\n                    (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"code-block\") :\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"CODE\");\n                if (!codeElement) return [3 /*break*/, 1];\n                // 粘贴在代码位置\n                if (vditor.currentMode === \"sv\") {\n                    document.execCommand(\"insertHTML\", false, textPlain.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"));\n                }\n                else {\n                    position = (0,selection/* getSelectPosition */.im)(event.target, vditor[vditor.currentMode].element);\n                    if (codeElement.parentElement.tagName !== \"PRE\") {\n                        // https://github.com/Vanessa219/vditor/issues/463\n                        textPlain += constants/* Constants.ZWSP */.g.ZWSP;\n                    }\n                    codeElement.textContent = codeElement.textContent.substring(0, position.start)\n                        + textPlain + codeElement.textContent.substring(position.end);\n                    (0,selection/* setSelectionByPosition */.$j)(position.start + textPlain.length, position.start + textPlain.length, codeElement.parentElement);\n                    if ((_a = codeElement.parentElement) === null || _a === void 0 ? void 0 : _a.nextElementSibling.classList.contains(\"vditor-\" + vditor.currentMode + \"__preview\")) {\n                        codeElement.parentElement.nextElementSibling.innerHTML = codeElement.outerHTML;\n                        processCodeRender(codeElement.parentElement.nextElementSibling, vditor);\n                    }\n                }\n                return [3 /*break*/, 6];\n            case 1:\n                if (!code) return [3 /*break*/, 2];\n                callback.pasteCode(code);\n                return [3 /*break*/, 6];\n            case 2:\n                if (!(textHTML.trim() !== \"\")) return [3 /*break*/, 3];\n                tempElement = document.createElement(\"div\");\n                tempElement.innerHTML = textHTML;\n                tempElement.querySelectorAll(\"[style]\").forEach(function (e) {\n                    e.removeAttribute(\"style\");\n                });\n                tempElement.querySelectorAll(\".vditor-copy\").forEach(function (e) {\n                    e.remove();\n                });\n                if (vditor.currentMode === \"ir\") {\n                    renderers.HTML2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorIRDOM(tempElement.innerHTML), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    renderers.HTML2VditorDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorDOM(tempElement.innerHTML), vditor);\n                }\n                else {\n                    renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    processPaste(vditor, vditor.lute.HTML2Md(tempElement.innerHTML).trimRight());\n                }\n                vditor.outline.render(vditor);\n                return [3 /*break*/, 6];\n            case 3:\n                if (!(files.length > 0 && vditor.options.upload.url)) return [3 /*break*/, 5];\n                return [4 /*yield*/, uploadFiles(vditor, files)];\n            case 4:\n                _b.sent();\n                return [3 /*break*/, 6];\n            case 5:\n                if (textPlain.trim() !== \"\" && files.length === 0) {\n                    if (vditor.currentMode === \"ir\") {\n                        renderers.Md2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorIRDOM(textPlain), vditor);\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        renderers.Md2VditorDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorDOM(textPlain), vditor);\n                    }\n                    else {\n                        renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        processPaste(vditor, textPlain);\n                    }\n                    vditor.outline.render(vditor);\n                }\n                _b.label = 6;\n            case 6:\n                if (vditor.currentMode !== \"sv\") {\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)((0,selection/* getEditorRange */.zh)(vditor).startContainer);\n                    if (blockElement) {\n                        range = (0,selection/* getEditorRange */.zh)(vditor);\n                        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n                            wbr.remove();\n                        });\n                        range.insertNode(document.createElement(\"wbr\"));\n                        if (vditor.currentMode === \"wysiwyg\") {\n                            blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                        }\n                        else {\n                            blockElement.outerHTML = vditor.lute.SpinVditorIRDOM(blockElement.outerHTML);\n                        }\n                        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                    }\n                    vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                        .forEach(function (item) {\n                        processCodeRender(item, vditor);\n                    });\n                }\n                vditor.wysiwyg.triggerRemoveComment(vditor);\n                execAfterRender(vditor);\n                if (vditor[vditor.currentMode].element.scrollHeight - height >\n                    Math.min(vditor[vditor.currentMode].element.clientHeight, window.innerHeight) / 2) {\n                    scrollCenter(vditor);\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar templateObject_1;\n\n;// CONCATENATED MODULE: ./src/ts/ir/process.ts\n\n\n\n\n\n\n\n\n\nvar processHint = function (vditor) {\n    vditor.hint.render(vditor);\n    var startContainer = (0,selection/* getEditorRange */.zh)(vditor).startContainer;\n    // 代码块语言提示\n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (preBeforeElement.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && vditor.hint.recentLanguage) {\n            preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + vditor.hint.recentLanguage;\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            range.selectNodeContents(preBeforeElement);\n        }\n        else {\n            var matchLangData_1 = [];\n            var key_1 = preBeforeElement.textContent.substring(0, (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start)\n                .replace(constants/* Constants.ZWSP */.g.ZWSP, \"\");\n            constants/* Constants.CODE_LANGUAGES.forEach */.g.CODE_LANGUAGES.forEach(function (keyName) {\n                if (keyName.indexOf(key_1.toLowerCase()) > -1) {\n                    matchLangData_1.push({\n                        html: keyName,\n                        value: keyName,\n                    });\n                }\n            });\n            vditor.hint.genHTML(matchLangData_1, key_1, vditor);\n        }\n    }\n};\nvar process_processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        processHint(vditor);\n    }\n    clearTimeout(vditor.ir.processTimeoutId);\n    vditor.ir.processTimeoutId = window.setTimeout(function () {\n        if (vditor.ir.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar process_processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || range.startContainer;\n    if (headingElement) {\n        var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n        if (headingMarkerElement) {\n            headingMarkerElement.innerHTML = value;\n        }\n        else {\n            headingElement.insertAdjacentText(\"afterbegin\", value);\n            range.selectNodeContents(headingElement);\n            range.collapse(false);\n        }\n        input(vditor, range.cloneRange());\n        highlightToolbarIR(vditor);\n    }\n};\nvar removeInline = function (range, vditor, type) {\n    var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", type);\n    if (inlineElement) {\n        inlineElement.firstElementChild.remove();\n        inlineElement.lastElementChild.remove();\n        range.insertNode(document.createElement(\"wbr\"));\n        var tempElement = document.createElement(\"div\");\n        tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(inlineElement.outerHTML);\n        inlineElement.outerHTML = tempElement.firstElementChild.innerHTML.trim();\n    }\n};\nvar process_processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    var typeElement = range.startContainer;\n    if (typeElement.nodeType === 3) {\n        typeElement = typeElement.parentElement;\n    }\n    var useHighlight = true;\n    // 移除\n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n            if (quoteElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\" + quoteElement.innerHTML + \"</p>\" : quoteElement.innerHTML;\n            }\n        }\n        else if (commandName === \"link\") {\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"a\");\n            if (aElement) {\n                var aTextElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__link\");\n                if (aTextElement) {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    aElement.outerHTML = aTextElement.innerHTML;\n                }\n                else {\n                    aElement.outerHTML = aElement.querySelector(\".vditor-ir__link\").innerHTML + \"<wbr>\";\n                }\n            }\n        }\n        else if (commandName === \"italic\") {\n            removeInline(range, vditor, \"em\");\n        }\n        else if (commandName === \"bold\") {\n            removeInline(range, vditor, \"strong\");\n        }\n        else if (commandName === \"strike\") {\n            removeInline(range, vditor, \"s\");\n        }\n        else if (commandName === \"inline-code\") {\n            removeInline(range, vditor, \"code\");\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n    }\n    else {\n        // 添加\n        if (vditor.ir.element.childNodes.length === 0) {\n            vditor.ir.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n            }\n        }\n        else if (commandName === \"quote\") {\n            if (blockElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\" + blockElement.outerHTML + \"</blockquote>\";\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n            }\n        }\n        else if (commandName === \"link\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = prefix + \"<wbr>\" + suffix;\n            }\n            else {\n                html = \"\" + prefix + range.toString() + suffix.replace(\")\", \"<wbr>)\");\n            }\n            document.execCommand(\"insertHTML\", false, html);\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\"\n            || commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = prefix + \"<wbr>\" + suffix;\n            }\n            else {\n                if (commandName === \"code\" || commandName === \"table\") {\n                    html = \"\" + prefix + range.toString() + \"<wbr>\" + suffix;\n                }\n                else {\n                    html = \"\" + prefix + range.toString() + suffix + \"<wbr>\";\n                }\n                range.deleteContents();\n            }\n            if (commandName === \"table\" || commandName === \"code\") {\n                html = \"\\n\" + html + \"\\n\\n\";\n            }\n            var spanElement = document.createElement(\"span\");\n            spanElement.innerHTML = html;\n            range.insertNode(spanElement);\n            input(vditor, range);\n            if (commandName === \"table\") {\n                range.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    process_processAfterRender(vditor);\n    if (useHighlight) {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/hint/index.ts\n\n\n\n\n\n\n\n\nvar Hint = /** @class */ (function () {\n    function Hint(hintExtends) {\n        var _this = this;\n        this.splitChar = \"\";\n        this.lastIndex = -1;\n        this.fillEmoji = function (element, vditor) {\n            _this.element.style.display = \"none\";\n            var value = decodeURIComponent(element.getAttribute(\"data-value\"));\n            var range = window.getSelection().getRangeAt(0);\n            // 代码提示\n            if (vditor.currentMode === \"ir\") {\n                var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"code-block-info\");\n                if (preBeforeElement) {\n                    preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + value.trimRight();\n                    range.selectNodeContents(preBeforeElement);\n                    range.collapse(false);\n                    process_processAfterRender(vditor);\n                    preBeforeElement.parentElement.querySelectorAll(\"code\").forEach(function (item) {\n                        item.className = \"language-\" + value.trimRight();\n                    });\n                    processCodeRender(preBeforeElement.parentElement.querySelector(\".vditor-ir__preview\"), vditor);\n                    _this.recentLanguage = value.trimRight();\n                    return;\n                }\n            }\n            if (vditor.currentMode === \"wysiwyg\" && range.startContainer.nodeType !== 3 &&\n                range.startContainer.firstElementChild.classList.contains(\"vditor-input\")) {\n                var inputElement = range.startContainer.firstElementChild;\n                inputElement.value = value.trimRight();\n                range.selectNodeContents(inputElement);\n                range.collapse(false);\n                inputElement.dispatchEvent(new CustomEvent(\"input\"));\n                _this.recentLanguage = value.trimRight();\n                return;\n            }\n            range.setStart(range.startContainer, _this.lastIndex);\n            range.deleteContents();\n            if (vditor.options.hint.parse) {\n                if (vditor.currentMode === \"sv\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorSVDOM(value), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorDOM(value), vditor);\n                }\n                else {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorIRDOM(value), vditor);\n                }\n            }\n            else {\n                (0,selection/* insertHTML */.oC)(value, vditor);\n            }\n            if (_this.splitChar === \":\" && value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                range.insertNode(document.createTextNode(\" \"));\n            }\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            if (vditor.currentMode === \"wysiwyg\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__block\");\n                if (preElement && preElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                    preElement.lastElementChild.innerHTML = preElement.firstElementChild.innerHTML;\n                    processCodeRender(preElement.lastElementChild, vditor);\n                }\n            }\n            else if (vditor.currentMode === \"ir\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker--pre\");\n                if (preElement && preElement.nextElementSibling.classList.contains(\"vditor-ir__preview\")) {\n                    preElement.nextElementSibling.innerHTML = preElement.innerHTML;\n                    processCodeRender(preElement.nextElementSibling, vditor);\n                }\n            }\n            execAfterRender(vditor);\n        };\n        this.timeId = -1;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-hint\";\n        this.recentLanguage = \"\";\n        hintExtends.push({ key: \":\" });\n    }\n    Hint.prototype.render = function (vditor) {\n        var _this = this;\n        if (!window.getSelection().focusNode) {\n            return;\n        }\n        var currentLineValue;\n        var range = getSelection().getRangeAt(0);\n        currentLineValue = range.startContainer.textContent.substring(0, range.startOffset) || \"\";\n        var key = this.getKey(currentLineValue, vditor.options.hint.extend);\n        if (typeof key === \"undefined\") {\n            this.element.style.display = \"none\";\n            clearTimeout(this.timeId);\n        }\n        else {\n            if (this.splitChar === \":\") {\n                var emojiHint_1 = key === \"\" ? vditor.options.hint.emoji : vditor.lute.GetEmojis();\n                var matchEmojiData_1 = [];\n                Object.keys(emojiHint_1).forEach(function (keyName) {\n                    if (keyName.indexOf(key.toLowerCase()) === 0) {\n                        if (emojiHint_1[keyName].indexOf(\".\") > -1) {\n                            matchEmojiData_1.push({\n                                html: \"<img src=\\\"\" + emojiHint_1[keyName] + \"\\\" title=\\\":\" + keyName + \":\\\"/> :\" + keyName + \":\",\n                                value: \":\" + keyName + \":\",\n                            });\n                        }\n                        else {\n                            matchEmojiData_1.push({\n                                html: \"<span class=\\\"vditor-hint__emoji\\\">\" + emojiHint_1[keyName] + \"</span>\" + keyName,\n                                value: emojiHint_1[keyName],\n                            });\n                        }\n                    }\n                });\n                this.genHTML(matchEmojiData_1, key, vditor);\n            }\n            else {\n                vditor.options.hint.extend.forEach(function (item) {\n                    if (item.key === _this.splitChar) {\n                        clearTimeout(_this.timeId);\n                        _this.timeId = window.setTimeout(function () {\n                            _this.genHTML(item.hint(key), key, vditor);\n                        }, vditor.options.hint.delay);\n                    }\n                });\n            }\n        }\n    };\n    Hint.prototype.genHTML = function (data, key, vditor) {\n        var _this = this;\n        if (data.length === 0) {\n            this.element.style.display = \"none\";\n            return;\n        }\n        var editorElement = vditor[vditor.currentMode].element;\n        var textareaPosition = (0,selection/* getCursorPosition */.Ny)(editorElement);\n        var x = textareaPosition.left +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0);\n        var y = textareaPosition.top;\n        var hintsHTML = \"\";\n        data.forEach(function (hintData, i) {\n            if (i > 7) {\n                return;\n            }\n            // process high light\n            var html = hintData.html;\n            if (key !== \"\") {\n                var lastIndex = html.lastIndexOf(\">\") + 1;\n                var replaceHtml = html.substr(lastIndex);\n                var replaceIndex = replaceHtml.toLowerCase().indexOf(key.toLowerCase());\n                if (replaceIndex > -1) {\n                    replaceHtml = replaceHtml.substring(0, replaceIndex) + \"<b>\" +\n                        replaceHtml.substring(replaceIndex, replaceIndex + key.length) + \"</b>\" +\n                        replaceHtml.substring(replaceIndex + key.length);\n                    html = html.substr(0, lastIndex) + replaceHtml;\n                }\n            }\n            hintsHTML += \"<button data-value=\\\"\" + encodeURIComponent(hintData.value) + \" \\\"\\n\" + (i === 0 ? \"class='vditor-hint--current'\" : \"\") + \"> \" + html + \"</button>\";\n        });\n        this.element.innerHTML = hintsHTML;\n        var lineHeight = parseInt(document.defaultView.getComputedStyle(editorElement, null)\n            .getPropertyValue(\"line-height\"), 10);\n        this.element.style.top = y + (lineHeight || 22) + \"px\";\n        this.element.style.left = x + \"px\";\n        this.element.style.display = \"block\";\n        this.element.style.right = \"auto\";\n        this.element.querySelectorAll(\"button\").forEach(function (element) {\n            element.addEventListener(\"click\", function (event) {\n                _this.fillEmoji(element, vditor);\n                event.preventDefault();\n            });\n        });\n        // hint 展现在上部\n        if (this.element.getBoundingClientRect().bottom > window.innerHeight) {\n            this.element.style.top = y - this.element.offsetHeight + \"px\";\n        }\n        if (this.element.getBoundingClientRect().right > window.innerWidth) {\n            this.element.style.left = \"auto\";\n            this.element.style.right = \"0\";\n        }\n    };\n    Hint.prototype.select = function (event, vditor) {\n        if (this.element.querySelectorAll(\"button\").length === 0 ||\n            this.element.style.display === \"none\") {\n            return false;\n        }\n        var currentHintElement = this.element.querySelector(\".vditor-hint--current\");\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.nextElementSibling) {\n                this.element.children[0].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.nextElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.previousElementSibling) {\n                var length_1 = this.element.children.length;\n                this.element.children[length_1 - 1].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.previousElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\" && !event.isComposing) {\n            event.preventDefault();\n            event.stopPropagation();\n            this.fillEmoji(currentHintElement, vditor);\n            return true;\n        }\n        return false;\n    };\n    Hint.prototype.getKey = function (currentLineValue, extend) {\n        var _this = this;\n        this.lastIndex = -1;\n        this.splitChar = \"\";\n        extend.forEach(function (item) {\n            var currentLastIndex = currentLineValue.lastIndexOf(item.key);\n            if (_this.lastIndex < currentLastIndex) {\n                _this.splitChar = item.key;\n                _this.lastIndex = currentLastIndex;\n            }\n        });\n        var key;\n        if (this.lastIndex === -1) {\n            return key;\n        }\n        var lineArray = currentLineValue.split(this.splitChar);\n        var lastItem = lineArray[lineArray.length - 1];\n        var maxLength = 32;\n        if (lineArray.length > 1 && lastItem.trim() === lastItem) {\n            if (lineArray.length === 2 && lineArray[0] === \"\" && lineArray[1].length < maxLength) {\n                key = lineArray[1];\n            }\n            else {\n                var preChar = lineArray[lineArray.length - 2].slice(-1);\n                if ((0,code160to32/* code160to32 */.X)(preChar) === \" \" && lastItem.length < maxLength) {\n                    key = lastItem;\n                }\n            }\n        }\n        return key;\n    };\n    return Hint;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ir/index.ts\n\n\n\n\n\n\n\n\n\n\n\nvar IR = /** @class */ (function () {\n    function IR(vditor) {\n        this.composingLock = false;\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-ir\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\" + vditor.options.placeholder + \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\";\n        this.element = divElement.firstElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    IR.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorIRDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    IR.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input(vditor, getSelection().getRangeAt(0).cloneRange());\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            input(vditor, getSelection().getRangeAt(0).cloneRange(), false, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                if (event.target.checked) {\n                    event.target.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    event.target.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                process_processAfterRender(vditor);\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            // 点击后光标落于预览区\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-ir__preview\");\n            if (!previewElement) {\n                previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            }\n            if (previewElement) {\n                if (previewElement.previousElementSibling.firstElementChild) {\n                    range.selectNodeContents(previewElement.previousElementSibling.firstElementChild);\n                }\n                else {\n                    // 行内数学公式\n                    range.selectNodeContents(previewElement.previousElementSibling);\n                }\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                scrollCenter(vditor);\n            }\n            // 点击图片光标选中图片地址\n            if (event.target.tagName === \"IMG\") {\n                var linkElement = event.target.parentElement.querySelector(\".vditor-ir__marker--link\");\n                if (linkElement) {\n                    range.selectNode(linkElement);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n            }\n            // 打开链接\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"a\");\n            if (aElement && (!aElement.classList.contains(\"vditor-ir__node--expand\"))) {\n                window.open(aElement.querySelector(\":scope > .vditor-ir__marker--link\").textContent);\n                return;\n            }\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            if (range.toString() === \"\") {\n                expandMarker(range, vditor);\n            }\n            else {\n                // https://github.com/Vanessa219/vditor/pull/681 当点击选中区域时 eventTarget 与 range 不一致，需延迟等待 range 发生变化\n                setTimeout(function () {\n                    expandMarker((0,selection/* getEditorRange */.zh)(vditor), vditor);\n                });\n            }\n            clickToc(event, vditor);\n            highlightToolbarIR(vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            highlightToolbarIR(vditor);\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.ir.element.innerHTML !== \"\" && vditor.ir.element.childNodes.length === 1 &&\n                vditor.ir.element.firstElementChild && vditor.ir.element.firstElementChild.tagName === \"P\"\n                && vditor.ir.element.firstElementChild.childElementCount === 0\n                && (vditor.ir.element.textContent === \"\" || vditor.ir.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.ir.element.innerHTML = \"\";\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                    expandMarker(range, vditor);\n                }\n                // 数学公式前是空块，空块前是 table，在空块前删除，数学公式会多一个 br\n                _this.element.querySelectorAll(\".language-math\").forEach(function (item) {\n                    var brElement = item.querySelector(\"br\");\n                    if (brElement) {\n                        brElement.remove();\n                    }\n                });\n            }\n            else if (event.key.indexOf(\"Arrow\") > -1) {\n                if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                    processHint(vditor);\n                }\n                expandMarker(range, vditor);\n            }\n            else if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\") {\n                // https://github.com/Vanessa219/vditor/issues/508 IR 删除到节点需展开\n                expandMarker(range, vditor);\n            }\n            var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            if (previewRenderElement) {\n                if (event.key === \"ArrowUp\" || event.key === \"ArrowLeft\") {\n                    if (previewRenderElement.previousElementSibling.firstElementChild) {\n                        range.selectNodeContents(previewRenderElement.previousElementSibling.firstElementChild);\n                    }\n                    else {\n                        // 行内数学公式/html entity\n                        range.selectNodeContents(previewRenderElement.previousElementSibling);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n                if (previewRenderElement.tagName === \"SPAN\" &&\n                    (event.key === \"ArrowDown\" || event.key === \"ArrowRight\")) {\n                    if (previewRenderElement.parentElement.getAttribute(\"data-type\") === \"html-entity\") {\n                        // html entity\n                        previewRenderElement.parentElement.insertAdjacentText(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n                        range.setStart(previewRenderElement.parentElement.nextSibling, 1);\n                    }\n                    else {\n                        range.selectNodeContents(previewRenderElement.parentElement.lastElementChild);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        });\n    };\n    return IR;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/markdown/getHTML.ts\n\nvar getHTML = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return vditor.lute.Md2HTML(getMarkdown(vditor));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2HTML(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2HTML(vditor.ir.element.innerHTML);\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(792);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(198);\n;// CONCATENATED MODULE: ./src/ts/outline/index.ts\n\n\n\n\nvar Outline = /** @class */ (function () {\n    function Outline(outlineLabel) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-outline\";\n        this.element.innerHTML = \"<div class=\\\"vditor-outline__title\\\">\" + outlineLabel + \"</div>\\n<div class=\\\"vditor-outline__content\\\"></div>\";\n    }\n    Outline.prototype.render = function (vditor) {\n        var html = \"\";\n        if (vditor.preview.element.style.display === \"block\") {\n            html = (0,outlineRender/* outlineRender */.k)(vditor.preview.element.lastElementChild, this.element.lastElementChild, vditor);\n        }\n        else {\n            html = (0,outlineRender/* outlineRender */.k)(vditor[vditor.currentMode].element, this.element.lastElementChild, vditor);\n        }\n        return html;\n    };\n    Outline.prototype.toggle = function (vditor, show) {\n        var _a;\n        if (show === void 0) { show = true; }\n        var btnElement = (_a = vditor.toolbar.elements.outline) === null || _a === void 0 ? void 0 : _a.firstElementChild;\n        if (show && window.innerWidth >= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH) {\n            this.element.style.display = \"block\";\n            this.render(vditor);\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.add(\"vditor-menu--current\");\n        }\n        else {\n            this.element.style.display = \"none\";\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.remove(\"vditor-menu--current\");\n        }\n        if (getSelection().rangeCount > 0) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                vditor[vditor.currentMode].element.focus();\n            }\n        }\n        setPadding(vditor);\n    };\n    return Outline;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(207);\n;// CONCATENATED MODULE: ./src/ts/preview/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Preview = /** @class */ (function () {\n    function Preview(vditor) {\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-preview\";\n        var previewElement = document.createElement(\"div\");\n        previewElement.className = \"vditor-reset\";\n        if (vditor.options.classes.preview) {\n            previewElement.classList.add(vditor.options.classes.preview);\n        }\n        previewElement.style.maxWidth = vditor.options.preview.maxWidth + \"px\";\n        previewElement.addEventListener(\"copy\", function (event) {\n            if (event.target.tagName === \"TEXTAREA\") {\n                // https://github.com/Vanessa219/vditor/issues/901\n                return;\n            }\n            var tempElement = document.createElement(\"div\");\n            tempElement.className = \"vditor-reset\";\n            tempElement.appendChild(getSelection().getRangeAt(0).cloneContents());\n            _this.copyToX(vditor, tempElement);\n            event.preventDefault();\n        });\n        previewElement.addEventListener(\"click\", function (event) {\n            var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n            if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                var headingElement = previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                if (headingElement) {\n                    _this.element.scrollTop = headingElement.offsetTop;\n                }\n                return;\n            }\n            if (event.target.tagName === \"IMG\") {\n                (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n            }\n        });\n        var actions = vditor.options.preview.actions;\n        var actionElement = document.createElement(\"div\");\n        actionElement.className = \"vditor-preview__action\";\n        var actionHtml = [];\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            if (typeof action === \"object\") {\n                actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"\" + action.key + \"\\\" class=\\\"\" + action.className + \"\\\"\" + (action.tooltip ? \" aria-label=\\\"\" + action.tooltip + \"\\\"\" : \"\") + \"\\\">\" + action.text + \"</button>\");\n                continue;\n            }\n            switch (action) {\n                case \"desktop\":\n                    actionHtml.push(\"<button type=\\\"button\\\" class=\\\"vditor-preview__action--current\\\" data-type=\\\"desktop\\\">Desktop</button>\");\n                    break;\n                case \"tablet\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"tablet\\\">Tablet</button>\");\n                    break;\n                case \"mobile\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mobile\\\">Mobile/Wechat</button>\");\n                    break;\n                case \"mp-wechat\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mp-wechat\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u516C\\u4F17\\u53F7\\\"><svg><use xlink:href=\\\"#vditor-icon-mp-wechat\\\"></use></svg></button>\");\n                    break;\n                case \"zhihu\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"zhihu\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u77E5\\u4E4E\\\"><svg><use xlink:href=\\\"#vditor-icon-zhihu\\\"></use></svg></button>\");\n                    break;\n            }\n        }\n        actionElement.innerHTML = actionHtml.join(\"\");\n        if (actions.length === 0) {\n            actionElement.style.display = \"none\";\n        }\n        this.element.appendChild(actionElement);\n        this.element.appendChild(previewElement);\n        actionElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btn = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (!btn) {\n                return;\n            }\n            var type = btn.getAttribute(\"data-type\");\n            var actionCustom = actions.find(function (w) { return (w === null || w === void 0 ? void 0 : w.key) === type; });\n            if (actionCustom) {\n                actionCustom.click(type);\n                return;\n            }\n            if (type === \"mp-wechat\" || type === \"zhihu\") {\n                _this.copyToX(vditor, _this.element.lastElementChild.cloneNode(true), type);\n                return;\n            }\n            if (type === \"desktop\") {\n                previewElement.style.width = \"auto\";\n            }\n            else if (type === \"tablet\") {\n                previewElement.style.width = \"780px\";\n            }\n            else {\n                previewElement.style.width = \"360px\";\n            }\n            if (previewElement.scrollWidth > previewElement.parentElement.clientWidth) {\n                previewElement.style.width = \"auto\";\n            }\n            _this.render(vditor);\n            actionElement.querySelectorAll(\"button\").forEach(function (item) {\n                item.classList.remove(\"vditor-preview__action--current\");\n            });\n            btn.classList.add(\"vditor-preview__action--current\");\n        });\n    }\n    Preview.prototype.render = function (vditor, value) {\n        var _this = this;\n        clearTimeout(this.mdTimeoutId);\n        if (this.element.style.display === \"none\") {\n            if (this.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n                vditor.tip.hide();\n            }\n            return;\n        }\n        if (value) {\n            this.element.lastElementChild.innerHTML = value;\n            return;\n        }\n        if (getMarkdown(vditor)\n            .replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\") === \"\") {\n            this.element.lastElementChild.innerHTML = \"\";\n            return;\n        }\n        var renderStartTime = new Date().getTime();\n        var markdownText = getMarkdown(vditor);\n        this.mdTimeoutId = window.setTimeout(function () {\n            if (vditor.options.preview.url) {\n                var xhr_1 = new XMLHttpRequest();\n                xhr_1.open(\"POST\", vditor.options.preview.url);\n                xhr_1.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n                xhr_1.onreadystatechange = function () {\n                    if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                        if (xhr_1.status === 200) {\n                            var responseJSON = JSON.parse(xhr_1.responseText);\n                            if (responseJSON.code !== 0) {\n                                vditor.tip.show(responseJSON.msg);\n                                return;\n                            }\n                            if (vditor.options.preview.transform) {\n                                responseJSON.data = vditor.options.preview.transform(responseJSON.data);\n                            }\n                            _this.element.lastElementChild.innerHTML = responseJSON.data;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                        else {\n                            var html = vditor.lute.Md2HTML(markdownText);\n                            if (vditor.options.preview.transform) {\n                                html = vditor.options.preview.transform(html);\n                            }\n                            _this.element.lastElementChild.innerHTML = html;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                    }\n                };\n                xhr_1.send(JSON.stringify({ markdownText: markdownText }));\n            }\n            else {\n                var html = vditor.lute.Md2HTML(markdownText);\n                if (vditor.options.preview.transform) {\n                    html = vditor.options.preview.transform(html);\n                }\n                _this.element.lastElementChild.innerHTML = html;\n                _this.afterRender(vditor, renderStartTime);\n            }\n        }, vditor.options.preview.delay);\n    };\n    Preview.prototype.afterRender = function (vditor, startTime) {\n        if (vditor.options.preview.parse) {\n            vditor.options.preview.parse(this.element);\n        }\n        var time = (new Date().getTime() - startTime);\n        if ((new Date().getTime() - startTime) > 2600) {\n            // https://github.com/b3log/vditor/issues/67\n            vditor.tip.show(window.VditorI18n.performanceTip.replace(\"${x}\", time.toString()));\n            vditor.preview.element.setAttribute(\"data-type\", \"renderPerformance\");\n        }\n        else if (vditor.preview.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n            vditor.tip.hide();\n            vditor.preview.element.removeAttribute(\"data-type\");\n        }\n        var cmtFocusElement = vditor.preview.element.querySelector(\".vditor-comment--focus\");\n        if (cmtFocusElement) {\n            cmtFocusElement.classList.remove(\"vditor-comment--focus\");\n        }\n        (0,codeRender/* codeRender */.O)(vditor.preview.element.lastElementChild);\n        (0,highlightRender/* highlightRender */.s)(vditor.options.preview.hljs, vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,mermaidRender/* mermaidRender */.i)(vditor.preview.element.lastElementChild, vditor.options.cdn, vditor.options.theme);\n        (0,flowchartRender/* flowchartRender */.P)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,graphvizRender/* graphvizRender */.v)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,chartRender/* chartRender */.p)(vditor.preview.element.lastElementChild, vditor.options.cdn, vditor.options.theme);\n        (0,mindmapRender/* mindmapRender */.P)(vditor.preview.element.lastElementChild, vditor.options.cdn, vditor.options.theme);\n        (0,plantumlRender/* plantumlRender */.B)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,abcRender/* abcRender */.Q)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,mediaRender/* mediaRender */.Y)(vditor.preview.element.lastElementChild);\n        // toc render\n        var editorElement = vditor.preview.element;\n        var tocHTML = vditor.outline.render(vditor);\n        if (tocHTML === \"\") {\n            tocHTML = \"[ToC]\";\n        }\n        editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n            item.innerHTML = tocHTML;\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        (0,mathRender/* mathRender */.H)(vditor.preview.element.lastElementChild, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    };\n    Preview.prototype.copyToX = function (vditor, copyElement, type) {\n        if (type === void 0) { type = \"mp-wechat\"; }\n        // fix math render\n        if (type !== \"zhihu\") {\n            copyElement.querySelectorAll(\".katex-html .base\").forEach(function (item) {\n                item.style.display = \"initial\";\n            });\n        }\n        else {\n            copyElement.querySelectorAll(\".language-math\").forEach(function (item) {\n                item.outerHTML = \"<img class=\\\"Formula-image\\\" data-eeimg=\\\"true\\\" src=\\\"//www.zhihu.com/equation?tex=\\\" alt=\\\"\" + item.getAttribute(\"data-math\") + \"\\\\\\\" style=\\\"display: block; margin: 0 auto; max-width: 100%;\\\">\";\n            });\n        }\n        // 防止背景色被粘贴到公众号中\n        copyElement.style.backgroundColor = \"#fff\";\n        // 代码背景\n        copyElement.querySelectorAll(\"code\").forEach(function (item) {\n            item.style.backgroundImage = \"none\";\n        });\n        this.element.append(copyElement);\n        var range = copyElement.ownerDocument.createRange();\n        range.selectNode(copyElement);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        document.execCommand(\"copy\");\n        this.element.lastElementChild.remove();\n        vditor.tip.show(\"\\u5DF2\\u590D\\u5236\\uFF0C\\u53EF\\u5230\" + (type === \"zhihu\" ? \"知乎\" : \"微信公众号平台\") + \"\\u8FDB\\u884C\\u7C98\\u8D34\");\n    };\n    return Preview;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/resize/index.ts\nvar Resize = /** @class */ (function () {\n    function Resize(vditor) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-resize vditor-resize--\" + vditor.options.resize.position;\n        this.element.innerHTML = \"<div><svg><use xlink:href=\\\"#vditor-icon-resize\\\"></use></svg></div>\";\n        this.bindEvent(vditor);\n    }\n    Resize.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"mousedown\", function (event) {\n            var documentSelf = document;\n            var y = event.clientY;\n            var height = vditor.element.offsetHeight;\n            var minHeight = 63 + vditor.element.querySelector(\".vditor-toolbar\").clientHeight;\n            documentSelf.ondragstart = function () { return false; };\n            if (window.captureEvents) {\n                window.captureEvents();\n            }\n            _this.element.classList.add(\"vditor-resize--selected\");\n            documentSelf.onmousemove = function (moveEvent) {\n                if (vditor.options.resize.position === \"top\") {\n                    vditor.element.style.height = Math.max(minHeight, height + (y - moveEvent.clientY)) + \"px\";\n                }\n                else {\n                    vditor.element.style.height = Math.max(minHeight, height + (moveEvent.clientY - y)) + \"px\";\n                }\n                if (vditor.options.typewriterMode) {\n                    vditor.sv.element.style.paddingBottom =\n                        vditor.sv.element.parentElement.offsetHeight / 2 + \"px\";\n                }\n            };\n            documentSelf.onmouseup = function () {\n                if (vditor.options.resize.after) {\n                    vditor.options.resize.after(vditor.element.offsetHeight - height);\n                }\n                if (window.captureEvents) {\n                    window.captureEvents();\n                }\n                documentSelf.onmousemove = null;\n                documentSelf.onmouseup = null;\n                documentSelf.ondragstart = null;\n                documentSelf.onselectstart = null;\n                documentSelf.onselect = null;\n                _this.element.classList.remove(\"vditor-resize--selected\");\n            };\n        });\n    };\n    return Resize;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/sv/index.ts\n\n\n\n\n\nvar Editor = /** @class */ (function () {\n    function Editor(vditor) {\n        this.composingLock = false;\n        this.element = document.createElement(\"pre\");\n        this.element.className = \"vditor-sv vditor-reset\";\n        this.element.setAttribute(\"placeholder\", vditor.options.placeholder);\n        this.element.setAttribute(\"contenteditable\", \"true\");\n        this.element.setAttribute(\"spellcheck\", \"false\");\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    Editor.prototype.copy = function (event, vditor) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.clipboardData.setData(\"text/plain\", getSelectText(vditor[vditor.currentMode].element));\n    };\n    Editor.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            if (vditor.preview.element.style.display !== \"block\") {\n                return;\n            }\n            var textScrollTop = _this.element.scrollTop;\n            var textHeight = _this.element.clientHeight;\n            var textScrollHeight = _this.element.scrollHeight - parseFloat(_this.element.style.paddingBottom || \"0\");\n            var preview = vditor.preview.element;\n            if ((textScrollTop / textHeight > 0.5)) {\n                preview.scrollTop = (textScrollTop + textHeight) *\n                    preview.scrollHeight / textScrollHeight - textHeight;\n            }\n            else {\n                preview.scrollTop = textScrollTop *\n                    preview.scrollHeight / textScrollHeight;\n            }\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                inputEvent(vditor, event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                return;\n            }\n            inputEvent(vditor, event);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.sv.element.innerHTML !== \"\" && vditor.sv.element.childNodes.length === 1 &&\n                vditor.sv.element.firstElementChild && vditor.sv.element.firstElementChild.tagName === \"DIV\"\n                && vditor.sv.element.firstElementChild.childElementCount === 2\n                && (vditor.sv.element.firstElementChild.textContent === \"\" || vditor.sv.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.sv.element.innerHTML = \"\";\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n        });\n    };\n    return Editor;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/tip/index.ts\nvar Tip = /** @class */ (function () {\n    function Tip() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-tip\";\n    }\n    Tip.prototype.show = function (text, time) {\n        var _this = this;\n        if (time === void 0) { time = 6000; }\n        this.element.className = \"vditor-tip vditor-tip--show\";\n        if (time === 0) {\n            this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\" + text + \"\\n<div class=\\\"vditor-tip__close\\\">X</div></div>\";\n            this.element.querySelector(\".vditor-tip__close\").addEventListener(\"click\", function () {\n                _this.hide();\n            });\n            return;\n        }\n        this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\" + text + \"</div>\";\n        setTimeout(function () {\n            _this.hide();\n        }, time);\n    };\n    Tip.prototype.hide = function () {\n        this.element.className = \"vditor-messageElementtip\";\n        this.element.innerHTML = \"\";\n    };\n    return Tip;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ui/setPreviewMode.ts\n\n\nvar setPreviewMode = function (mode, vditor) {\n    if (vditor.options.preview.mode === mode) {\n        return;\n    }\n    vditor.options.preview.mode = mode;\n    switch (mode) {\n        case \"both\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"block\";\n            vditor.preview.render(vditor);\n            setCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        case \"editor\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"none\";\n            removeCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        default:\n            break;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Both.ts\nvar Both_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Both = /** @class */ (function (_super) {\n    Both_extends(Both, _super);\n    function Both(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.preview.mode === \"both\") {\n            _this.element.children[0].classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (vditor.currentMode !== \"sv\") {\n                return;\n            }\n            if (vditor.options.preview.mode === \"both\") {\n                setPreviewMode(\"editor\", vditor);\n            }\n            else {\n                setPreviewMode(\"both\", vditor);\n            }\n        });\n        return _this;\n    }\n    return Both;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Br.ts\nvar Br = /** @class */ (function () {\n    function Br() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__br\";\n    }\n    return Br;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(968);\n;// CONCATENATED MODULE: ./src/ts/toolbar/CodeTheme.ts\nvar CodeTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar CodeTheme = /** @class */ (function (_super) {\n    CodeTheme_extends(CodeTheme, _super);\n    function CodeTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        constants/* Constants.CODE_THEME.forEach */.g.CODE_THEME.forEach(function (theme) {\n            innerHTML += \"<button>\" + theme + \"</button>\";\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\" + window.innerHeight / 2 + \"px\\\">\" + innerHTML + \"</div>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.hljs.style = event.target.textContent;\n                (0,setCodeTheme/* setCodeTheme */.Y)(event.target.textContent, vditor.options.cdn);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return CodeTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/ContentTheme.ts\nvar ContentTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ContentTheme = /** @class */ (function (_super) {\n    ContentTheme_extends(ContentTheme, _super);\n    function ContentTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        Object.keys(vditor.options.preview.theme.list).forEach(function (key) {\n            innerHTML += \"<button data-type=\\\"\" + key + \"\\\">\" + vditor.options.preview.theme.list[key] + \"</button>\";\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\" + window.innerHeight / 2 + \"px\\\">\" + innerHTML + \"</div>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.theme.current = event.target.getAttribute(\"data-type\");\n                (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return ContentTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Counter.ts\nvar Counter = /** @class */ (function () {\n    function Counter(vditor) {\n        this.element = document.createElement(\"span\");\n        this.element.className = \"vditor-counter vditor-tooltipped vditor-tooltipped__nw\";\n        this.render(vditor, \"\");\n    }\n    Counter.prototype.render = function (vditor, mdText) {\n        var length = mdText.endsWith(\"\\n\") ? mdText.length - 1 : mdText.length;\n        if (vditor.options.counter.type === \"text\" && vditor[vditor.currentMode]) {\n            var tempElement = vditor[vditor.currentMode].element.cloneNode(true);\n            tempElement.querySelectorAll(\".vditor-wysiwyg__preview\").forEach(function (item) {\n                item.remove();\n            });\n            length = tempElement.textContent.length;\n        }\n        if (typeof vditor.options.counter.max === \"number\") {\n            if (length > vditor.options.counter.max) {\n                this.element.className = \"vditor-counter vditor-counter--error\";\n            }\n            else {\n                this.element.className = \"vditor-counter\";\n            }\n            this.element.innerHTML = length + \"/\" + vditor.options.counter.max;\n        }\n        else {\n            this.element.innerHTML = \"\" + length;\n        }\n        this.element.setAttribute(\"aria-label\", vditor.options.counter.type);\n        if (vditor.options.counter.after) {\n            vditor.options.counter.after(length, {\n                enable: vditor.options.counter.enable,\n                max: vditor.options.counter.max,\n                type: vditor.options.counter.type,\n            });\n        }\n    };\n    return Counter;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Custom.ts\nvar Custom_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Custom = /** @class */ (function (_super) {\n    Custom_extends(Custom, _super);\n    function Custom(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].innerHTML = menuItem.icon;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (event.currentTarget.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            menuItem.click(event, vditor);\n        });\n        return _this;\n    }\n    return Custom;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Devtools.ts\nvar Devtools_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Devtools = /** @class */ (function (_super) {\n    Devtools_extends(Devtools, _super);\n    function Devtools(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.firstElementChild.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"none\";\n                setPadding(vditor);\n            }\n            else {\n                btnElement.classList.add(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"block\";\n                setPadding(vditor);\n                vditor.devtools.renderEchart(vditor);\n            }\n        });\n        return _this;\n    }\n    return Devtools;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Divider.ts\nvar Divider = /** @class */ (function () {\n    function Divider() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__divider\";\n    }\n    return Divider;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Emoji.ts\nvar Emoji_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Emoji = /** @class */ (function (_super) {\n    Emoji_extends(Emoji, _super);\n    function Emoji(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-panel vditor-panel--arrow\";\n        var commonEmojiHTML = \"\";\n        Object.keys(vditor.options.hint.emoji).forEach(function (key) {\n            var emojiValue = vditor.options.hint.emoji[key];\n            if (emojiValue.indexOf(\".\") > -1) {\n                commonEmojiHTML += \"<button data-value=\\\":\" + key + \": \\\" data-key=\\\":\" + key + \":\\\"><img\\ndata-value=\\\":\" + key + \": \\\" data-key=\\\":\" + key + \":\\\" class=\\\"vditor-emojis__icon\\\" src=\\\"\" + emojiValue + \"\\\"/></button>\";\n            }\n            else {\n                commonEmojiHTML += \"<button data-value=\\\"\" + emojiValue + \" \\\"\\n data-key=\\\"\" + key + \"\\\"><span class=\\\"vditor-emojis__icon\\\">\" + emojiValue + \"</span></button>\";\n            }\n        });\n        var tailHTML = \"<div class=\\\"vditor-emojis__tail\\\">\\n    <span class=\\\"vditor-emojis__tip\\\"></span><span>\" + (vditor.options.hint.emojiTail || \"\") + \"</span>\\n</div>\";\n        panelElement.innerHTML = \"<div class=\\\"vditor-emojis\\\" style=\\\"max-height: \" + (vditor.options.height === \"auto\" ? \"auto\" : vditor.options.height - 80) + \"px\\\">\" + commonEmojiHTML + \"</div>\" + tailHTML;\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, _this.element.children[0], menuItem.level);\n        _this._bindEvent(vditor, panelElement);\n        return _this;\n    }\n    Emoji.prototype._bindEvent = function (vditor, panelElement) {\n        panelElement.querySelectorAll(\".vditor-emojis button\").forEach(function (element) {\n            element.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                event.preventDefault();\n                var value = element.getAttribute(\"data-value\");\n                var range = (0,selection/* getEditorRange */.zh)(vditor);\n                var html = value;\n                if (vditor.currentMode === \"wysiwyg\") {\n                    html = vditor.lute.SpinVditorDOM(value);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    html = vditor.lute.SpinVditorIRDOM(value);\n                }\n                if (value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                    var tempElement = document.createElement(\"div\");\n                    tempElement.innerHTML = html;\n                    html = tempElement.firstElementChild.firstElementChild.outerHTML + \" \";\n                    (0,selection/* insertHTML */.oC)(html, vditor);\n                }\n                else {\n                    range.extractContents();\n                    range.insertNode(document.createTextNode(value));\n                }\n                range.collapse(false);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                panelElement.style.display = \"none\";\n                execAfterRender(vditor);\n            });\n            element.addEventListener(\"mouseover\", function (event) {\n                if (event.target.tagName === \"BUTTON\") {\n                    panelElement.querySelector(\".vditor-emojis__tip\").innerHTML =\n                        event.target.getAttribute(\"data-key\");\n                }\n            });\n        });\n    };\n    return Emoji;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/export/index.ts\n\n\nvar download = function (vditor, content, filename) {\n    var aElement = document.createElement(\"a\");\n    if (\"download\" in aElement) {\n        aElement.download = filename;\n        aElement.style.display = \"none\";\n        aElement.href = URL.createObjectURL(new Blob([content]));\n        document.body.appendChild(aElement);\n        aElement.click();\n        aElement.remove();\n    }\n    else {\n        vditor.tip.show(window.VditorI18n.downloadTip, 0);\n    }\n};\nvar exportMarkdown = function (vditor) {\n    var content = getMarkdown(vditor);\n    download(vditor, content, content.substr(0, 10) + \".md\");\n};\nvar exportPDF = function (vditor) {\n    vditor.tip.show(window.VditorI18n.generate, 3800);\n    var iframe = document.querySelector(\"iframe\");\n    iframe.contentDocument.open();\n    iframe.contentDocument.write(\"<link rel=\\\"stylesheet\\\" href=\\\"\" + vditor.options.cdn + \"/dist/index.css\\\"/>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/method.min.js\\\"></script>\\n<div id=\\\"preview\\\"></div>\\n<script>\\nwindow.addEventListener(\\\"message\\\", (e) => {\\n  if(!e.data) {\\n    return;\\n  }\\n  Vditor.preview(document.getElementById('preview'), e.data, {\\n    markdown: {\\n      theme: \\\"\" + vditor.options.preview.theme + \"\\\"\\n    },\\n    hljs: {\\n      style: \\\"\" + vditor.options.preview.hljs.style + \"\\\"\\n    }\\n  });\\n  setTimeout(() => {\\n        window.print();\\n    }, 3600);\\n}, false);\\n</script>\");\n    iframe.contentDocument.close();\n    setTimeout(function () {\n        iframe.contentWindow.postMessage(getMarkdown(vditor), \"*\");\n    }, 200);\n};\nvar exportHTML = function (vditor) {\n    var content = getHTML(vditor);\n    var html = \"<html><head><link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\" + vditor.options.cdn + \"/dist/index.css\\\"/>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/js/i18n/\" + vditor.options.lang + \".js\\\"></script>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/method.min.js\\\"></script></head>\\n<body><div class=\\\"vditor-reset\\\" id=\\\"preview\\\">\" + content + \"</div>\\n<script>\\n    const previewElement = document.getElementById('preview')\\n    Vditor.setContentTheme('\" + vditor.options.preview.theme.current + \"', '\" + vditor.options.preview.theme.path + \"');\\n    Vditor.codeRender(previewElement);\\n    Vditor.highlightRender(\" + JSON.stringify(vditor.options.preview.hljs) + \", previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.mathRender(previewElement, {\\n        cdn: '\" + vditor.options.cdn + \"',\\n        math: \" + JSON.stringify(vditor.options.preview.math) + \",\\n    });\\n    Vditor.mermaidRender(previewElement, '\" + vditor.options.cdn + \"', '\" + vditor.options.theme + \"');\\n    Vditor.flowchartRender(previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.graphvizRender(previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.chartRender(previewElement, '\" + vditor.options.cdn + \"', '\" + vditor.options.theme + \"');\\n    Vditor.mindmapRender(previewElement, '\" + vditor.options.cdn + \"', '\" + vditor.options.theme + \"');\\n    Vditor.abcRender(previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.mediaRender(previewElement);\\n    Vditor.speechRender(previewElement);\\n</script>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/js/icons/\" + vditor.options.icon + \".js\\\"></script></body></html>\";\n    download(vditor, html, content.substr(0, 10) + \".html\");\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Export.ts\nvar Export_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Export = /** @class */ (function (_super) {\n    Export_extends(Export, _super);\n    function Export(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-type=\\\"markdown\\\">Markdown</button>\\n<button data-type=\\\"pdf\\\">PDF</button>\\n<button data-type=\\\"html\\\">HTML</button>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = event.target;\n            if (btnElement.tagName === \"BUTTON\") {\n                switch (btnElement.getAttribute(\"data-type\")) {\n                    case \"markdown\":\n                        exportMarkdown(vditor);\n                        break;\n                    case \"pdf\":\n                        exportPDF(vditor);\n                        break;\n                    case \"html\":\n                        exportHTML(vditor);\n                        break;\n                    default:\n                        break;\n                }\n                hidePanel(vditor, [\"subToolbar\"]);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return Export;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Fullscreen.ts\nvar Fullscreen_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Fullscreen = /** @class */ (function (_super) {\n    Fullscreen_extends(Fullscreen, _super);\n    function Fullscreen(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor, menuItem);\n        return _this;\n    }\n    Fullscreen.prototype._bindEvent = function (vditor, menuItem) {\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (vditor.element.className.includes(\"vditor--fullscreen\")) {\n                if (!menuItem.level) {\n                    this.innerHTML = menuItem.icon;\n                }\n                vditor.element.style.zIndex = \"\";\n                document.body.style.overflow = \"\";\n                vditor.element.classList.remove(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__s\", \"__n\");\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__s\", \"__n\");\n                }\n            }\n            else {\n                if (!menuItem.level) {\n                    this.innerHTML = '<svg><use xlink:href=\"#vditor-icon-contract\"></use></svg>';\n                }\n                vditor.element.style.zIndex = vditor.options.fullscreen.index.toString();\n                document.body.style.overflow = \"hidden\";\n                vditor.element.classList.add(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__n\", \"__s\");\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__n\", \"__s\");\n                }\n            }\n            if (vditor.devtools) {\n                vditor.devtools.renderEchart(vditor);\n            }\n            if (menuItem.click) {\n                menuItem.click(event, vditor);\n            }\n            setPadding(vditor);\n            setTypewriterPosition(vditor);\n        });\n    };\n    return Fullscreen;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Headings.ts\nvar Headings_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar Headings = /** @class */ (function (_super) {\n    Headings_extends(Headings, _super);\n    function Headings(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint vditor-panel--arrow\";\n        panelElement.innerHTML = \"<button data-tag=\\\"h1\\\" data-value=\\\"# \\\">\" + window.VditorI18n.heading1 + \" \" + (0,compatibility/* updateHotkeyTip */.ns)(\"&lt;⌥⌘1>\") + \"</button>\\n<button data-tag=\\\"h2\\\" data-value=\\\"## \\\">\" + window.VditorI18n.heading2 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘2\") + \"></button>\\n<button data-tag=\\\"h3\\\" data-value=\\\"### \\\">\" + window.VditorI18n.heading3 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘3\") + \"></button>\\n<button data-tag=\\\"h4\\\" data-value=\\\"#### \\\">\" + window.VditorI18n.heading4 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘4\") + \"></button>\\n<button data-tag=\\\"h5\\\" data-value=\\\"##### \\\">\" + window.VditorI18n.heading5 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘5\") + \"></button>\\n<button data-tag=\\\"h6\\\" data-value=\\\"###### \\\">\" + window.VditorI18n.heading6 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘6\") + \"></button>\";\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement);\n        return _this;\n    }\n    Headings.prototype._bindEvent = function (vditor, panelElement) {\n        var actionBtn = this.element.children[0];\n        actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            actionBtn.blur();\n            if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n                if (vditor.currentMode === \"wysiwyg\") {\n                    removeHeading(vditor);\n                    afterRenderEvent(vditor);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, \"\");\n                }\n                actionBtn.classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                hidePanel(vditor, [\"subToolbar\"]);\n                panelElement.style.display = \"block\";\n            }\n        });\n        for (var i = 0; i < 6; i++) {\n            panelElement.children.item(i).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                event.preventDefault();\n                if (vditor.currentMode === \"wysiwyg\") {\n                    setHeading(vditor, event.target.getAttribute(\"data-tag\"));\n                    afterRenderEvent(vditor);\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else {\n                    processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                }\n                panelElement.style.display = \"none\";\n            });\n        }\n    };\n    return Headings;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Help.ts\nvar Help_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Help = /** @class */ (function (_super) {\n    Help_extends(Help, _super);\n    function Help(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;\\\">\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Markdown \\u4F7F\\u7528\\u6307\\u5357</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://ld246.com/article/1583308420519\\\" target=\\\"_blank\\\">\\u8BED\\u6CD5\\u901F\\u67E5\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583129520165\\\" target=\\\"_blank\\\">\\u57FA\\u7840\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583305480675\\\" target=\\\"_blank\\\">\\u6269\\u5C55\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1582778815353\\\" target=\\\"_blank\\\">\\u952E\\u76D8\\u5FEB\\u6377\\u952E</a></li>\\n    </ul>\\n</div>\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Vditor \\u652F\\u6301</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://github.com/Vanessa219/vditor/issues\\\" target=\\\"_blank\\\">Issues</a></li>\\n        <li><a href=\\\"https://ld246.com/tag/vditor\\\" target=\\\"_blank\\\">\\u5B98\\u65B9\\u8BA8\\u8BBA\\u533A</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1549638745630\\\" target=\\\"_blank\\\">\\u5F00\\u53D1\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/guide/markdown\\\" target=\\\"_blank\\\">\\u6F14\\u793A\\u5730\\u5740</a></li>\\n    </ul>\\n</div></div>\", 0);\n        });\n        return _this;\n    }\n    return Help;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Indent.ts\nvar Indent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Indent = /** @class */ (function (_super) {\n    Indent_extends(Indent, _super);\n    function Indent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listIndent(vditor, liElement, range);\n            }\n        });\n        return _this;\n    }\n    return Indent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Info.ts\nvar Info_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Info = /** @class */ (function (_super) {\n    Info_extends(Info, _super);\n    function Info(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;\\\">\\n<p style=\\\"text-align: center;margin: 14px 0\\\">\\n    <em>\\u4E0B\\u4E00\\u4EE3\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u4E3A\\u672A\\u6765\\u800C\\u6784\\u5EFA</em>\\n</p>\\n<div style=\\\"display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center\\\">\\n    <img src=\\\"https://cdn.jsdelivr.net/npm/vditor/src/assets/images/logo.png\\\" style=\\\"margin: 0 auto;height: 68px\\\"/>\\n    <div>&nbsp;&nbsp;</div>\\n    <div style=\\\"flex: 1;min-width: 250px\\\">\\n        Vditor \\u662F\\u4E00\\u6B3E\\u6D4F\\u89C8\\u5668\\u7AEF\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u652F\\u6301\\u6240\\u89C1\\u5373\\u6240\\u5F97\\u3001\\u5373\\u65F6\\u6E32\\u67D3\\uFF08\\u7C7B\\u4F3C Typora\\uFF09\\u548C\\u5206\\u5C4F\\u9884\\u89C8\\u6A21\\u5F0F\\u3002\\n        \\u5B83\\u4F7F\\u7528 TypeScript \\u5B9E\\u73B0\\uFF0C\\u652F\\u6301\\u539F\\u751F JavaScript\\u3001Vue\\u3001React\\u3001Angular\\uFF0C\\u63D0\\u4F9B<a target=\\\"_blank\\\" href=\\\"https://b3log.org/siyuan\\\">\\u684C\\u9762\\u7248</a>\\u3002\\n    </div>\\n</div>\\n<div style=\\\"display: flex;flex-wrap: wrap;\\\">\\n    <ul style=\\\"list-style: none;flex: 1;min-width:148px\\\">\\n        <li>\\n        \\u9879\\u76EE\\u5730\\u5740\\uFF1A<a href=\\\"https://b3log.org/vditor\\\" target=\\\"_blank\\\">b3log.org/vditor</a>\\n        </li>\\n        <li>\\n        \\u5F00\\u6E90\\u534F\\u8BAE\\uFF1AMIT\\n        </li>\\n    </ul>\\n    <ul style=\\\"list-style: none;margin-right: 18px\\\">\\n        <li>\\n        \\u7EC4\\u4EF6\\u7248\\u672C\\uFF1AVditor v\" + constants/* VDITOR_VERSION */.H + \" / Lute v\" + Lute.Version + \"\\n        </li>\\n        <li>\\n        \\u8D5E\\u52A9\\u6350\\u8D60\\uFF1A<a href=\\\"https://ld246.com/sponsor\\\" target=\\\"_blank\\\">https://ld246.com/sponsor</a>\\n        </li>\\n    </ul>\\n</div>\\n</div>\", 0);\n        });\n        return _this;\n    }\n    return Info;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertAfter.ts\nvar InsertAfter_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertAfter = /** @class */ (function (_super) {\n    InsertAfter_extends(InsertAfter, _super);\n    function InsertAfter(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"afterend\");\n        });\n        return _this;\n    }\n    return InsertAfter;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertBefore.ts\nvar InsertBefore_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertBefore = /** @class */ (function (_super) {\n    InsertBefore_extends(InsertBefore, _super);\n    function InsertBefore(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"beforebegin\");\n        });\n        return _this;\n    }\n    return InsertBefore;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outdent.ts\nvar Outdent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Outdent = /** @class */ (function (_super) {\n    Outdent_extends(Outdent, _super);\n    function Outdent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listOutdent(vditor, liElement, range, liElement.parentElement);\n            }\n        });\n        return _this;\n    }\n    return Outdent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outline.ts\nvar Outline_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Outline_Outline = /** @class */ (function (_super) {\n    Outline_extends(Outline, _super);\n    function Outline(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.outline) {\n            _this.element.firstElementChild.classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = vditor.toolbar.elements.outline.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.options.outline.enable = !_this.element.firstElementChild.classList.contains(\"vditor-menu--current\");\n            vditor.outline.toggle(vditor, vditor.options.outline.enable);\n        });\n        return _this;\n    }\n    return Outline;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Preview.ts\nvar Preview_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Preview_Preview = /** @class */ (function (_super) {\n    Preview_extends(Preview, _super);\n    function Preview(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Preview.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var toolbars = constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"both\", \"edit-mode\", \"devtools\"]);\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"block\";\n                    if (vditor.options.preview.mode === \"both\") {\n                        vditor.preview.element.style.display = \"block\";\n                    }\n                    else {\n                        vditor.preview.element.style.display = \"none\";\n                    }\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"block\";\n                    vditor.preview.element.style.display = \"none\";\n                }\n                enableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.outline.render(vditor);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.preview.element.style.display = \"block\";\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"none\";\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"none\";\n                }\n                vditor.preview.render(vditor);\n                btnElement.classList.add(\"vditor-menu--current\");\n                hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n                setTimeout(function () {\n                    vditor.outline.render(vditor);\n                }, vditor.options.preview.delay + 10);\n            }\n            setPadding(vditor);\n        });\n    };\n    return Preview;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/RecordMedia.ts\nvar RecordMedia = /** @class */ (function () {\n    function RecordMedia(e) {\n        this.SAMPLE_RATE = 5000; // 44100 suggested by demos;\n        this.isRecording = false;\n        this.readyFlag = false;\n        this.leftChannel = [];\n        this.rightChannel = [];\n        this.recordingLength = 0;\n        var context;\n        // creates the audio context\n        if (typeof AudioContext !== \"undefined\") {\n            context = new AudioContext();\n        }\n        else if (webkitAudioContext) {\n            context = new webkitAudioContext();\n        }\n        else {\n            return;\n        }\n        this.DEFAULT_SAMPLE_RATE = context.sampleRate;\n        // creates a gain node\n        var volume = context.createGain();\n        // creates an audio node from the microphone incoming stream\n        var audioInput = context.createMediaStreamSource(e);\n        // connect the stream to the gain node\n        audioInput.connect(volume);\n        /* From the spec: The size of the buffer controls how frequently the audioprocess event is\n         dispatched and how many sample-frames need to be processed each call.\n         Lower values for buffer size will result in a lower (better) latency.\n         Higher values will be necessary to avoid audio breakup and glitches */\n        this.recorder = context.createScriptProcessor(2048, 2, 1);\n        // The onaudioprocess event needs to be defined externally, so make sure it is not set:\n        this.recorder.onaudioprocess = null;\n        // we connect the recorder\n        volume.connect(this.recorder);\n        this.recorder.connect(context.destination);\n        this.readyFlag = true;\n    }\n    // Publicly accessible methods:\n    RecordMedia.prototype.cloneChannelData = function (leftChannelData, rightChannelData) {\n        this.leftChannel.push(new Float32Array(leftChannelData));\n        this.rightChannel.push(new Float32Array(rightChannelData));\n        this.recordingLength += 2048;\n    };\n    RecordMedia.prototype.startRecordingNewWavFile = function () {\n        if (this.readyFlag) {\n            this.isRecording = true;\n            this.leftChannel.length = this.rightChannel.length = 0;\n            this.recordingLength = 0;\n        }\n    };\n    RecordMedia.prototype.stopRecording = function () {\n        this.isRecording = false;\n    };\n    RecordMedia.prototype.buildWavFileBlob = function () {\n        // we flat the left and right channels down\n        var leftBuffer = this.mergeBuffers(this.leftChannel);\n        var rightBuffer = this.mergeBuffers(this.rightChannel);\n        // Interleave the left and right channels together:\n        var interleaved = new Float32Array(leftBuffer.length);\n        for (var i = 0; i < leftBuffer.length; ++i) {\n            interleaved[i] = 0.5 * (leftBuffer[i] + rightBuffer[i]);\n        }\n        // Downsample the audio data if necessary:\n        if (this.DEFAULT_SAMPLE_RATE > this.SAMPLE_RATE) {\n            interleaved = this.downSampleBuffer(interleaved, this.SAMPLE_RATE);\n        }\n        var totalByteCount = (44 + interleaved.length * 2);\n        var buffer = new ArrayBuffer(totalByteCount);\n        var view = new DataView(buffer);\n        // Build the RIFF chunk descriptor:\n        this.writeUTFBytes(view, 0, \"RIFF\");\n        view.setUint32(4, totalByteCount, true);\n        this.writeUTFBytes(view, 8, \"WAVE\");\n        // Build the FMT sub-chunk:\n        this.writeUTFBytes(view, 12, \"fmt \"); // subchunk1 ID is format\n        view.setUint32(16, 16, true); // The sub-chunk size is 16.\n        view.setUint16(20, 1, true); // The audio format is 1.\n        view.setUint16(22, 1, true); // Number of interleaved channels.\n        view.setUint32(24, this.SAMPLE_RATE, true); // Sample rate.\n        view.setUint32(28, this.SAMPLE_RATE * 2, true); // Byte rate.\n        view.setUint16(32, 2, true); // Block align\n        view.setUint16(34, 16, true); // Bits per sample.\n        // Build the data sub-chunk:\n        var subChunk2ByteCount = interleaved.length * 2;\n        this.writeUTFBytes(view, 36, \"data\");\n        view.setUint32(40, subChunk2ByteCount, true);\n        // Write the PCM samples to the view:\n        var lng = interleaved.length;\n        var index = 44;\n        var volume = 1;\n        for (var j = 0; j < lng; j++) {\n            view.setInt16(index, interleaved[j] * (0x7FFF * volume), true);\n            index += 2;\n        }\n        return new Blob([view], { type: \"audio/wav\" });\n    };\n    RecordMedia.prototype.downSampleBuffer = function (buffer, rate) {\n        if (rate === this.DEFAULT_SAMPLE_RATE) {\n            return buffer;\n        }\n        if (rate > this.DEFAULT_SAMPLE_RATE) {\n            // throw \"downsampling rate show be smaller than original sample rate\";\n            return buffer;\n        }\n        var sampleRateRatio = this.DEFAULT_SAMPLE_RATE / rate;\n        var newLength = Math.round(buffer.length / sampleRateRatio);\n        var result = new Float32Array(newLength);\n        var offsetResult = 0;\n        var offsetBuffer = 0;\n        while (offsetResult < result.length) {\n            var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n            var accum = 0;\n            var count = 0;\n            for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n                accum += buffer[i];\n                count++;\n            }\n            result[offsetResult] = accum / count;\n            offsetResult++;\n            offsetBuffer = nextOffsetBuffer;\n        }\n        return result;\n    };\n    RecordMedia.prototype.mergeBuffers = function (desiredChannelBuffer) {\n        var result = new Float32Array(this.recordingLength);\n        var offset = 0;\n        var lng = desiredChannelBuffer.length;\n        for (var i = 0; i < lng; ++i) {\n            var buffer = desiredChannelBuffer[i];\n            result.set(buffer, offset);\n            offset += buffer.length;\n        }\n        return result;\n    };\n    RecordMedia.prototype.writeUTFBytes = function (view, offset, value) {\n        var lng = value.length;\n        for (var i = 0; i < lng; i++) {\n            view.setUint8(offset + i, value.charCodeAt(i));\n        }\n    };\n    return RecordMedia;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Record.ts\nvar Record_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Record = /** @class */ (function (_super) {\n    Record_extends(Record, _super);\n    function Record(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Record.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        var mediaRecorder;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var editorElement = vditor[vditor.currentMode].element;\n            if (!mediaRecorder) {\n                navigator.mediaDevices.getUserMedia({ audio: true }).then(function (mediaStream) {\n                    mediaRecorder = new RecordMedia(mediaStream);\n                    mediaRecorder.recorder.onaudioprocess = function (e) {\n                        // Do nothing if not recording:\n                        if (!mediaRecorder.isRecording) {\n                            return;\n                        }\n                        // Copy the data from the input buffers;\n                        var left = e.inputBuffer.getChannelData(0);\n                        var right = e.inputBuffer.getChannelData(1);\n                        mediaRecorder.cloneChannelData(left, right);\n                    };\n                    mediaRecorder.startRecordingNewWavFile();\n                    vditor.tip.show(window.VditorI18n.recording);\n                    editorElement.setAttribute(\"contenteditable\", \"false\");\n                    _this.element.children[0].classList.add(\"vditor-menu--current\");\n                }).catch(function () {\n                    vditor.tip.show(window.VditorI18n[\"record-tip\"]);\n                });\n                return;\n            }\n            if (mediaRecorder.isRecording) {\n                mediaRecorder.stopRecording();\n                vditor.tip.hide();\n                var file = new File([mediaRecorder.buildWavFileBlob()], \"record\" + (new Date()).getTime() + \".wav\", { type: \"video/webm\" });\n                uploadFiles(vditor, [file]);\n                _this.element.children[0].classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                vditor.tip.show(window.VditorI18n.recording);\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                mediaRecorder.startRecordingNewWavFile();\n                _this.element.children[0].classList.add(\"vditor-menu--current\");\n            }\n        });\n    };\n    return Record;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Redo.ts\nvar Redo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Redo = /** @class */ (function (_super) {\n    Redo_extends(Redo, _super);\n    function Redo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ redo: _this.element }, [\"redo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.redo(vditor);\n        });\n        return _this;\n    }\n    return Redo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Undo.ts\nvar Undo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Undo = /** @class */ (function (_super) {\n    Undo_extends(Undo, _super);\n    function Undo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ undo: _this.element }, [\"undo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.undo(vditor);\n        });\n        return _this;\n    }\n    return Undo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Upload.ts\nvar Upload_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Upload_Upload = /** @class */ (function (_super) {\n    Upload_extends(Upload, _super);\n    function Upload(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var inputHTML = '<input type=\"file\"';\n        if (vditor.options.upload.multiple) {\n            inputHTML += ' multiple=\"multiple\"';\n        }\n        if (vditor.options.upload.accept) {\n            inputHTML += \" accept=\\\"\" + vditor.options.upload.accept + \"\\\"\";\n        }\n        _this.element.children[0].innerHTML = \"\" + (menuItem.icon || '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>') + inputHTML + \">\";\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Upload.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n        });\n        this.element.querySelector(\"input\").addEventListener(\"change\", function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n            if (event.target.files.length === 0) {\n                return;\n            }\n            uploadFiles(vditor, event.target.files, event.target);\n        });\n    };\n    return Upload;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(vditor) {\n        var _this = this;\n        var options = vditor.options;\n        this.elements = {};\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar\";\n        options.toolbar.forEach(function (menuItem, i) {\n            var itemElement = _this.genItem(vditor, menuItem, i);\n            _this.element.appendChild(itemElement);\n            if (menuItem.toolbar) {\n                var panelElement_1 = document.createElement(\"div\");\n                panelElement_1.className = \"vditor-hint vditor-panel--arrow\";\n                panelElement_1.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                    panelElement_1.style.display = \"none\";\n                });\n                menuItem.toolbar.forEach(function (subMenuItem, subI) {\n                    subMenuItem.level = 2;\n                    panelElement_1.appendChild(_this.genItem(vditor, subMenuItem, i + subI));\n                });\n                itemElement.appendChild(panelElement_1);\n                toggleSubMenu(vditor, panelElement_1, itemElement.children[0], 2);\n            }\n        });\n        if (vditor.options.toolbarConfig.hide) {\n            this.element.classList.add(\"vditor-toolbar--hide\");\n        }\n        if (vditor.options.toolbarConfig.pin) {\n            this.element.classList.add(\"vditor-toolbar--pin\");\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter = new Counter(vditor);\n            this.element.appendChild(vditor.counter.element);\n        }\n    }\n    Toolbar.prototype.genItem = function (vditor, menuItem, index) {\n        var menuItemObj;\n        switch (menuItem.name) {\n            case \"bold\":\n            case \"italic\":\n            case \"more\":\n            case \"strike\":\n            case \"line\":\n            case \"quote\":\n            case \"list\":\n            case \"ordered-list\":\n            case \"check\":\n            case \"code\":\n            case \"inline-code\":\n            case \"link\":\n            case \"table\":\n                menuItemObj = new MenuItem(vditor, menuItem);\n                break;\n            case \"emoji\":\n                menuItemObj = new Emoji(vditor, menuItem);\n                break;\n            case \"headings\":\n                menuItemObj = new Headings(vditor, menuItem);\n                break;\n            case \"|\":\n                menuItemObj = new Divider();\n                break;\n            case \"br\":\n                menuItemObj = new Br();\n                break;\n            case \"undo\":\n                menuItemObj = new Undo(vditor, menuItem);\n                break;\n            case \"redo\":\n                menuItemObj = new Redo(vditor, menuItem);\n                break;\n            case \"help\":\n                menuItemObj = new Help(vditor, menuItem);\n                break;\n            case \"both\":\n                menuItemObj = new Both(vditor, menuItem);\n                break;\n            case \"preview\":\n                menuItemObj = new Preview_Preview(vditor, menuItem);\n                break;\n            case \"fullscreen\":\n                menuItemObj = new Fullscreen(vditor, menuItem);\n                break;\n            case \"upload\":\n                menuItemObj = new Upload_Upload(vditor, menuItem);\n                break;\n            case \"record\":\n                menuItemObj = new Record(vditor, menuItem);\n                break;\n            case \"info\":\n                menuItemObj = new Info(vditor, menuItem);\n                break;\n            case \"edit-mode\":\n                menuItemObj = new EditMode(vditor, menuItem);\n                break;\n            case \"devtools\":\n                menuItemObj = new Devtools(vditor, menuItem);\n                break;\n            case \"outdent\":\n                menuItemObj = new Outdent(vditor, menuItem);\n                break;\n            case \"indent\":\n                menuItemObj = new Indent(vditor, menuItem);\n                break;\n            case \"outline\":\n                menuItemObj = new Outline_Outline(vditor, menuItem);\n                break;\n            case \"insert-after\":\n                menuItemObj = new InsertAfter(vditor, menuItem);\n                break;\n            case \"insert-before\":\n                menuItemObj = new InsertBefore(vditor, menuItem);\n                break;\n            case \"code-theme\":\n                menuItemObj = new CodeTheme(vditor, menuItem);\n                break;\n            case \"content-theme\":\n                menuItemObj = new ContentTheme(vditor, menuItem);\n                break;\n            case \"export\":\n                menuItemObj = new Export(vditor, menuItem);\n                break;\n            default:\n                menuItemObj = new Custom(vditor, menuItem);\n                break;\n        }\n        if (!menuItemObj) {\n            return;\n        }\n        var key = menuItem.name;\n        if (key === \"br\" || key === \"|\") {\n            key = key + index;\n        }\n        this.elements[key] = menuItemObj.element;\n        return menuItemObj.element;\n    };\n    return Toolbar;\n}());\n\n\n// EXTERNAL MODULE: ./node_modules/diff-match-patch/index.js\nvar diff_match_patch = __webpack_require__(694);\n;// CONCATENATED MODULE: ./src/ts/undo/index.ts\n\n\n\n\n\n\n\n\nvar undo_Undo = /** @class */ (function () {\n    function Undo() {\n        this.stackSize = 50;\n        this.resetStack();\n        // @ts-ignore\n        this.dmp = new diff_match_patch();\n    }\n    Undo.prototype.clearStack = function (vditor) {\n        this.resetStack();\n        this.resetIcon(vditor);\n    };\n    Undo.prototype.resetIcon = function (vditor) {\n        if (!vditor.toolbar) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.undo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length < 2) {\n            return;\n        }\n        var state = this[vditor.currentMode].undoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].redoStack.push(state);\n        this.renderDiff(state, vditor);\n        this[vditor.currentMode].hasUndo = true;\n        // undo 操作后，需要关闭 hint\n        hidePanel(vditor, [\"hint\"]);\n    };\n    Undo.prototype.redo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        var state = this[vditor.currentMode].redoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].undoStack.push(state);\n        this.renderDiff(state, vditor, true);\n    };\n    Undo.prototype.recordFirstPosition = function (vditor, event) {\n        if (getSelection().rangeCount === 0) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length !== 1 || this[vditor.currentMode].undoStack[0].length === 0 ||\n            this[vditor.currentMode].redoStack.length > 0) {\n            return;\n        }\n        if ((0,compatibility/* isFirefox */.vU)() && event.key === \"Backspace\") {\n            // Firefox 第一次删除无效\n            return;\n        }\n        if ((0,compatibility/* isSafari */.G6)()) {\n            // Safari keydown 在 input 之后，不需要重复记录历史\n            return;\n        }\n        var text = this.addCaret(vditor);\n        if (text.replace(\"<wbr>\", \"\").replace(\" vditor-ir__node--expand\", \"\")\n            !== this[vditor.currentMode].undoStack[0][0].diffs[0][1].replace(\"<wbr>\", \"\")) {\n            // 当还不没有存入 undo 栈时，按下 ctrl 后会覆盖 lastText\n            return;\n        }\n        this[vditor.currentMode].undoStack[0][0].diffs[0][1] = text;\n        this[vditor.currentMode].lastText = text;\n        // 不能添加 setSelectionFocus(cloneRange); 否则 windows chrome 首次输入会烂\n    };\n    Undo.prototype.addToUndoStack = function (vditor) {\n        // afterRenderEvent.ts 已经 debounce\n        var text = this.addCaret(vditor, true);\n        var diff = this.dmp.diff_main(text, this[vditor.currentMode].lastText, true);\n        var patchList = this.dmp.patch_make(text, this[vditor.currentMode].lastText, diff);\n        if (patchList.length === 0 && this[vditor.currentMode].undoStack.length > 0) {\n            return;\n        }\n        this[vditor.currentMode].lastText = text;\n        this[vditor.currentMode].undoStack.push(patchList);\n        if (this[vditor.currentMode].undoStack.length > this.stackSize) {\n            this[vditor.currentMode].undoStack.shift();\n        }\n        if (this[vditor.currentMode].hasUndo) {\n            this[vditor.currentMode].redoStack = [];\n            this[vditor.currentMode].hasUndo = false;\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n    };\n    Undo.prototype.renderDiff = function (state, vditor, isRedo) {\n        if (isRedo === void 0) { isRedo = false; }\n        var text;\n        if (isRedo) {\n            var redoPatchList = this.dmp.patch_deepCopy(state).reverse();\n            redoPatchList.forEach(function (patch) {\n                patch.diffs.forEach(function (diff) {\n                    diff[0] = -diff[0];\n                });\n            });\n            text = this.dmp.patch_apply(redoPatchList, this[vditor.currentMode].lastText)[0];\n        }\n        else {\n            text = this.dmp.patch_apply(state, this[vditor.currentMode].lastText)[0];\n        }\n        this[vditor.currentMode].lastText = text;\n        vditor[vditor.currentMode].element.innerHTML = text;\n        if (vditor.currentMode !== \"sv\") {\n            vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                .forEach(function (blockElement) {\n                processCodeRender(blockElement, vditor);\n            });\n        }\n        if (!vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            // Safari 第一次输入没有光标，需手动定位到结尾\n            var range = getSelection().getRangeAt(0);\n            range.setEndBefore(vditor[vditor.currentMode].element);\n            range.collapse(false);\n        }\n        else {\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, vditor[vditor.currentMode].element.ownerDocument.createRange());\n            scrollCenter(vditor);\n        }\n        execAfterRender(vditor, {\n            enableAddUndoStack: false,\n            enableHint: false,\n            enableInput: true,\n        });\n        highlightToolbar(vditor);\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.resetStack = function () {\n        this.ir = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.sv = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.wysiwyg = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n    };\n    Undo.prototype.addCaret = function (vditor, setFocus) {\n        if (setFocus === void 0) { setFocus = false; }\n        var cloneRange;\n        if (getSelection().rangeCount !== 0 && !vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                cloneRange = range.cloneRange();\n                var wbrElement = document.createElement(\"span\");\n                wbrElement.className = \"vditor-wbr\";\n                range.insertNode(wbrElement);\n            }\n        }\n        // 移除数学公式、echart 渲染 https://github.com/siyuan-note/siyuan/issues/537\n        var cloneElement = vditor.ir.element.cloneNode(true);\n        cloneElement.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='1']\")\n            .forEach(function (item) {\n            if (item.firstElementChild.classList.contains(\"language-echarts\") ||\n                item.firstElementChild.classList.contains(\"language-plantuml\") ||\n                item.firstElementChild.classList.contains(\"language-mindmap\")) {\n                item.firstElementChild.removeAttribute(\"_echarts_instance_\");\n                item.firstElementChild.removeAttribute(\"data-processed\");\n                item.firstElementChild.innerHTML = item.previousElementSibling.firstElementChild.innerHTML;\n                item.setAttribute(\"data-render\", \"2\");\n            }\n            if (item.firstElementChild.classList.contains(\"language-math\")) {\n                item.setAttribute(\"data-render\", \"2\");\n                item.firstElementChild.textContent = item.firstElementChild.getAttribute(\"data-math\");\n                item.firstElementChild.removeAttribute(\"data-math\");\n            }\n        });\n        var text = vditor[vditor.currentMode].element.innerHTML;\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-wbr\").forEach(function (item) {\n            item.remove();\n            // 使用 item.outerHTML = \"\" 会产生 https://github.com/Vanessa219/vditor/pull/686;\n        });\n        if (setFocus && cloneRange) {\n            (0,selection/* setSelectionFocus */.Hc)(cloneRange);\n        }\n        return text.replace('<span class=\"vditor-wbr\"></span>', \"<wbr>\");\n    };\n    return Undo;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(224);\n;// CONCATENATED MODULE: ./src/ts/util/Options.ts\n\n\nvar Options = /** @class */ (function () {\n    function Options(options) {\n        this.defaultOptions = {\n            after: undefined,\n            cache: {\n                enable: true,\n            },\n            cdn: constants/* Constants.CDN */.g.CDN,\n            classes: {\n                preview: \"\",\n            },\n            comment: {\n                enable: false,\n            },\n            counter: {\n                enable: false,\n                type: \"markdown\",\n            },\n            debugger: false,\n            fullscreen: {\n                index: 90,\n            },\n            height: \"auto\",\n            hint: {\n                delay: 200,\n                emoji: {\n                    \"+1\": \"👍\",\n                    \"-1\": \"👎\",\n                    \"confused\": \"😕\",\n                    \"eyes\": \"👀️\",\n                    \"heart\": \"❤️\",\n                    \"rocket\": \"🚀️\",\n                    \"smile\": \"😄\",\n                    \"tada\": \"🎉️\",\n                },\n                emojiPath: constants/* Constants.CDN */.g.CDN + \"/dist/images/emoji\",\n                extend: [],\n                parse: true,\n            },\n            icon: \"ant\",\n            lang: \"zh_CN\",\n            mode: \"ir\",\n            outline: {\n                enable: false,\n                position: \"left\",\n            },\n            placeholder: \"\",\n            preview: {\n                actions: [\"desktop\", \"tablet\", \"mobile\", \"mp-wechat\", \"zhihu\"],\n                delay: 1000,\n                hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n                markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n                math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n                maxWidth: 800,\n                mode: \"both\",\n                theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n            },\n            resize: {\n                enable: false,\n                position: \"bottom\",\n            },\n            theme: \"classic\",\n            toolbar: [\n                \"emoji\",\n                \"headings\",\n                \"bold\",\n                \"italic\",\n                \"strike\",\n                \"link\",\n                \"|\",\n                \"list\",\n                \"ordered-list\",\n                \"check\",\n                \"outdent\",\n                \"indent\",\n                \"|\",\n                \"quote\",\n                \"line\",\n                \"code\",\n                \"inline-code\",\n                \"insert-before\",\n                \"insert-after\",\n                \"|\",\n                \"upload\",\n                \"record\",\n                \"table\",\n                \"|\",\n                \"undo\",\n                \"redo\",\n                \"|\",\n                \"fullscreen\",\n                \"edit-mode\",\n                {\n                    name: \"more\",\n                    toolbar: [\n                        \"both\",\n                        \"code-theme\",\n                        \"content-theme\",\n                        \"export\",\n                        \"outline\",\n                        \"preview\",\n                        \"devtools\",\n                        \"info\",\n                        \"help\",\n                    ],\n                },\n            ],\n            toolbarConfig: {\n                hide: false,\n                pin: false,\n            },\n            typewriterMode: false,\n            undoDelay: 800,\n            upload: {\n                extraData: {},\n                fieldName: \"file[]\",\n                filename: function (name) { return name.replace(/\\W/g, \"\"); },\n                linkToImgUrl: \"\",\n                max: 10 * 1024 * 1024,\n                multiple: true,\n                url: \"\",\n                withCredentials: false,\n            },\n            value: \"\",\n            width: \"auto\",\n        };\n        this.options = options;\n    }\n    Options.prototype.merge = function () {\n        var _a, _b, _c;\n        if (this.options) {\n            if (this.options.toolbar) {\n                this.options.toolbar = this.mergeToolbar(this.options.toolbar);\n            }\n            else {\n                this.options.toolbar = this.mergeToolbar(this.defaultOptions.toolbar);\n            }\n            if ((_b = (_a = this.options.preview) === null || _a === void 0 ? void 0 : _a.theme) === null || _b === void 0 ? void 0 : _b.list) {\n                this.defaultOptions.preview.theme.list = this.options.preview.theme.list;\n            }\n            if ((_c = this.options.hint) === null || _c === void 0 ? void 0 : _c.emoji) {\n                this.defaultOptions.hint.emoji = this.options.hint.emoji;\n            }\n            if (this.options.comment) {\n                this.defaultOptions.comment = this.options.comment;\n            }\n        }\n        var mergedOptions = (0,merge/* merge */.T)(this.defaultOptions, this.options);\n        if (mergedOptions.cache.enable && !mergedOptions.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        return mergedOptions;\n    };\n    Options.prototype.mergeToolbar = function (toolbar) {\n        var _this = this;\n        var toolbarItem = [\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-export\"></use></svg>',\n                name: \"export\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-emoji\"></use></svg>',\n                name: \"emoji\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-headings\"></use></svg>',\n                name: \"headings\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-bold\"></use></svg>',\n                name: \"bold\",\n                prefix: \"**\",\n                suffix: \"**\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-italic\"></use></svg>',\n                name: \"italic\",\n                prefix: \"*\",\n                suffix: \"*\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘D\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-strike\"></use></svg>',\n                name: \"strike\",\n                prefix: \"~~\",\n                suffix: \"~~\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘K\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-link\"></use></svg>',\n                name: \"link\",\n                prefix: \"[\",\n                suffix: \"](https://)\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘L\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-list\"></use></svg>',\n                name: \"list\",\n                prefix: \"* \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-ordered-list\"></use></svg>',\n                name: \"ordered-list\",\n                prefix: \"1. \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘J\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-check\"></use></svg>',\n                name: \"check\",\n                prefix: \"* [ ] \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-outdent\"></use></svg>',\n                name: \"outdent\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-indent\"></use></svg>',\n                name: \"indent\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘;\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-quote\"></use></svg>',\n                name: \"quote\",\n                prefix: \"> \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-line\"></use></svg>',\n                name: \"line\",\n                prefix: \"---\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘U\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-code\"></use></svg>',\n                name: \"code\",\n                prefix: \"```\",\n                suffix: \"\\n```\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘G\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-inline-code\"></use></svg>',\n                name: \"inline-code\",\n                prefix: \"`\",\n                suffix: \"`\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-before\"></use></svg>',\n                name: \"insert-before\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-after\"></use></svg>',\n                name: \"insert-after\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>',\n                name: \"upload\",\n                tipPosition: \"n\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-record\"></use></svg>',\n                name: \"record\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘M\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-table\"></use></svg>',\n                name: \"table\",\n                prefix: \"| col1\",\n                suffix: \" | col2 | col3 |\\n| --- | --- | --- |\\n|  |  |  |\\n|  |  |  |\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘Z\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-undo\"></use></svg>',\n                name: \"undo\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"⌘Y\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-redo\"></use></svg>',\n                name: \"redo\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-more\"></use></svg>',\n                name: \"more\",\n                tipPosition: \"e\",\n            },\n            {\n                hotkey: \"⌘'\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-fullscreen\"></use></svg>',\n                name: \"fullscreen\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-edit\"></use></svg>',\n                name: \"edit-mode\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"⌘P\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-both\"></use></svg>',\n                name: \"both\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-preview\"></use></svg>',\n                name: \"preview\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>',\n                name: \"outline\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-theme\"></use></svg>',\n                name: \"content-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-code-theme\"></use></svg>',\n                name: \"code-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-bug\"></use></svg>',\n                name: \"devtools\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-info\"></use></svg>',\n                name: \"info\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-help\"></use></svg>',\n                name: \"help\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"br\",\n            },\n        ];\n        var toolbarResult = [];\n        toolbar.forEach(function (menuItem) {\n            var currentMenuItem = menuItem;\n            toolbarItem.forEach(function (defaultMenuItem) {\n                if (typeof menuItem === \"string\" &&\n                    defaultMenuItem.name === menuItem) {\n                    currentMenuItem = defaultMenuItem;\n                }\n                if (typeof menuItem === \"object\" &&\n                    defaultMenuItem.name === menuItem.name) {\n                    currentMenuItem = Object.assign({}, defaultMenuItem, menuItem);\n                }\n            });\n            if (menuItem.toolbar) {\n                currentMenuItem.toolbar = _this.mergeToolbar(menuItem.toolbar);\n            }\n            toolbarResult.push(currentMenuItem);\n        });\n        return toolbarResult;\n    };\n    return Options;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar WYSIWYG = /** @class */ (function () {\n    function WYSIWYG(vditor) {\n        var _this = this;\n        this.composingLock = false;\n        this.commentIds = [];\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-wysiwyg\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\" + vditor.options.placeholder + \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\\n<div class=\\\"vditor-panel vditor-panel--none\\\"></div>\\n<div class=\\\"vditor-panel vditor-panel--none\\\">\\n    <button type=\\\"button\\\" aria-label=\\\"\" + window.VditorI18n.comment + \"\\\" class=\\\"vditor-icon vditor-tooltipped vditor-tooltipped__n\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-comment\\\"></use></svg>\\n    </button>\\n</div>\";\n        this.element = divElement.firstElementChild;\n        this.popover = divElement.firstElementChild.nextElementSibling;\n        this.selectPopover = divElement.lastElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n        if (vditor.options.comment.enable) {\n            this.selectPopover.querySelector(\"button\").onclick = function () {\n                var id = Lute.NewNodeID();\n                var range = getSelection().getRangeAt(0);\n                var rangeClone = range.cloneRange();\n                var contents = range.extractContents();\n                var blockStartElement;\n                var blockEndElement;\n                var removeStart = false;\n                var removeEnd = false;\n                contents.childNodes.forEach(function (item, index) {\n                    var wrap = false;\n                    if (item.nodeType === 3) {\n                        wrap = true;\n                    }\n                    else if (!item.classList.contains(\"vditor-comment\")) {\n                        wrap = true;\n                    }\n                    else if (item.classList.contains(\"vditor-comment\")) {\n                        item.setAttribute(\"data-cmtids\", item.getAttribute(\"data-cmtids\") + \" \" + id);\n                    }\n                    if (wrap) {\n                        if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === 0 && rangeClone.startOffset > 0) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\" + id + \"\\\">\" + item.innerHTML + \"</span>\";\n                            blockStartElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === contents.childNodes.length - 1\n                            && rangeClone.endOffset < rangeClone.endContainer.textContent.length) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\" + id + \"\\\">\" + item.innerHTML + \"</span>\";\n                            blockEndElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\") {\n                            if (index === 0) {\n                                removeStart = true;\n                            }\n                            else if (index === contents.childNodes.length - 1) {\n                                removeEnd = true;\n                            }\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\" + id + \"\\\">\" + item.innerHTML + \"</span>\";\n                        }\n                        else {\n                            var commentElement = document.createElement(\"span\");\n                            commentElement.classList.add(\"vditor-comment\");\n                            commentElement.setAttribute(\"data-cmtids\", id);\n                            item.parentNode.insertBefore(commentElement, item);\n                            commentElement.appendChild(item);\n                        }\n                    }\n                });\n                var startElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.startContainer);\n                if (startElement) {\n                    if (blockStartElement) {\n                        startElement.insertAdjacentHTML(\"beforeend\", blockStartElement.innerHTML);\n                        blockStartElement.remove();\n                    }\n                    else if (startElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeStart) {\n                        startElement.remove();\n                    }\n                }\n                var endElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.endContainer);\n                if (endElement) {\n                    if (blockEndElement) {\n                        endElement.insertAdjacentHTML(\"afterbegin\", blockEndElement.innerHTML);\n                        blockEndElement.remove();\n                    }\n                    else if (endElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeEnd) {\n                        endElement.remove();\n                    }\n                }\n                range.insertNode(contents);\n                vditor.options.comment.add(id, range.toString(), _this.getComments(vditor, true));\n                afterRenderEvent(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: false,\n                    enableInput: false,\n                });\n                _this.hideComment();\n            };\n        }\n    }\n    WYSIWYG.prototype.getComments = function (vditor, getData) {\n        var _this = this;\n        if (getData === void 0) { getData = false; }\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n            this.commentIds = [];\n            this.element.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n                _this.commentIds =\n                    _this.commentIds.concat(item.getAttribute(\"data-cmtids\").split(\" \"));\n            });\n            this.commentIds = Array.from(new Set(this.commentIds));\n            var comments_1 = [];\n            if (getData) {\n                this.commentIds.forEach(function (id) {\n                    comments_1.push({\n                        id: id,\n                        top: _this.element.querySelector(\".vditor-comment[data-cmtids=\\\"\" + id + \"\\\"]\").offsetTop,\n                    });\n                });\n                return comments_1;\n            }\n        }\n        else {\n            return [];\n        }\n    };\n    WYSIWYG.prototype.triggerRemoveComment = function (vditor) {\n        var difference = function (a, b) {\n            var s = new Set(b);\n            return a.filter(function (x) { return !s.has(x); });\n        };\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable && vditor.wysiwyg.commentIds.length > 0) {\n            var oldIds = JSON.parse(JSON.stringify(this.commentIds));\n            this.getComments(vditor);\n            var removedIds = difference(oldIds, this.commentIds);\n            if (removedIds.length > 0) {\n                vditor.options.comment.remove(removedIds);\n            }\n        }\n    };\n    WYSIWYG.prototype.showComment = function () {\n        var position = (0,selection/* getCursorPosition */.Ny)(this.element);\n        this.selectPopover.setAttribute(\"style\", \"left:\" + position.left + \"px;display:block;top:\" + Math.max(-8, position.top - 21) + \"px\");\n    };\n    WYSIWYG.prototype.hideComment = function () {\n        this.selectPopover.setAttribute(\"style\", \"display:none\");\n    };\n    WYSIWYG.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var codeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n        var codeEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"CODE\");\n        if (codeElement && codeEndElement && codeEndElement.isSameNode(codeElement)) {\n            var codeText = \"\";\n            if (codeElement.parentElement.tagName === \"PRE\") {\n                codeText = range.toString();\n            }\n            else {\n                codeText = \"`\" + range.toString() + \"`\";\n            }\n            event.clipboardData.setData(\"text/plain\", codeText);\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"A\");\n        var aEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"A\");\n        if (aElement && aEndElement && aEndElement.isSameNode(aElement)) {\n            var aTitle = aElement.getAttribute(\"title\") || \"\";\n            if (aTitle) {\n                aTitle = \" \\\"\" + aTitle + \"\\\"\";\n            }\n            event.clipboardData.setData(\"text/plain\", \"[\" + range.toString() + \"](\" + aElement.getAttribute(\"href\") + aTitle + \")\");\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    WYSIWYG.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        window.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (_this.popover.style.display !== \"block\" || _this.selectPopover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10);\n            if (vditor.options.height !== \"auto\") {\n                if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                    var popoverTop = Math.max(window.scrollY - vditor.element.offsetTop - 8, Math.min(top - vditor.wysiwyg.element.scrollTop, _this.element.clientHeight - 21)) + \"px\";\n                    if (_this.popover.style.display === \"block\") {\n                        _this.popover.style.top = popoverTop;\n                    }\n                    if (_this.selectPopover.style.display === \"block\") {\n                        _this.selectPopover.style.top = popoverTop;\n                    }\n                }\n                return;\n            }\n            else if (!vditor.options.toolbarConfig.pin) {\n                return;\n            }\n            var popoverTop1 = Math.max(top, (window.scrollY - vditor.element.offsetTop - 8)) + \"px\";\n            if (_this.popover.style.display === \"block\") {\n                _this.popover.style.top = popoverTop1;\n            }\n            if (_this.selectPopover.style.display === \"block\") {\n                _this.selectPopover.style.top = popoverTop1;\n            }\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (vditor.options.comment && vditor.options.comment.enable && vditor.options.comment.scroll) {\n                vditor.options.comment.scroll(vditor.wysiwyg.element.scrollTop);\n            }\n            if (_this.popover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10) - vditor.wysiwyg.element.scrollTop;\n            var max = -8;\n            if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                max = window.scrollY - vditor.element.offsetTop + max;\n            }\n            var topPx = Math.max(max, Math.min(top, _this.element.clientHeight - 21)) + \"px\";\n            _this.popover.style.top = topPx;\n            _this.selectPopover.style.top = topPx;\n        });\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    var range = (0,selection/* getEditorRange */.zh)(vditor);\n                    var node = document.createElement(\"template\");\n                    node.innerHTML = code;\n                    range.insertNode(node.content.cloneNode(true));\n                    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n                    if (blockElement) {\n                        blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                    }\n                    else {\n                        vditor.wysiwyg.element.innerHTML = vditor.lute.SpinVditorDOM(vditor.wysiwyg.element.innerHTML);\n                    }\n                    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                },\n            });\n        });\n        // 中文处理\n        this.element.addEventListener(\"compositionstart\", function () {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading 为空删除 https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                return;\n            }\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input_input(vditor, getSelection().getRangeAt(0).cloneRange(), event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            var range = getSelection().getRangeAt(0);\n            var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            if (!blockElement) {\n                // 没有被块元素包裹\n                modifyPre(vditor, range);\n                blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            }\n            if (!blockElement) {\n                return;\n            }\n            // 前后空格处理\n            var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n            // 开始可以输入空格\n            var startSpace = true;\n            for (var i = startOffset - 1; i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n                if (blockElement.textContent.charAt(i) !== \" \" &&\n                    // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                    blockElement.textContent.charAt(i) !== \"\\t\") {\n                    startSpace = false;\n                    break;\n                }\n            }\n            if (startOffset === 0) {\n                startSpace = false;\n            }\n            // 结尾可以输入空格\n            var endSpace = true;\n            for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n                if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                    endSpace = false;\n                    break;\n                }\n            }\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading 为空删除 https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                headingElement.remove();\n            }\n            if ((startSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\")\n                || endSpace || isHeadingMD(blockElement.innerHTML) ||\n                (isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling)) {\n                return;\n            }\n            input_input(vditor, range, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                var checkElement = event.target;\n                if (checkElement.checked) {\n                    checkElement.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    checkElement.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                afterRenderEvent(vditor);\n                return;\n            }\n            if (event.target.tagName === \"IMG\" &&\n                // plantuml 图片渲染不进行提示\n                !event.target.parentElement.classList.contains(\"vditor-wysiwyg__preview\")) {\n                if (event.target.getAttribute(\"data-type\") === \"link-ref\") {\n                    genLinkRefPopover(vditor, event.target);\n                }\n                else {\n                    genImagePopover(event, vditor);\n                }\n                return;\n            }\n            // 打开链接\n            if (event.target.tagName === \"A\") {\n                window.open(event.target.getAttribute(\"href\"));\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            highlightToolbarWYSIWYG(vditor);\n            // 点击后光标落于预览区，需展开代码块\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-wysiwyg__preview\");\n            if (!previewElement) {\n                previewElement =\n                    (0,hasClosest/* hasClosestByClassName */.fb)((0,selection/* getEditorRange */.zh)(vditor).startContainer, \"vditor-wysiwyg__preview\");\n            }\n            if (previewElement) {\n                showCode(previewElement, vditor);\n            }\n            clickToc(event, vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            // 除 md 处理、cell 内换行、table 添加新行/列、代码块语言切换、block render 换行、跳出/逐层跳出 blockquote、h6 换行、\n            // 任务列表换行、软换行外需在换行时调整文档位置\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.wysiwyg.element.innerHTML !== \"\" && vditor.wysiwyg.element.childNodes.length === 1 &&\n                vditor.wysiwyg.element.firstElementChild && vditor.wysiwyg.element.firstElementChild.tagName === \"P\"\n                && vditor.wysiwyg.element.firstElementChild.childElementCount === 0\n                && (vditor.wysiwyg.element.textContent === \"\" || vditor.wysiwyg.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.wysiwyg.element.innerHTML = \"\";\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                }\n            }\n            // 没有被块元素包裹\n            modifyPre(vditor, range);\n            highlightToolbarWYSIWYG(vditor);\n            if (event.key !== \"ArrowDown\" && event.key !== \"ArrowRight\" && event.key !== \"Backspace\"\n                && event.key !== \"ArrowLeft\" && event.key !== \"ArrowUp\") {\n                return;\n            }\n            if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                vditor.hint.render(vditor);\n            }\n            // 上下左右，删除遇到块预览的处理\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__preview\");\n            if (!previewElement && range.startContainer.nodeType !== 3 && range.startOffset > 0) {\n                // table 前删除遇到代码块\n                var blockRenderElement = range.startContainer;\n                if (blockRenderElement.classList.contains(\"vditor-wysiwyg__block\")) {\n                    previewElement = blockRenderElement.lastElementChild;\n                }\n            }\n            if (!previewElement) {\n                return;\n            }\n            var previousElement = previewElement.previousElementSibling;\n            if (previousElement.style.display === \"none\") {\n                if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                    showCode(previewElement, vditor);\n                }\n                else {\n                    showCode(previewElement, vditor, false);\n                }\n                return;\n            }\n            var codeElement = previewElement.previousElementSibling;\n            if (codeElement.tagName === \"PRE\") {\n                codeElement = codeElement.firstElementChild;\n            }\n            if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                var blockRenderElement = previewElement.parentElement;\n                var nextNode = getRenderElementNextNode(blockRenderElement);\n                if (nextNode && nextNode.nodeType !== 3) {\n                    // 下一节点依旧为代码渲染块\n                    var nextRenderElement = nextNode.querySelector(\".vditor-wysiwyg__preview\");\n                    if (nextRenderElement) {\n                        showCode(nextRenderElement, vditor);\n                        return;\n                    }\n                }\n                // 跳过渲染块，光标移动到下一个节点\n                if (nextNode.nodeType === 3) {\n                    // inline\n                    while (nextNode.textContent.length === 0 && nextNode.nextSibling) {\n                        // https://github.com/Vanessa219/vditor/issues/100 2\n                        nextNode = nextNode.nextSibling;\n                    }\n                    range.setStart(nextNode, 1);\n                }\n                else {\n                    // block\n                    range.setStart(nextNode.firstChild, 0);\n                }\n            }\n            else {\n                range.selectNodeContents(codeElement);\n                range.collapse(false);\n            }\n        });\n    };\n    return WYSIWYG;\n}());\n\n\n;// CONCATENATED MODULE: ./src/index.ts\nvar src_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function (_super) {\n    src_extends(Vditor, _super);\n    /**\n     * @param id 要挂载 Vditor 的元素或者元素 ID。\n     * @param options Vditor 参数\n     */\n    function Vditor(id, options) {\n        var _this = _super.call(this) || this;\n        _this.version = constants/* VDITOR_VERSION */.H;\n        if (typeof id === \"string\") {\n            if (!options) {\n                options = {\n                    cache: {\n                        id: \"vditor\" + id,\n                    },\n                };\n            }\n            else if (!options.cache) {\n                options.cache = { id: \"vditor\" + id };\n            }\n            else if (!options.cache.id) {\n                options.cache.id = \"vditor\" + id;\n            }\n            id = document.getElementById(id);\n        }\n        var getOptions = new Options(options);\n        var mergedOptions = getOptions.merge();\n        // 支持自定义国际化\n        if (!mergedOptions.i18n) {\n            if (![\"en_US\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) {\n                throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n            }\n            else {\n                (0,addScript/* addScript */.G)(mergedOptions.cdn + \"/dist/js/i18n/\" + mergedOptions.lang + \".js\", \"vditorI18nScript\").then(function () {\n                    _this.init(id, mergedOptions);\n                });\n            }\n        }\n        else {\n            window.VditorI18n = mergedOptions.i18n;\n            _this.init(id, mergedOptions);\n        }\n        return _this;\n    }\n    /** 设置主题 */\n    Vditor.prototype.setTheme = function (theme, contentTheme, codeTheme, contentThemePath) {\n        this.vditor.options.theme = theme;\n        setTheme(this.vditor);\n        if (contentTheme) {\n            this.vditor.options.preview.theme.current = contentTheme;\n            (0,setContentTheme/* setContentTheme */.Z)(contentTheme, contentThemePath || this.vditor.options.preview.theme.path);\n        }\n        if (codeTheme) {\n            this.vditor.options.preview.hljs.style = codeTheme;\n            (0,setCodeTheme/* setCodeTheme */.Y)(codeTheme, this.vditor.options.cdn);\n        }\n    };\n    /** 获取 Markdown 内容 */\n    Vditor.prototype.getValue = function () {\n        return getMarkdown(this.vditor);\n    };\n    /** 获取编辑器当前编辑模式 */\n    Vditor.prototype.getCurrentMode = function () {\n        return this.vditor.currentMode;\n    };\n    /** 聚焦到编辑器 */\n    Vditor.prototype.focus = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.focus();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.focus();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.focus();\n        }\n    };\n    /** 让编辑器失焦 */\n    Vditor.prototype.blur = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.blur();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.blur();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.blur();\n        }\n    };\n    /** 禁用编辑器 */\n    Vditor.prototype.disabled = function () {\n        hidePanel(this.vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n        disableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"false\");\n    };\n    /** 解除编辑器禁用 */\n    Vditor.prototype.enable = function () {\n        enableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor.undo.resetIcon(this.vditor);\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"true\");\n    };\n    /** 返回选中的字符串 */\n    Vditor.prototype.getSelection = function () {\n        if (this.vditor.currentMode === \"wysiwyg\") {\n            return getSelectText(this.vditor.wysiwyg.element);\n        }\n        else if (this.vditor.currentMode === \"sv\") {\n            return getSelectText(this.vditor.sv.element);\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            return getSelectText(this.vditor.ir.element);\n        }\n    };\n    /** 设置预览区域内容 */\n    Vditor.prototype.renderPreview = function (value) {\n        this.vditor.preview.render(this.vditor, value);\n    };\n    /** 获取焦点位置 */\n    Vditor.prototype.getCursorPosition = function () {\n        return (0,selection/* getCursorPosition */.Ny)(this.vditor[this.vditor.currentMode].element);\n    };\n    /** 上传是否还在进行中 */\n    Vditor.prototype.isUploading = function () {\n        return this.vditor.upload.isUploading;\n    };\n    /** 清除缓存 */\n    Vditor.prototype.clearCache = function () {\n        localStorage.removeItem(this.vditor.options.cache.id);\n    };\n    /** 禁用缓存 */\n    Vditor.prototype.disabledCache = function () {\n        this.vditor.options.cache.enable = false;\n    };\n    /** 启用缓存 */\n    Vditor.prototype.enableCache = function () {\n        if (!this.vditor.options.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        this.vditor.options.cache.enable = true;\n    };\n    /** HTML 转 md */\n    Vditor.prototype.html2md = function (value) {\n        return this.vditor.lute.HTML2Md(value);\n    };\n    /** markdown 转 JSON 输出 */\n    Vditor.prototype.exportJSON = function (value) {\n        return this.vditor.lute.RenderJSON(value);\n    };\n    /** 获取 HTML */\n    Vditor.prototype.getHTML = function () {\n        return getHTML(this.vditor);\n    };\n    /** 消息提示。time 为 0 将一直显示 */\n    Vditor.prototype.tip = function (text, time) {\n        this.vditor.tip.show(text, time);\n    };\n    /** 设置预览模式 */\n    Vditor.prototype.setPreviewMode = function (mode) {\n        setPreviewMode(mode, this.vditor);\n    };\n    /** 删除选中内容 */\n    Vditor.prototype.deleteValue = function () {\n        if (window.getSelection().isCollapsed) {\n            return;\n        }\n        document.execCommand(\"delete\", false);\n    };\n    /** 更新选中内容 */\n    Vditor.prototype.updateValue = function (value) {\n        document.execCommand(\"insertHTML\", false, value);\n    };\n    /** 在焦点处插入内容，并默认进行 Markdown 渲染 */\n    Vditor.prototype.insertValue = function (value, render) {\n        if (render === void 0) { render = true; }\n        var range = (0,selection/* getEditorRange */.zh)(this.vditor);\n        range.collapse(true);\n        var tmpElement = document.createElement(\"template\");\n        tmpElement.innerHTML = value;\n        range.insertNode(tmpElement.content.cloneNode(true));\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.preventInput = true;\n            if (render) {\n                inputEvent(this.vditor);\n            }\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.preventInput = true;\n            if (render) {\n                input_input(this.vditor, getSelection().getRangeAt(0));\n            }\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.preventInput = true;\n            if (render) {\n                input(this.vditor, getSelection().getRangeAt(0), true);\n            }\n        }\n    };\n    /** 设置编辑器内容 */\n    Vditor.prototype.setValue = function (markdown, clearStack) {\n        var _this = this;\n        if (clearStack === void 0) { clearStack = false; }\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.innerHTML = this.vditor.lute.SpinVditorSVDOM(markdown);\n            processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            renderDomByMd(this.vditor, markdown, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else {\n            this.vditor.ir.element.innerHTML = this.vditor.lute.Md2VditorIRDOM(markdown);\n            this.vditor.ir.element\n                .querySelectorAll(\".vditor-ir__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, _this.vditor);\n            });\n            process_processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        this.vditor.outline.render(this.vditor);\n        if (!markdown) {\n            hidePanel(this.vditor, [\"emoji\", \"headings\", \"submenu\", \"hint\"]);\n            if (this.vditor.wysiwyg.popover) {\n                this.vditor.wysiwyg.popover.style.display = \"none\";\n            }\n            this.clearCache();\n        }\n        if (clearStack) {\n            this.clearStack();\n        }\n    };\n    /** 清空 undo & redo 栈 */\n    Vditor.prototype.clearStack = function () {\n        this.vditor.undo.clearStack(this.vditor);\n        this.vditor.undo.addToUndoStack(this.vditor);\n    };\n    /** 销毁编辑器 */\n    Vditor.prototype.destroy = function () {\n        this.vditor.element.innerHTML = this.vditor.originalInnerHTML;\n        this.vditor.element.classList.remove(\"vditor\");\n        this.vditor.element.removeAttribute(\"style\");\n        document.getElementById(\"vditorIconScript\").remove();\n        this.clearCache();\n    };\n    /** 获取评论 ID */\n    Vditor.prototype.getCommentIds = function () {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return [];\n        }\n        return this.vditor.wysiwyg.getComments(this.vditor, true);\n    };\n    /** 高亮评论 */\n    Vditor.prototype.hlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var hlItem = function (item) {\n            item.classList.remove(\"vditor-comment--hover\");\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.add(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            hlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                hlItem(item);\n            });\n        }\n    };\n    /** 取消评论高亮 */\n    Vditor.prototype.unHlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var unHlItem = function (item) {\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.remove(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            unHlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                unHlItem(item);\n            });\n        }\n    };\n    /** 删除评论 */\n    Vditor.prototype.removeCommentIds = function (removeIds) {\n        var _this = this;\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var removeItem = function (item, removeId) {\n            var ids = item.getAttribute(\"data-cmtids\").split(\" \");\n            ids.find(function (id, index) {\n                if (id === removeId) {\n                    ids.splice(index, 1);\n                    return true;\n                }\n            });\n            if (ids.length === 0) {\n                item.outerHTML = item.innerHTML;\n                (0,selection/* getEditorRange */.zh)(_this.vditor).collapse(true);\n            }\n            else {\n                item.setAttribute(\"data-cmtids\", ids.join(\" \"));\n            }\n        };\n        removeIds.forEach(function (removeId) {\n            _this.vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                removeItem(item, removeId);\n            });\n            if (_this.vditor.preview.element.style.display !== \"none\") {\n                _this.vditor.preview.element\n                    .querySelectorAll(\".vditor-comment\")\n                    .forEach(function (item) {\n                    removeItem(item, removeId);\n                });\n            }\n        });\n        afterRenderEvent(this.vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n    };\n    Vditor.prototype.init = function (id, mergedOptions) {\n        var _this = this;\n        this.vditor = {\n            currentMode: mergedOptions.mode,\n            element: id,\n            hint: new Hint(mergedOptions.hint.extend),\n            lute: undefined,\n            options: mergedOptions,\n            originalInnerHTML: id.innerHTML,\n            outline: new Outline(window.VditorI18n.outline),\n            tip: new Tip(),\n        };\n        this.vditor.sv = new Editor(this.vditor);\n        this.vditor.undo = new undo_Undo();\n        this.vditor.wysiwyg = new WYSIWYG(this.vditor);\n        this.vditor.ir = new IR(this.vditor);\n        this.vditor.toolbar = new Toolbar(this.vditor);\n        if (mergedOptions.resize.enable) {\n            this.vditor.resize = new Resize(this.vditor);\n        }\n        if (this.vditor.toolbar.elements.devtools) {\n            this.vditor.devtools = new DevTools();\n        }\n        if (mergedOptions.upload.url || mergedOptions.upload.handler) {\n            this.vditor.upload = new Upload();\n        }\n        (0,addScript/* addScript */.G)(mergedOptions._lutePath ||\n            mergedOptions.cdn + \"/dist/js/lute/lute.min.js\", \"vditorLuteScript\").then(function () {\n            _this.vditor.lute = (0,setLute/* setLute */.X)({\n                autoSpace: _this.vditor.options.preview.markdown.autoSpace,\n                codeBlockPreview: _this.vditor.options.preview.markdown\n                    .codeBlockPreview,\n                emojiSite: _this.vditor.options.hint.emojiPath,\n                emojis: _this.vditor.options.hint.emoji,\n                fixTermTypo: _this.vditor.options.preview.markdown.fixTermTypo,\n                footnotes: _this.vditor.options.preview.markdown.footnotes,\n                headingAnchor: false,\n                inlineMathDigit: _this.vditor.options.preview.math.inlineDigit,\n                linkBase: _this.vditor.options.preview.markdown.linkBase,\n                linkPrefix: _this.vditor.options.preview.markdown.linkPrefix,\n                listStyle: _this.vditor.options.preview.markdown.listStyle,\n                mark: _this.vditor.options.preview.markdown.mark,\n                mathBlockPreview: _this.vditor.options.preview.markdown\n                    .mathBlockPreview,\n                paragraphBeginningSpace: _this.vditor.options.preview.markdown\n                    .paragraphBeginningSpace,\n                sanitize: _this.vditor.options.preview.markdown.sanitize,\n                toc: _this.vditor.options.preview.markdown.toc,\n            });\n            _this.vditor.preview = new Preview(_this.vditor);\n            initUI(_this.vditor);\n            if (mergedOptions.after) {\n                mergedOptions.after();\n            }\n            if (mergedOptions.icon) {\n                // 防止初始化 2 个编辑器时加载 2 次\n                (0,addScript/* addScriptSync */.J)(mergedOptions.cdn + \"/dist/js/icons/\" + mergedOptions.icon + \".js\", \"vditorIconScript\");\n            }\n        });\n    };\n    return Vditor;\n}(method.default));\n/* harmony default export */ const src = (Vditor);\n\n})();\n\n__webpack_exports__ = __webpack_exports__.default;\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","import { useInjector } from 'hooks/use-deps-injection'\nimport { useSaveConfirm } from 'hooks/use-save-confirm'\nimport { UIStore } from 'stores/ui'\nimport Vditor from 'vditor'\nimport 'vditor/dist/index.css'\nimport {\n  defineAsyncComponent,\n  defineComponent,\n  onMounted,\n  PropType,\n  Ref,\n  ref,\n  toRaw,\n  watch,\n} from 'vue'\nimport { editorBaseProps } from './universal/base'\nimport './vditor.css'\nexport const VditorEditor = defineAsyncComponent(() =>\n  Promise.resolve(\n    defineComponent({\n      props: {\n        ...editorBaseProps,\n        innerRef: { type: Object as PropType<Ref<Vditor>> },\n      },\n      setup(props) {\n        const vRef = ref()\n\n        let instance: Vditor\n        onMounted(() => {\n          const i = new Vditor(vRef.value, {\n            value: props.text,\n            toolbarConfig: { hide: true },\n            theme: isDark.value ? 'dark' : 'classic',\n            toolbar: [],\n            cache: {\n              enable: false,\n            },\n            input(val: string) {\n              props.onChange(val.trim())\n            },\n            blur(val: string) {\n              props.onChange(val.trim())\n            },\n            focus(val: string) {\n              props.onChange(val.trim())\n            },\n          })\n          instance = i\n\n          if (props.innerRef) {\n            props.innerRef.value = instance\n          }\n        })\n\n        let memoInitialValue: string = toRaw(props.text)\n\n        watch(\n          () => props.text,\n          (n) => {\n            if (!memoInitialValue && n) {\n              memoInitialValue = n\n            }\n            // FIXME:\n            if (\n              instance &&\n              !instance.getValue().trim().length &&\n              n !== instance.getValue()\n            ) {\n              instance.setValue(n)\n            }\n          },\n        )\n\n        useSaveConfirm(props.unSaveConfirm, () => {\n          return instance.getValue().trim() === memoInitialValue.trim()\n        })\n\n        const { isDark } = useInjector(UIStore)\n        watch(\n          () => isDark.value,\n          (isDark) => {\n            if (isDark) {\n              instance.setTheme('dark')\n            } else {\n              instance.setTheme('classic')\n            }\n          },\n        )\n        return () => (\n          <div ref={vRef} style={{ height: 'calc(100vh - 18.8rem)' }}></div>\n        )\n      },\n    }),\n  ),\n)\n","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208c114.69 0 208-93.31 208-208c0-114.87-93.13-208-208-208zm0 313a94 94 0 0 1 0-188h4.21l-14.11-14.1a14 14 0 0 1 19.8-19.8l40 40a14 14 0 0 1 0 19.8l-40 40a14 14 0 0 1-19.8-19.8l18-18c-2.38-.1-5.1-.1-8.1-.1a66 66 0 1 0 66 66a14 14 0 0 1 28 0a94.11 94.11 0 0 1-94 94z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'RefreshCircle',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 24 24'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'g',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-width': '2',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round'\n  },\n  [\n    /*#__PURE__*/ _createVNode('path', {\n      d: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065z'\n    }),\n    /*#__PURE__*/ _createVNode('circle', {\n      cx: '12',\n      cy: '12',\n      r: '3'\n    })\n  ],\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'Settings',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","export var TransformationType;\n(function (TransformationType) {\n    TransformationType[TransformationType[\"PLAIN_TO_CLASS\"] = 0] = \"PLAIN_TO_CLASS\";\n    TransformationType[TransformationType[\"CLASS_TO_PLAIN\"] = 1] = \"CLASS_TO_PLAIN\";\n    TransformationType[TransformationType[\"CLASS_TO_CLASS\"] = 2] = \"CLASS_TO_CLASS\";\n})(TransformationType || (TransformationType = {}));\n//# sourceMappingURL=transformation-type.enum.js.map","import { TransformationType } from './enums';\n/**\n * Storage all library metadata.\n */\nvar MetadataStorage = /** @class */ (function () {\n    function MetadataStorage() {\n        // -------------------------------------------------------------------------\n        // Properties\n        // -------------------------------------------------------------------------\n        this._typeMetadatas = new Map();\n        this._transformMetadatas = new Map();\n        this._exposeMetadatas = new Map();\n        this._excludeMetadatas = new Map();\n        this._ancestorsMap = new Map();\n    }\n    // -------------------------------------------------------------------------\n    // Adder Methods\n    // -------------------------------------------------------------------------\n    MetadataStorage.prototype.addTypeMetadata = function (metadata) {\n        if (!this._typeMetadatas.has(metadata.target)) {\n            this._typeMetadatas.set(metadata.target, new Map());\n        }\n        this._typeMetadatas.get(metadata.target).set(metadata.propertyName, metadata);\n    };\n    MetadataStorage.prototype.addTransformMetadata = function (metadata) {\n        if (!this._transformMetadatas.has(metadata.target)) {\n            this._transformMetadatas.set(metadata.target, new Map());\n        }\n        if (!this._transformMetadatas.get(metadata.target).has(metadata.propertyName)) {\n            this._transformMetadatas.get(metadata.target).set(metadata.propertyName, []);\n        }\n        this._transformMetadatas.get(metadata.target).get(metadata.propertyName).push(metadata);\n    };\n    MetadataStorage.prototype.addExposeMetadata = function (metadata) {\n        if (!this._exposeMetadatas.has(metadata.target)) {\n            this._exposeMetadatas.set(metadata.target, new Map());\n        }\n        this._exposeMetadatas.get(metadata.target).set(metadata.propertyName, metadata);\n    };\n    MetadataStorage.prototype.addExcludeMetadata = function (metadata) {\n        if (!this._excludeMetadatas.has(metadata.target)) {\n            this._excludeMetadatas.set(metadata.target, new Map());\n        }\n        this._excludeMetadatas.get(metadata.target).set(metadata.propertyName, metadata);\n    };\n    // -------------------------------------------------------------------------\n    // Public Methods\n    // -------------------------------------------------------------------------\n    MetadataStorage.prototype.findTransformMetadatas = function (target, propertyName, transformationType) {\n        return this.findMetadatas(this._transformMetadatas, target, propertyName).filter(function (metadata) {\n            if (!metadata.options)\n                return true;\n            if (metadata.options.toClassOnly === true && metadata.options.toPlainOnly === true)\n                return true;\n            if (metadata.options.toClassOnly === true) {\n                return (transformationType === TransformationType.CLASS_TO_CLASS ||\n                    transformationType === TransformationType.PLAIN_TO_CLASS);\n            }\n            if (metadata.options.toPlainOnly === true) {\n                return transformationType === TransformationType.CLASS_TO_PLAIN;\n            }\n            return true;\n        });\n    };\n    MetadataStorage.prototype.findExcludeMetadata = function (target, propertyName) {\n        return this.findMetadata(this._excludeMetadatas, target, propertyName);\n    };\n    MetadataStorage.prototype.findExposeMetadata = function (target, propertyName) {\n        return this.findMetadata(this._exposeMetadatas, target, propertyName);\n    };\n    MetadataStorage.prototype.findExposeMetadataByCustomName = function (target, name) {\n        return this.getExposedMetadatas(target).find(function (metadata) {\n            return metadata.options && metadata.options.name === name;\n        });\n    };\n    MetadataStorage.prototype.findTypeMetadata = function (target, propertyName) {\n        return this.findMetadata(this._typeMetadatas, target, propertyName);\n    };\n    MetadataStorage.prototype.getStrategy = function (target) {\n        var excludeMap = this._excludeMetadatas.get(target);\n        var exclude = excludeMap && excludeMap.get(undefined);\n        var exposeMap = this._exposeMetadatas.get(target);\n        var expose = exposeMap && exposeMap.get(undefined);\n        if ((exclude && expose) || (!exclude && !expose))\n            return 'none';\n        return exclude ? 'excludeAll' : 'exposeAll';\n    };\n    MetadataStorage.prototype.getExposedMetadatas = function (target) {\n        return this.getMetadata(this._exposeMetadatas, target);\n    };\n    MetadataStorage.prototype.getExcludedMetadatas = function (target) {\n        return this.getMetadata(this._excludeMetadatas, target);\n    };\n    MetadataStorage.prototype.getExposedProperties = function (target, transformationType) {\n        return this.getExposedMetadatas(target)\n            .filter(function (metadata) {\n            if (!metadata.options)\n                return true;\n            if (metadata.options.toClassOnly === true && metadata.options.toPlainOnly === true)\n                return true;\n            if (metadata.options.toClassOnly === true) {\n                return (transformationType === TransformationType.CLASS_TO_CLASS ||\n                    transformationType === TransformationType.PLAIN_TO_CLASS);\n            }\n            if (metadata.options.toPlainOnly === true) {\n                return transformationType === TransformationType.CLASS_TO_PLAIN;\n            }\n            return true;\n        })\n            .map(function (metadata) { return metadata.propertyName; });\n    };\n    MetadataStorage.prototype.getExcludedProperties = function (target, transformationType) {\n        return this.getExcludedMetadatas(target)\n            .filter(function (metadata) {\n            if (!metadata.options)\n                return true;\n            if (metadata.options.toClassOnly === true && metadata.options.toPlainOnly === true)\n                return true;\n            if (metadata.options.toClassOnly === true) {\n                return (transformationType === TransformationType.CLASS_TO_CLASS ||\n                    transformationType === TransformationType.PLAIN_TO_CLASS);\n            }\n            if (metadata.options.toPlainOnly === true) {\n                return transformationType === TransformationType.CLASS_TO_PLAIN;\n            }\n            return true;\n        })\n            .map(function (metadata) { return metadata.propertyName; });\n    };\n    MetadataStorage.prototype.clear = function () {\n        this._typeMetadatas.clear();\n        this._exposeMetadatas.clear();\n        this._excludeMetadatas.clear();\n        this._ancestorsMap.clear();\n    };\n    // -------------------------------------------------------------------------\n    // Private Methods\n    // -------------------------------------------------------------------------\n    MetadataStorage.prototype.getMetadata = function (metadatas, target) {\n        var metadataFromTargetMap = metadatas.get(target);\n        var metadataFromTarget;\n        if (metadataFromTargetMap) {\n            metadataFromTarget = Array.from(metadataFromTargetMap.values()).filter(function (meta) { return meta.propertyName !== undefined; });\n        }\n        var metadataFromAncestors = [];\n        for (var _i = 0, _a = this.getAncestors(target); _i < _a.length; _i++) {\n            var ancestor = _a[_i];\n            var ancestorMetadataMap = metadatas.get(ancestor);\n            if (ancestorMetadataMap) {\n                var metadataFromAncestor = Array.from(ancestorMetadataMap.values()).filter(function (meta) { return meta.propertyName !== undefined; });\n                metadataFromAncestors.push.apply(metadataFromAncestors, metadataFromAncestor);\n            }\n        }\n        return metadataFromAncestors.concat(metadataFromTarget || []);\n    };\n    MetadataStorage.prototype.findMetadata = function (metadatas, target, propertyName) {\n        var metadataFromTargetMap = metadatas.get(target);\n        if (metadataFromTargetMap) {\n            var metadataFromTarget = metadataFromTargetMap.get(propertyName);\n            if (metadataFromTarget) {\n                return metadataFromTarget;\n            }\n        }\n        for (var _i = 0, _a = this.getAncestors(target); _i < _a.length; _i++) {\n            var ancestor = _a[_i];\n            var ancestorMetadataMap = metadatas.get(ancestor);\n            if (ancestorMetadataMap) {\n                var ancestorResult = ancestorMetadataMap.get(propertyName);\n                if (ancestorResult) {\n                    return ancestorResult;\n                }\n            }\n        }\n        return undefined;\n    };\n    MetadataStorage.prototype.findMetadatas = function (metadatas, target, propertyName) {\n        var metadataFromTargetMap = metadatas.get(target);\n        var metadataFromTarget;\n        if (metadataFromTargetMap) {\n            metadataFromTarget = metadataFromTargetMap.get(propertyName);\n        }\n        var metadataFromAncestorsTarget = [];\n        for (var _i = 0, _a = this.getAncestors(target); _i < _a.length; _i++) {\n            var ancestor = _a[_i];\n            var ancestorMetadataMap = metadatas.get(ancestor);\n            if (ancestorMetadataMap) {\n                if (ancestorMetadataMap.has(propertyName)) {\n                    metadataFromAncestorsTarget.push.apply(metadataFromAncestorsTarget, ancestorMetadataMap.get(propertyName));\n                }\n            }\n        }\n        return metadataFromAncestorsTarget\n            .slice()\n            .reverse()\n            .concat((metadataFromTarget || []).slice().reverse());\n    };\n    MetadataStorage.prototype.getAncestors = function (target) {\n        if (!target)\n            return [];\n        if (!this._ancestorsMap.has(target)) {\n            var ancestors = [];\n            for (var baseClass = Object.getPrototypeOf(target.prototype.constructor); typeof baseClass.prototype !== 'undefined'; baseClass = Object.getPrototypeOf(baseClass.prototype.constructor)) {\n                ancestors.push(baseClass);\n            }\n            this._ancestorsMap.set(target, ancestors);\n        }\n        return this._ancestorsMap.get(target);\n    };\n    return MetadataStorage;\n}());\nexport { MetadataStorage };\n//# sourceMappingURL=MetadataStorage.js.map","import { MetadataStorage } from './MetadataStorage';\n/**\n * Default metadata storage is used as singleton and can be used to storage all metadatas.\n */\nexport var defaultMetadataStorage = new MetadataStorage();\n//# sourceMappingURL=storage.js.map","import { defaultMetadataStorage } from './storage';\nimport { TransformationType } from './enums';\nimport { getGlobal, isPromise } from './utils';\nfunction instantiateArrayType(arrayType) {\n    var array = new arrayType();\n    if (!(array instanceof Set) && !('push' in array)) {\n        return [];\n    }\n    return array;\n}\nvar TransformOperationExecutor = /** @class */ (function () {\n    // -------------------------------------------------------------------------\n    // Constructor\n    // -------------------------------------------------------------------------\n    function TransformOperationExecutor(transformationType, options) {\n        this.transformationType = transformationType;\n        this.options = options;\n        // -------------------------------------------------------------------------\n        // Private Properties\n        // -------------------------------------------------------------------------\n        this.recursionStack = new Set();\n    }\n    // -------------------------------------------------------------------------\n    // Public Methods\n    // -------------------------------------------------------------------------\n    TransformOperationExecutor.prototype.transform = function (source, value, targetType, arrayType, isMap, level) {\n        var _this = this;\n        if (level === void 0) { level = 0; }\n        if (Array.isArray(value) || value instanceof Set) {\n            var newValue_1 = arrayType && this.transformationType === TransformationType.PLAIN_TO_CLASS\n                ? instantiateArrayType(arrayType)\n                : [];\n            value.forEach(function (subValue, index) {\n                var subSource = source ? source[index] : undefined;\n                if (!_this.options.enableCircularCheck || !_this.isCircular(subValue)) {\n                    var realTargetType = void 0;\n                    if (typeof targetType !== 'function' &&\n                        targetType &&\n                        targetType.options &&\n                        targetType.options.discriminator &&\n                        targetType.options.discriminator.property &&\n                        targetType.options.discriminator.subTypes) {\n                        if (_this.transformationType === TransformationType.PLAIN_TO_CLASS) {\n                            realTargetType = targetType.options.discriminator.subTypes.find(function (subType) {\n                                return subType.name === subValue[targetType.options.discriminator.property];\n                            });\n                            var options = { newObject: newValue_1, object: subValue, property: undefined };\n                            var newType = targetType.typeFunction(options);\n                            realTargetType === undefined ? (realTargetType = newType) : (realTargetType = realTargetType.value);\n                            if (!targetType.options.keepDiscriminatorProperty)\n                                delete subValue[targetType.options.discriminator.property];\n                        }\n                        if (_this.transformationType === TransformationType.CLASS_TO_CLASS) {\n                            realTargetType = subValue.constructor;\n                        }\n                        if (_this.transformationType === TransformationType.CLASS_TO_PLAIN) {\n                            subValue[targetType.options.discriminator.property] = targetType.options.discriminator.subTypes.find(function (subType) { return subType.value === subValue.constructor; }).name;\n                        }\n                    }\n                    else {\n                        realTargetType = targetType;\n                    }\n                    var value_1 = _this.transform(subSource, subValue, realTargetType, undefined, subValue instanceof Map, level + 1);\n                    if (newValue_1 instanceof Set) {\n                        newValue_1.add(value_1);\n                    }\n                    else {\n                        newValue_1.push(value_1);\n                    }\n                }\n                else if (_this.transformationType === TransformationType.CLASS_TO_CLASS) {\n                    if (newValue_1 instanceof Set) {\n                        newValue_1.add(subValue);\n                    }\n                    else {\n                        newValue_1.push(subValue);\n                    }\n                }\n            });\n            return newValue_1;\n        }\n        else if (targetType === String && !isMap) {\n            if (value === null || value === undefined)\n                return value;\n            return String(value);\n        }\n        else if (targetType === Number && !isMap) {\n            if (value === null || value === undefined)\n                return value;\n            return Number(value);\n        }\n        else if (targetType === Boolean && !isMap) {\n            if (value === null || value === undefined)\n                return value;\n            return Boolean(value);\n        }\n        else if ((targetType === Date || value instanceof Date) && !isMap) {\n            if (value instanceof Date) {\n                return new Date(value.valueOf());\n            }\n            if (value === null || value === undefined)\n                return value;\n            return new Date(value);\n        }\n        else if (!!getGlobal().Buffer && (targetType === Buffer || value instanceof Buffer) && !isMap) {\n            if (value === null || value === undefined)\n                return value;\n            return Buffer.from(value);\n        }\n        else if (isPromise(value) && !isMap) {\n            return new Promise(function (resolve, reject) {\n                value.then(function (data) { return resolve(_this.transform(undefined, data, targetType, undefined, undefined, level + 1)); }, reject);\n            });\n        }\n        else if (!isMap && value !== null && typeof value === 'object' && typeof value.then === 'function') {\n            // Note: We should not enter this, as promise has been handled above\n            // This option simply returns the Promise preventing a JS error from happening and should be an inaccessible path.\n            return value; // skip promise transformation\n        }\n        else if (typeof value === 'object' && value !== null) {\n            // try to guess the type\n            if (!targetType && value.constructor !== Object /* && TransformationType === TransformationType.CLASS_TO_PLAIN*/)\n                targetType = value.constructor;\n            if (!targetType && source)\n                targetType = source.constructor;\n            if (this.options.enableCircularCheck) {\n                // add transformed type to prevent circular references\n                this.recursionStack.add(value);\n            }\n            var keys = this.getKeys(targetType, value, isMap);\n            var newValue = source ? source : {};\n            if (!source &&\n                (this.transformationType === TransformationType.PLAIN_TO_CLASS ||\n                    this.transformationType === TransformationType.CLASS_TO_CLASS)) {\n                if (isMap) {\n                    newValue = new Map();\n                }\n                else if (targetType) {\n                    newValue = new targetType();\n                }\n                else {\n                    newValue = {};\n                }\n            }\n            var _loop_1 = function (key) {\n                if (key === '__proto__' || key === 'constructor') {\n                    return \"continue\";\n                }\n                var valueKey = key;\n                var newValueKey = key, propertyName = key;\n                if (!this_1.options.ignoreDecorators && targetType) {\n                    if (this_1.transformationType === TransformationType.PLAIN_TO_CLASS) {\n                        var exposeMetadata = defaultMetadataStorage.findExposeMetadataByCustomName(targetType, key);\n                        if (exposeMetadata) {\n                            propertyName = exposeMetadata.propertyName;\n                            newValueKey = exposeMetadata.propertyName;\n                        }\n                    }\n                    else if (this_1.transformationType === TransformationType.CLASS_TO_PLAIN ||\n                        this_1.transformationType === TransformationType.CLASS_TO_CLASS) {\n                        var exposeMetadata = defaultMetadataStorage.findExposeMetadata(targetType, key);\n                        if (exposeMetadata && exposeMetadata.options && exposeMetadata.options.name) {\n                            newValueKey = exposeMetadata.options.name;\n                        }\n                    }\n                }\n                // get a subvalue\n                var subValue = undefined;\n                if (value instanceof Map) {\n                    subValue = value.get(valueKey);\n                }\n                else if (value[valueKey] instanceof Function) {\n                    subValue = value[valueKey]();\n                }\n                else {\n                    subValue = value[valueKey];\n                }\n                // determine a type\n                var type = undefined, isSubValueMap = subValue instanceof Map;\n                if (targetType && isMap) {\n                    type = targetType;\n                }\n                else if (targetType) {\n                    var metadata_1 = defaultMetadataStorage.findTypeMetadata(targetType, propertyName);\n                    if (metadata_1) {\n                        var options = { newObject: newValue, object: value, property: propertyName };\n                        var newType = metadata_1.typeFunction ? metadata_1.typeFunction(options) : metadata_1.reflectedType;\n                        if (metadata_1.options &&\n                            metadata_1.options.discriminator &&\n                            metadata_1.options.discriminator.property &&\n                            metadata_1.options.discriminator.subTypes) {\n                            if (!(value[valueKey] instanceof Array)) {\n                                if (this_1.transformationType === TransformationType.PLAIN_TO_CLASS) {\n                                    type = metadata_1.options.discriminator.subTypes.find(function (subType) {\n                                        if (subValue && subValue instanceof Object && metadata_1.options.discriminator.property in subValue) {\n                                            return subType.name === subValue[metadata_1.options.discriminator.property];\n                                        }\n                                    });\n                                    type === undefined ? (type = newType) : (type = type.value);\n                                    if (!metadata_1.options.keepDiscriminatorProperty) {\n                                        if (subValue && subValue instanceof Object && metadata_1.options.discriminator.property in subValue) {\n                                            delete subValue[metadata_1.options.discriminator.property];\n                                        }\n                                    }\n                                }\n                                if (this_1.transformationType === TransformationType.CLASS_TO_CLASS) {\n                                    type = subValue.constructor;\n                                }\n                                if (this_1.transformationType === TransformationType.CLASS_TO_PLAIN) {\n                                    subValue[metadata_1.options.discriminator.property] = metadata_1.options.discriminator.subTypes.find(function (subType) { return subType.value === subValue.constructor; }).name;\n                                }\n                            }\n                            else {\n                                type = metadata_1;\n                            }\n                        }\n                        else {\n                            type = newType;\n                        }\n                        isSubValueMap = isSubValueMap || metadata_1.reflectedType === Map;\n                    }\n                    else if (this_1.options.targetMaps) {\n                        // try to find a type in target maps\n                        this_1.options.targetMaps\n                            .filter(function (map) { return map.target === targetType && !!map.properties[propertyName]; })\n                            .forEach(function (map) { return (type = map.properties[propertyName]); });\n                    }\n                    else if (this_1.options.enableImplicitConversion &&\n                        this_1.transformationType === TransformationType.PLAIN_TO_CLASS) {\n                        // if we have no registererd type via the @Type() decorator then we check if we have any\n                        // type declarations in reflect-metadata (type declaration is emited only if some decorator is added to the property.)\n                        var reflectedType = Reflect.getMetadata('design:type', targetType.prototype, propertyName);\n                        if (reflectedType) {\n                            type = reflectedType;\n                        }\n                    }\n                }\n                // if value is an array try to get its custom array type\n                var arrayType_1 = Array.isArray(value[valueKey])\n                    ? this_1.getReflectedType(targetType, propertyName)\n                    : undefined;\n                // const subValueKey = TransformationType === TransformationType.PLAIN_TO_CLASS && newKeyName ? newKeyName : key;\n                var subSource = source ? source[valueKey] : undefined;\n                // if its deserialization then type if required\n                // if we uncomment this types like string[] will not work\n                // if (this.transformationType === TransformationType.PLAIN_TO_CLASS && !type && subValue instanceof Object && !(subValue instanceof Date))\n                //     throw new Error(`Cannot determine type for ${(targetType as any).name }.${propertyName}, did you forget to specify a @Type?`);\n                // if newValue is a source object that has method that match newKeyName then skip it\n                if (newValue.constructor.prototype) {\n                    var descriptor = Object.getOwnPropertyDescriptor(newValue.constructor.prototype, newValueKey);\n                    if ((this_1.transformationType === TransformationType.PLAIN_TO_CLASS ||\n                        this_1.transformationType === TransformationType.CLASS_TO_CLASS) &&\n                        // eslint-disable-next-line @typescript-eslint/unbound-method\n                        ((descriptor && !descriptor.set) || newValue[newValueKey] instanceof Function))\n                        return \"continue\";\n                }\n                if (!this_1.options.enableCircularCheck || !this_1.isCircular(subValue)) {\n                    var transformKey = this_1.transformationType === TransformationType.PLAIN_TO_CLASS ? newValueKey : key;\n                    var finalValue = void 0;\n                    if (this_1.transformationType === TransformationType.CLASS_TO_PLAIN) {\n                        // Get original value\n                        finalValue = value[transformKey];\n                        // Apply custom transformation\n                        finalValue = this_1.applyCustomTransformations(finalValue, targetType, transformKey, value, this_1.transformationType);\n                        // If nothing change, it means no custom transformation was applied, so use the subValue.\n                        finalValue = value[transformKey] === finalValue ? subValue : finalValue;\n                        // Apply the default transformation\n                        finalValue = this_1.transform(subSource, finalValue, type, arrayType_1, isSubValueMap, level + 1);\n                    }\n                    else {\n                        if (subValue === undefined && this_1.options.exposeDefaultValues) {\n                            // Set default value if nothing provided\n                            finalValue = newValue[newValueKey];\n                        }\n                        else {\n                            finalValue = this_1.transform(subSource, subValue, type, arrayType_1, isSubValueMap, level + 1);\n                            finalValue = this_1.applyCustomTransformations(finalValue, targetType, transformKey, value, this_1.transformationType);\n                        }\n                    }\n                    if (finalValue !== undefined || this_1.options.exposeUnsetFields) {\n                        if (newValue instanceof Map) {\n                            newValue.set(newValueKey, finalValue);\n                        }\n                        else {\n                            newValue[newValueKey] = finalValue;\n                        }\n                    }\n                }\n                else if (this_1.transformationType === TransformationType.CLASS_TO_CLASS) {\n                    var finalValue = subValue;\n                    finalValue = this_1.applyCustomTransformations(finalValue, targetType, key, value, this_1.transformationType);\n                    if (finalValue !== undefined || this_1.options.exposeUnsetFields) {\n                        if (newValue instanceof Map) {\n                            newValue.set(newValueKey, finalValue);\n                        }\n                        else {\n                            newValue[newValueKey] = finalValue;\n                        }\n                    }\n                }\n            };\n            var this_1 = this;\n            // traverse over keys\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                _loop_1(key);\n            }\n            if (this.options.enableCircularCheck) {\n                this.recursionStack.delete(value);\n            }\n            return newValue;\n        }\n        else {\n            return value;\n        }\n    };\n    TransformOperationExecutor.prototype.applyCustomTransformations = function (value, target, key, obj, transformationType) {\n        var _this = this;\n        var metadatas = defaultMetadataStorage.findTransformMetadatas(target, key, this.transformationType);\n        // apply versioning options\n        if (this.options.version !== undefined) {\n            metadatas = metadatas.filter(function (metadata) {\n                if (!metadata.options)\n                    return true;\n                return _this.checkVersion(metadata.options.since, metadata.options.until);\n            });\n        }\n        // apply grouping options\n        if (this.options.groups && this.options.groups.length) {\n            metadatas = metadatas.filter(function (metadata) {\n                if (!metadata.options)\n                    return true;\n                return _this.checkGroups(metadata.options.groups);\n            });\n        }\n        else {\n            metadatas = metadatas.filter(function (metadata) {\n                return !metadata.options || !metadata.options.groups || !metadata.options.groups.length;\n            });\n        }\n        metadatas.forEach(function (metadata) {\n            value = metadata.transformFn({ value: value, key: key, obj: obj, type: transformationType, options: _this.options });\n        });\n        return value;\n    };\n    // preventing circular references\n    TransformOperationExecutor.prototype.isCircular = function (object) {\n        return this.recursionStack.has(object);\n    };\n    TransformOperationExecutor.prototype.getReflectedType = function (target, propertyName) {\n        if (!target)\n            return undefined;\n        var meta = defaultMetadataStorage.findTypeMetadata(target, propertyName);\n        return meta ? meta.reflectedType : undefined;\n    };\n    TransformOperationExecutor.prototype.getKeys = function (target, object, isMap) {\n        var _this = this;\n        // determine exclusion strategy\n        var strategy = defaultMetadataStorage.getStrategy(target);\n        if (strategy === 'none')\n            strategy = this.options.strategy || 'exposeAll'; // exposeAll is default strategy\n        // get all keys that need to expose\n        var keys = [];\n        if (strategy === 'exposeAll' || isMap) {\n            if (object instanceof Map) {\n                keys = Array.from(object.keys());\n            }\n            else {\n                keys = Object.keys(object);\n            }\n        }\n        if (isMap) {\n            // expose & exclude do not apply for map keys only to fields\n            return keys;\n        }\n        if (!this.options.ignoreDecorators && target) {\n            // add all exposed to list of keys\n            var exposedProperties = defaultMetadataStorage.getExposedProperties(target, this.transformationType);\n            if (this.transformationType === TransformationType.PLAIN_TO_CLASS) {\n                exposedProperties = exposedProperties.map(function (key) {\n                    var exposeMetadata = defaultMetadataStorage.findExposeMetadata(target, key);\n                    if (exposeMetadata && exposeMetadata.options && exposeMetadata.options.name) {\n                        return exposeMetadata.options.name;\n                    }\n                    return key;\n                });\n            }\n            if (this.options.excludeExtraneousValues) {\n                keys = exposedProperties;\n            }\n            else {\n                keys = keys.concat(exposedProperties);\n            }\n            // exclude excluded properties\n            var excludedProperties_1 = defaultMetadataStorage.getExcludedProperties(target, this.transformationType);\n            if (excludedProperties_1.length > 0) {\n                keys = keys.filter(function (key) {\n                    return !excludedProperties_1.includes(key);\n                });\n            }\n            // apply versioning options\n            if (this.options.version !== undefined) {\n                keys = keys.filter(function (key) {\n                    var exposeMetadata = defaultMetadataStorage.findExposeMetadata(target, key);\n                    if (!exposeMetadata || !exposeMetadata.options)\n                        return true;\n                    return _this.checkVersion(exposeMetadata.options.since, exposeMetadata.options.until);\n                });\n            }\n            // apply grouping options\n            if (this.options.groups && this.options.groups.length) {\n                keys = keys.filter(function (key) {\n                    var exposeMetadata = defaultMetadataStorage.findExposeMetadata(target, key);\n                    if (!exposeMetadata || !exposeMetadata.options)\n                        return true;\n                    return _this.checkGroups(exposeMetadata.options.groups);\n                });\n            }\n            else {\n                keys = keys.filter(function (key) {\n                    var exposeMetadata = defaultMetadataStorage.findExposeMetadata(target, key);\n                    return (!exposeMetadata ||\n                        !exposeMetadata.options ||\n                        !exposeMetadata.options.groups ||\n                        !exposeMetadata.options.groups.length);\n                });\n            }\n        }\n        // exclude prefixed properties\n        if (this.options.excludePrefixes && this.options.excludePrefixes.length) {\n            keys = keys.filter(function (key) {\n                return _this.options.excludePrefixes.every(function (prefix) {\n                    return key.substr(0, prefix.length) !== prefix;\n                });\n            });\n        }\n        // make sure we have unique keys\n        keys = keys.filter(function (key, index, self) {\n            return self.indexOf(key) === index;\n        });\n        return keys;\n    };\n    TransformOperationExecutor.prototype.checkVersion = function (since, until) {\n        var decision = true;\n        if (decision && since)\n            decision = this.options.version >= since;\n        if (decision && until)\n            decision = this.options.version < until;\n        return decision;\n    };\n    TransformOperationExecutor.prototype.checkGroups = function (groups) {\n        if (!groups)\n            return true;\n        return this.options.groups.some(function (optionGroup) { return groups.includes(optionGroup); });\n    };\n    return TransformOperationExecutor;\n}());\nexport { TransformOperationExecutor };\n//# sourceMappingURL=TransformOperationExecutor.js.map","export function isPromise(p) {\n    return p !== null && typeof p === 'object' && typeof p.then === 'function';\n}\n//# sourceMappingURL=is-promise.util.js.map","/**\n * This function returns the global object across Node and browsers.\n *\n * Note: `globalThis` is the standardized approach however it has been added to\n * Node.js in version 12. We need to include this snippet until Node 12 EOL.\n */\nexport function getGlobal() {\n    if (typeof globalThis !== 'undefined') {\n        return globalThis;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore: Cannot find name 'window'.\n    if (typeof window !== 'undefined') {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore: Cannot find name 'window'.\n        return window;\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore: Cannot find name 'self'.\n    if (typeof self !== 'undefined') {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore: Cannot find name 'self'.\n        return self;\n    }\n}\n//# sourceMappingURL=get-global.util.js.map","/**\n * These are the default options used by any transformation operation.\n */\nexport var defaultOptions = {\n    enableCircularCheck: false,\n    enableImplicitConversion: false,\n    excludeExtraneousValues: false,\n    excludePrefixes: undefined,\n    exposeDefaultValues: false,\n    exposeUnsetFields: true,\n    groups: undefined,\n    ignoreDecorators: false,\n    strategy: undefined,\n    targetMaps: undefined,\n    version: undefined,\n};\n//# sourceMappingURL=default-options.constant.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TransformOperationExecutor } from './TransformOperationExecutor';\nimport { TransformationType } from './enums';\nimport { defaultOptions } from './constants/default-options.constant';\nvar ClassTransformer = /** @class */ (function () {\n    function ClassTransformer() {\n    }\n    ClassTransformer.prototype.classToPlain = function (object, options) {\n        var executor = new TransformOperationExecutor(TransformationType.CLASS_TO_PLAIN, __assign(__assign({}, defaultOptions), options));\n        return executor.transform(undefined, object, undefined, undefined, undefined, undefined);\n    };\n    ClassTransformer.prototype.classToPlainFromExist = function (object, plainObject, options) {\n        var executor = new TransformOperationExecutor(TransformationType.CLASS_TO_PLAIN, __assign(__assign({}, defaultOptions), options));\n        return executor.transform(plainObject, object, undefined, undefined, undefined, undefined);\n    };\n    ClassTransformer.prototype.plainToClass = function (cls, plain, options) {\n        var executor = new TransformOperationExecutor(TransformationType.PLAIN_TO_CLASS, __assign(__assign({}, defaultOptions), options));\n        return executor.transform(undefined, plain, cls, undefined, undefined, undefined);\n    };\n    ClassTransformer.prototype.plainToClassFromExist = function (clsObject, plain, options) {\n        var executor = new TransformOperationExecutor(TransformationType.PLAIN_TO_CLASS, __assign(__assign({}, defaultOptions), options));\n        return executor.transform(clsObject, plain, undefined, undefined, undefined, undefined);\n    };\n    ClassTransformer.prototype.classToClass = function (object, options) {\n        var executor = new TransformOperationExecutor(TransformationType.CLASS_TO_CLASS, __assign(__assign({}, defaultOptions), options));\n        return executor.transform(undefined, object, undefined, undefined, undefined, undefined);\n    };\n    ClassTransformer.prototype.classToClassFromExist = function (object, fromObject, options) {\n        var executor = new TransformOperationExecutor(TransformationType.CLASS_TO_CLASS, __assign(__assign({}, defaultOptions), options));\n        return executor.transform(fromObject, object, undefined, undefined, undefined, undefined);\n    };\n    ClassTransformer.prototype.serialize = function (object, options) {\n        return JSON.stringify(this.classToPlain(object, options));\n    };\n    /**\n     * Deserializes given JSON string to a object of the given class.\n     */\n    ClassTransformer.prototype.deserialize = function (cls, json, options) {\n        var jsonObject = JSON.parse(json);\n        return this.plainToClass(cls, jsonObject, options);\n    };\n    /**\n     * Deserializes given JSON string to an array of objects of the given class.\n     */\n    ClassTransformer.prototype.deserializeArray = function (cls, json, options) {\n        var jsonObject = JSON.parse(json);\n        return this.plainToClass(cls, jsonObject, options);\n    };\n    return ClassTransformer;\n}());\nexport { ClassTransformer };\n//# sourceMappingURL=ClassTransformer.js.map","import { ClassTransformer } from './ClassTransformer';\nexport { ClassTransformer } from './ClassTransformer';\nexport * from './decorators';\nexport * from './interfaces';\nexport * from './enums';\nvar classTransformer = new ClassTransformer();\nexport function classToPlain(object, options) {\n    return classTransformer.classToPlain(object, options);\n}\nexport function classToPlainFromExist(object, plainObject, options) {\n    return classTransformer.classToPlainFromExist(object, plainObject, options);\n}\nexport function plainToClass(cls, plain, options) {\n    return classTransformer.plainToClass(cls, plain, options);\n}\nexport function plainToClassFromExist(clsObject, plain, options) {\n    return classTransformer.plainToClassFromExist(clsObject, plain, options);\n}\nexport function classToClass(object, options) {\n    return classTransformer.classToClass(object, options);\n}\nexport function classToClassFromExist(object, fromObject, options) {\n    return classTransformer.classToClassFromExist(object, fromObject, options);\n}\nexport function serialize(object, options) {\n    return classTransformer.serialize(object, options);\n}\n/**\n * Deserializes given JSON string to a object of the given class.\n */\nexport function deserialize(cls, json, options) {\n    return classTransformer.deserialize(cls, json, options);\n}\n/**\n * Deserializes given JSON string to an array of objects of the given class.\n */\nexport function deserializeArray(cls, json, options) {\n    return classTransformer.deserializeArray(cls, json, options);\n}\n//# sourceMappingURL=index.js.map","/**\n * This metadata contains validation rules.\n */\nvar ValidationMetadata = /** @class */ (function () {\n    // -------------------------------------------------------------------------\n    // Constructor\n    // -------------------------------------------------------------------------\n    function ValidationMetadata(args) {\n        /**\n         * Validation groups used for this validation.\n         */\n        this.groups = [];\n        /**\n         * Specifies if validated value is an array and each of its item must be validated.\n         */\n        this.each = false;\n        /*\n         * A transient set of data passed through to the validation result for response mapping\n         */\n        this.context = undefined;\n        this.type = args.type;\n        this.target = args.target;\n        this.propertyName = args.propertyName;\n        this.constraints = args.constraints;\n        this.constraintCls = args.constraintCls;\n        this.validationTypeOptions = args.validationTypeOptions;\n        if (args.validationOptions) {\n            this.message = args.validationOptions.message;\n            this.groups = args.validationOptions.groups;\n            this.always = args.validationOptions.always;\n            this.each = args.validationOptions.each;\n            this.context = args.validationOptions.context;\n        }\n    }\n    return ValidationMetadata;\n}());\nexport { ValidationMetadata };\n//# sourceMappingURL=ValidationMetadata.js.map","import { ValidationMetadata } from '../metadata/ValidationMetadata';\n/**\n * Used to transform validation schemas to validation metadatas.\n */\nvar ValidationSchemaToMetadataTransformer = /** @class */ (function () {\n    function ValidationSchemaToMetadataTransformer() {\n    }\n    ValidationSchemaToMetadataTransformer.prototype.transform = function (schema) {\n        var metadatas = [];\n        Object.keys(schema.properties).forEach(function (property) {\n            schema.properties[property].forEach(function (validation) {\n                var validationOptions = {\n                    message: validation.message,\n                    groups: validation.groups,\n                    always: validation.always,\n                    each: validation.each,\n                };\n                var args = {\n                    type: validation.type,\n                    target: schema.name,\n                    propertyName: property,\n                    constraints: validation.constraints,\n                    validationTypeOptions: validation.options,\n                    validationOptions: validationOptions,\n                };\n                metadatas.push(new ValidationMetadata(args));\n            });\n        });\n        return metadatas;\n    };\n    return ValidationSchemaToMetadataTransformer;\n}());\nexport { ValidationSchemaToMetadataTransformer };\n//# sourceMappingURL=ValidationSchemaToMetadataTransformer.js.map","// https://github.com/TylorS/typed-is-promise/blob/abf1514e1b6961adfc75765476b0debb96b2c3ae/src/index.ts\nexport function isPromise(p) {\n    return p !== null && typeof p === 'object' && typeof p.then === 'function';\n}\n//# sourceMappingURL=is-promise.util.js.map","import { ValidationSchemaToMetadataTransformer } from '../validation-schema/ValidationSchemaToMetadataTransformer';\nimport { getGlobal } from '../utils';\n/**\n * Storage all metadatas.\n */\nvar MetadataStorage = /** @class */ (function () {\n    function MetadataStorage() {\n        // -------------------------------------------------------------------------\n        // Private properties\n        // -------------------------------------------------------------------------\n        this.validationMetadatas = [];\n        this.constraintMetadatas = [];\n    }\n    Object.defineProperty(MetadataStorage.prototype, \"hasValidationMetaData\", {\n        get: function () {\n            return !!this.validationMetadatas.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // -------------------------------------------------------------------------\n    // Public Methods\n    // -------------------------------------------------------------------------\n    /**\n     * Adds a new validation metadata.\n     */\n    MetadataStorage.prototype.addValidationSchema = function (schema) {\n        var _this = this;\n        var validationMetadatas = new ValidationSchemaToMetadataTransformer().transform(schema);\n        validationMetadatas.forEach(function (validationMetadata) { return _this.addValidationMetadata(validationMetadata); });\n    };\n    /**\n     * Adds a new validation metadata.\n     */\n    MetadataStorage.prototype.addValidationMetadata = function (metadata) {\n        this.validationMetadatas.push(metadata);\n    };\n    /**\n     * Adds a new constraint metadata.\n     */\n    MetadataStorage.prototype.addConstraintMetadata = function (metadata) {\n        this.constraintMetadatas.push(metadata);\n    };\n    /**\n     * Groups metadata by their property names.\n     */\n    MetadataStorage.prototype.groupByPropertyName = function (metadata) {\n        var grouped = {};\n        metadata.forEach(function (metadata) {\n            if (!grouped[metadata.propertyName])\n                grouped[metadata.propertyName] = [];\n            grouped[metadata.propertyName].push(metadata);\n        });\n        return grouped;\n    };\n    /**\n     * Gets all validation metadatas for the given object with the given groups.\n     */\n    MetadataStorage.prototype.getTargetValidationMetadatas = function (targetConstructor, targetSchema, always, strictGroups, groups) {\n        var includeMetadataBecauseOfAlwaysOption = function (metadata) {\n            // `metadata.always` overrides global default.\n            if (typeof metadata.always !== 'undefined')\n                return metadata.always;\n            // `metadata.groups` overrides global default.\n            if (metadata.groups && metadata.groups.length)\n                return false;\n            // Use global default.\n            return always;\n        };\n        var excludeMetadataBecauseOfStrictGroupsOption = function (metadata) {\n            if (strictGroups) {\n                // Validation is not using groups.\n                if (!groups || !groups.length) {\n                    // `metadata.groups` has at least one group.\n                    if (metadata.groups && metadata.groups.length)\n                        return true;\n                }\n            }\n            return false;\n        };\n        // get directly related to a target metadatas\n        var originalMetadatas = this.validationMetadatas.filter(function (metadata) {\n            if (metadata.target !== targetConstructor && metadata.target !== targetSchema)\n                return false;\n            if (includeMetadataBecauseOfAlwaysOption(metadata))\n                return true;\n            if (excludeMetadataBecauseOfStrictGroupsOption(metadata))\n                return false;\n            if (groups && groups.length > 0)\n                return metadata.groups && !!metadata.groups.find(function (group) { return groups.indexOf(group) !== -1; });\n            return true;\n        });\n        // get metadatas for inherited classes\n        var inheritedMetadatas = this.validationMetadatas.filter(function (metadata) {\n            // if target is a string it's means we validate against a schema, and there is no inheritance support for schemas\n            if (typeof metadata.target === 'string')\n                return false;\n            if (metadata.target === targetConstructor)\n                return false;\n            if (metadata.target instanceof Function && !(targetConstructor.prototype instanceof metadata.target))\n                return false;\n            if (includeMetadataBecauseOfAlwaysOption(metadata))\n                return true;\n            if (excludeMetadataBecauseOfStrictGroupsOption(metadata))\n                return false;\n            if (groups && groups.length > 0)\n                return metadata.groups && !!metadata.groups.find(function (group) { return groups.indexOf(group) !== -1; });\n            return true;\n        });\n        // filter out duplicate metadatas, prefer original metadatas instead of inherited metadatas\n        var uniqueInheritedMetadatas = inheritedMetadatas.filter(function (inheritedMetadata) {\n            return !originalMetadatas.find(function (originalMetadata) {\n                return (originalMetadata.propertyName === inheritedMetadata.propertyName &&\n                    originalMetadata.type === inheritedMetadata.type);\n            });\n        });\n        return originalMetadatas.concat(uniqueInheritedMetadatas);\n    };\n    /**\n     * Gets all validator constraints for the given object.\n     */\n    MetadataStorage.prototype.getTargetValidatorConstraints = function (target) {\n        return this.constraintMetadatas.filter(function (metadata) { return metadata.target === target; });\n    };\n    return MetadataStorage;\n}());\nexport { MetadataStorage };\n/**\n * Gets metadata storage.\n * Metadata storage follows the best practices and stores metadata in a global variable.\n */\nexport function getMetadataStorage() {\n    var global = getGlobal();\n    if (!global.classValidatorMetadataStorage) {\n        global.classValidatorMetadataStorage = new MetadataStorage();\n    }\n    return global.classValidatorMetadataStorage;\n}\n//# sourceMappingURL=MetadataStorage.js.map","/**\n * This function returns the global object across Node and browsers.\n *\n * Note: `globalThis` is the standardized approach however it has been added to\n * Node.js in version 12. We need to include this snippet until Node 12 EOL.\n */\nexport function getGlobal() {\n    if (typeof globalThis !== 'undefined') {\n        return globalThis;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore: Cannot find name 'window'.\n    if (typeof window !== 'undefined') {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore: Cannot find name 'window'.\n        return window;\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore: Cannot find name 'self'.\n    if (typeof self !== 'undefined') {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore: Cannot find name 'self'.\n        return self;\n    }\n}\n//# sourceMappingURL=get-global.util.js.map","/**\n * Validation error description.\n */\nvar ValidationError = /** @class */ (function () {\n    function ValidationError() {\n    }\n    /**\n     *\n     * @param shouldDecorate decorate the message with ANSI formatter escape codes for better readability\n     * @param hasParent true when the error is a child of an another one\n     * @param parentPath path as string to the parent of this property\n     */\n    ValidationError.prototype.toString = function (shouldDecorate, hasParent, parentPath) {\n        var _this = this;\n        if (shouldDecorate === void 0) { shouldDecorate = false; }\n        if (hasParent === void 0) { hasParent = false; }\n        if (parentPath === void 0) { parentPath = \"\"; }\n        var boldStart = shouldDecorate ? \"\\u001B[1m\" : \"\";\n        var boldEnd = shouldDecorate ? \"\\u001B[22m\" : \"\";\n        var propConstraintFailed = function (propertyName) {\n            return \" - property \" + boldStart + parentPath + propertyName + boldEnd + \" has failed the following constraints: \" + boldStart + Object.keys(_this.constraints).join(\", \") + boldEnd + \" \\n\";\n        };\n        if (!hasParent) {\n            return (\"An instance of \" + boldStart + (this.target ? this.target.constructor.name : 'an object') + boldEnd + \" has failed the validation:\\n\" +\n                (this.constraints ? propConstraintFailed(this.property) : \"\") +\n                (this.children\n                    ? this.children.map(function (childError) { return childError.toString(shouldDecorate, true, _this.property); }).join(\"\")\n                    : \"\"));\n        }\n        else {\n            // we format numbers as array indexes for better readability.\n            var formattedProperty_1 = Number.isInteger(+this.property)\n                ? \"[\" + this.property + \"]\"\n                : \"\" + (parentPath ? \".\" : \"\") + this.property;\n            if (this.constraints) {\n                return propConstraintFailed(formattedProperty_1);\n            }\n            else {\n                return this.children\n                    ? this.children\n                        .map(function (childError) { return childError.toString(shouldDecorate, true, \"\" + parentPath + formattedProperty_1); })\n                        .join(\"\")\n                    : \"\";\n            }\n        }\n    };\n    return ValidationError;\n}());\nexport { ValidationError };\n//# sourceMappingURL=ValidationError.js.map","/**\n * Validation types.\n */\nvar ValidationTypes = /** @class */ (function () {\n    function ValidationTypes() {\n    }\n    /**\n     * Checks if validation type is valid.\n     */\n    ValidationTypes.isValid = function (type) {\n        var _this = this;\n        return (type !== 'isValid' &&\n            type !== 'getMessage' &&\n            Object.keys(this)\n                .map(function (key) { return _this[key]; })\n                .indexOf(type) !== -1);\n    };\n    /* system */\n    ValidationTypes.CUSTOM_VALIDATION = 'customValidation'; // done\n    ValidationTypes.NESTED_VALIDATION = 'nestedValidation'; // done\n    ValidationTypes.PROMISE_VALIDATION = 'promiseValidation'; // done\n    ValidationTypes.CONDITIONAL_VALIDATION = 'conditionalValidation'; // done\n    ValidationTypes.WHITELIST = 'whitelistValidation'; // done\n    ValidationTypes.IS_DEFINED = 'isDefined'; // done\n    return ValidationTypes;\n}());\nexport { ValidationTypes };\n//# sourceMappingURL=ValidationTypes.js.map","/**\n * Convert the constraint to a string to be shown in an error\n */\nexport function constraintToString(constraint) {\n    if (Array.isArray(constraint)) {\n        return constraint.join(', ');\n    }\n    return \"\" + constraint;\n}\nvar ValidationUtils = /** @class */ (function () {\n    function ValidationUtils() {\n    }\n    ValidationUtils.replaceMessageSpecialTokens = function (message, validationArguments) {\n        var messageString;\n        if (message instanceof Function) {\n            messageString = message(validationArguments);\n        }\n        else if (typeof message === 'string') {\n            messageString = message;\n        }\n        if (messageString && validationArguments.constraints instanceof Array) {\n            validationArguments.constraints.forEach(function (constraint, index) {\n                messageString = messageString.replace(new RegExp(\"\\\\$constraint\" + (index + 1), 'g'), constraintToString(constraint));\n            });\n        }\n        if (messageString &&\n            validationArguments.value !== undefined &&\n            validationArguments.value !== null &&\n            typeof validationArguments.value === 'string')\n            messageString = messageString.replace(/\\$value/g, validationArguments.value);\n        if (messageString)\n            messageString = messageString.replace(/\\$property/g, validationArguments.property);\n        if (messageString)\n            messageString = messageString.replace(/\\$target/g, validationArguments.targetName);\n        return messageString;\n    };\n    return ValidationUtils;\n}());\nexport { ValidationUtils };\n//# sourceMappingURL=ValidationUtils.js.map","import { ValidationError } from './ValidationError';\nimport { ValidationTypes } from './ValidationTypes';\nimport { ValidationUtils } from './ValidationUtils';\nimport { isPromise, convertToArray } from '../utils';\nimport { getMetadataStorage } from '../metadata/MetadataStorage';\n/**\n * Executes validation over given object.\n */\nvar ValidationExecutor = /** @class */ (function () {\n    // -------------------------------------------------------------------------\n    // Constructor\n    // -------------------------------------------------------------------------\n    function ValidationExecutor(validator, validatorOptions) {\n        this.validator = validator;\n        this.validatorOptions = validatorOptions;\n        // -------------------------------------------------------------------------\n        // Properties\n        // -------------------------------------------------------------------------\n        this.awaitingPromises = [];\n        this.ignoreAsyncValidations = false;\n        // -------------------------------------------------------------------------\n        // Private Properties\n        // -------------------------------------------------------------------------\n        this.metadataStorage = getMetadataStorage();\n    }\n    // -------------------------------------------------------------------------\n    // Public Methods\n    // -------------------------------------------------------------------------\n    ValidationExecutor.prototype.execute = function (object, targetSchema, validationErrors) {\n        var _this = this;\n        var _a;\n        /**\n         * If there is no metadata registered it means possibly the dependencies are not flatterned and\n         * more than one instance is used.\n         *\n         * TODO: This needs proper handling, forcing to use the same container or some other proper solution.\n         */\n        if (!this.metadataStorage.hasValidationMetaData && ((_a = this.validatorOptions) === null || _a === void 0 ? void 0 : _a.enableDebugMessages) === true) {\n            console.warn(\"No metadata found. There is more than once class-validator version installed probably. You need to flatten your dependencies.\");\n        }\n        var groups = this.validatorOptions ? this.validatorOptions.groups : undefined;\n        var strictGroups = (this.validatorOptions && this.validatorOptions.strictGroups) || false;\n        var always = (this.validatorOptions && this.validatorOptions.always) || false;\n        var targetMetadatas = this.metadataStorage.getTargetValidationMetadatas(object.constructor, targetSchema, always, strictGroups, groups);\n        var groupedMetadatas = this.metadataStorage.groupByPropertyName(targetMetadatas);\n        if (this.validatorOptions && this.validatorOptions.forbidUnknownValues && !targetMetadatas.length) {\n            var validationError = new ValidationError();\n            if (!this.validatorOptions ||\n                !this.validatorOptions.validationError ||\n                this.validatorOptions.validationError.target === undefined ||\n                this.validatorOptions.validationError.target === true)\n                validationError.target = object;\n            validationError.value = undefined;\n            validationError.property = undefined;\n            validationError.children = [];\n            validationError.constraints = { unknownValue: 'an unknown value was passed to the validate function' };\n            validationErrors.push(validationError);\n            return;\n        }\n        if (this.validatorOptions && this.validatorOptions.whitelist)\n            this.whitelist(object, groupedMetadatas, validationErrors);\n        // General validation\n        Object.keys(groupedMetadatas).forEach(function (propertyName) {\n            var value = object[propertyName];\n            var definedMetadatas = groupedMetadatas[propertyName].filter(function (metadata) { return metadata.type === ValidationTypes.IS_DEFINED; });\n            var metadatas = groupedMetadatas[propertyName].filter(function (metadata) { return metadata.type !== ValidationTypes.IS_DEFINED && metadata.type !== ValidationTypes.WHITELIST; });\n            if (value instanceof Promise &&\n                metadatas.find(function (metadata) { return metadata.type === ValidationTypes.PROMISE_VALIDATION; })) {\n                _this.awaitingPromises.push(value.then(function (resolvedValue) {\n                    _this.performValidations(object, resolvedValue, propertyName, definedMetadatas, metadatas, validationErrors);\n                }));\n            }\n            else {\n                _this.performValidations(object, value, propertyName, definedMetadatas, metadatas, validationErrors);\n            }\n        });\n    };\n    ValidationExecutor.prototype.whitelist = function (object, groupedMetadatas, validationErrors) {\n        var _this = this;\n        var notAllowedProperties = [];\n        Object.keys(object).forEach(function (propertyName) {\n            // does this property have no metadata?\n            if (!groupedMetadatas[propertyName] || groupedMetadatas[propertyName].length === 0)\n                notAllowedProperties.push(propertyName);\n        });\n        if (notAllowedProperties.length > 0) {\n            if (this.validatorOptions && this.validatorOptions.forbidNonWhitelisted) {\n                // throw errors\n                notAllowedProperties.forEach(function (property) {\n                    var _a;\n                    var validationError = _this.generateValidationError(object, object[property], property);\n                    validationError.constraints = (_a = {}, _a[ValidationTypes.WHITELIST] = \"property \" + property + \" should not exist\", _a);\n                    validationError.children = undefined;\n                    validationErrors.push(validationError);\n                });\n            }\n            else {\n                // strip non allowed properties\n                notAllowedProperties.forEach(function (property) { return delete object[property]; });\n            }\n        }\n    };\n    ValidationExecutor.prototype.stripEmptyErrors = function (errors) {\n        var _this = this;\n        return errors.filter(function (error) {\n            if (error.children) {\n                error.children = _this.stripEmptyErrors(error.children);\n            }\n            if (Object.keys(error.constraints).length === 0) {\n                if (error.children.length === 0) {\n                    return false;\n                }\n                else {\n                    delete error.constraints;\n                }\n            }\n            return true;\n        });\n    };\n    // -------------------------------------------------------------------------\n    // Private Methods\n    // -------------------------------------------------------------------------\n    ValidationExecutor.prototype.performValidations = function (object, value, propertyName, definedMetadatas, metadatas, validationErrors) {\n        var customValidationMetadatas = metadatas.filter(function (metadata) { return metadata.type === ValidationTypes.CUSTOM_VALIDATION; });\n        var nestedValidationMetadatas = metadatas.filter(function (metadata) { return metadata.type === ValidationTypes.NESTED_VALIDATION; });\n        var conditionalValidationMetadatas = metadatas.filter(function (metadata) { return metadata.type === ValidationTypes.CONDITIONAL_VALIDATION; });\n        var validationError = this.generateValidationError(object, value, propertyName);\n        validationErrors.push(validationError);\n        var canValidate = this.conditionalValidations(object, value, conditionalValidationMetadatas);\n        if (!canValidate) {\n            return;\n        }\n        // handle IS_DEFINED validation type the special way - it should work no matter skipUndefinedProperties/skipMissingProperties is set or not\n        this.customValidations(object, value, definedMetadatas, validationError);\n        this.mapContexts(object, value, definedMetadatas, validationError);\n        if (value === undefined && this.validatorOptions && this.validatorOptions.skipUndefinedProperties === true) {\n            return;\n        }\n        if (value === null && this.validatorOptions && this.validatorOptions.skipNullProperties === true) {\n            return;\n        }\n        if ((value === null || value === undefined) &&\n            this.validatorOptions &&\n            this.validatorOptions.skipMissingProperties === true) {\n            return;\n        }\n        this.customValidations(object, value, customValidationMetadatas, validationError);\n        this.nestedValidations(value, nestedValidationMetadatas, validationError.children);\n        this.mapContexts(object, value, metadatas, validationError);\n        this.mapContexts(object, value, customValidationMetadatas, validationError);\n    };\n    ValidationExecutor.prototype.generateValidationError = function (object, value, propertyName) {\n        var validationError = new ValidationError();\n        if (!this.validatorOptions ||\n            !this.validatorOptions.validationError ||\n            this.validatorOptions.validationError.target === undefined ||\n            this.validatorOptions.validationError.target === true)\n            validationError.target = object;\n        if (!this.validatorOptions ||\n            !this.validatorOptions.validationError ||\n            this.validatorOptions.validationError.value === undefined ||\n            this.validatorOptions.validationError.value === true)\n            validationError.value = value;\n        validationError.property = propertyName;\n        validationError.children = [];\n        validationError.constraints = {};\n        return validationError;\n    };\n    ValidationExecutor.prototype.conditionalValidations = function (object, value, metadatas) {\n        return metadatas\n            .map(function (metadata) { return metadata.constraints[0](object, value); })\n            .reduce(function (resultA, resultB) { return resultA && resultB; }, true);\n    };\n    ValidationExecutor.prototype.customValidations = function (object, value, metadatas, error) {\n        var _this = this;\n        metadatas.forEach(function (metadata) {\n            _this.metadataStorage.getTargetValidatorConstraints(metadata.constraintCls).forEach(function (customConstraintMetadata) {\n                if (customConstraintMetadata.async && _this.ignoreAsyncValidations)\n                    return;\n                if (_this.validatorOptions &&\n                    _this.validatorOptions.stopAtFirstError &&\n                    Object.keys(error.constraints || {}).length > 0)\n                    return;\n                var validationArguments = {\n                    targetName: object.constructor ? object.constructor.name : undefined,\n                    property: metadata.propertyName,\n                    object: object,\n                    value: value,\n                    constraints: metadata.constraints,\n                };\n                if (!metadata.each || !(value instanceof Array || value instanceof Set || value instanceof Map)) {\n                    var validatedValue = customConstraintMetadata.instance.validate(value, validationArguments);\n                    if (isPromise(validatedValue)) {\n                        var promise = validatedValue.then(function (isValid) {\n                            if (!isValid) {\n                                var _a = _this.createValidationError(object, value, metadata, customConstraintMetadata), type = _a[0], message = _a[1];\n                                error.constraints[type] = message;\n                                if (metadata.context) {\n                                    if (!error.contexts) {\n                                        error.contexts = {};\n                                    }\n                                    error.contexts[type] = Object.assign(error.contexts[type] || {}, metadata.context);\n                                }\n                            }\n                        });\n                        _this.awaitingPromises.push(promise);\n                    }\n                    else {\n                        if (!validatedValue) {\n                            var _a = _this.createValidationError(object, value, metadata, customConstraintMetadata), type = _a[0], message = _a[1];\n                            error.constraints[type] = message;\n                        }\n                    }\n                    return;\n                }\n                // convert set and map into array\n                var arrayValue = convertToArray(value);\n                // Validation needs to be applied to each array item\n                var validatedSubValues = arrayValue.map(function (subValue) {\n                    return customConstraintMetadata.instance.validate(subValue, validationArguments);\n                });\n                var validationIsAsync = validatedSubValues.some(function (validatedSubValue) {\n                    return isPromise(validatedSubValue);\n                });\n                if (validationIsAsync) {\n                    // Wrap plain values (if any) in promises, so that all are async\n                    var asyncValidatedSubValues = validatedSubValues.map(function (validatedSubValue) {\n                        return isPromise(validatedSubValue) ? validatedSubValue : Promise.resolve(validatedSubValue);\n                    });\n                    var asyncValidationIsFinishedPromise = Promise.all(asyncValidatedSubValues).then(function (flatValidatedValues) {\n                        var validationResult = flatValidatedValues.every(function (isValid) { return isValid; });\n                        if (!validationResult) {\n                            var _a = _this.createValidationError(object, value, metadata, customConstraintMetadata), type = _a[0], message = _a[1];\n                            error.constraints[type] = message;\n                            if (metadata.context) {\n                                if (!error.contexts) {\n                                    error.contexts = {};\n                                }\n                                error.contexts[type] = Object.assign(error.contexts[type] || {}, metadata.context);\n                            }\n                        }\n                    });\n                    _this.awaitingPromises.push(asyncValidationIsFinishedPromise);\n                    return;\n                }\n                var validationResult = validatedSubValues.every(function (isValid) { return isValid; });\n                if (!validationResult) {\n                    var _b = _this.createValidationError(object, value, metadata, customConstraintMetadata), type = _b[0], message = _b[1];\n                    error.constraints[type] = message;\n                }\n            });\n        });\n    };\n    ValidationExecutor.prototype.nestedValidations = function (value, metadatas, errors) {\n        var _this = this;\n        if (value === void 0) {\n            return;\n        }\n        metadatas.forEach(function (metadata) {\n            var _a;\n            if (metadata.type !== ValidationTypes.NESTED_VALIDATION && metadata.type !== ValidationTypes.PROMISE_VALIDATION) {\n                return;\n            }\n            if (value instanceof Array || value instanceof Set || value instanceof Map) {\n                // Treats Set as an array - as index of Set value is value itself and it is common case to have Object as value\n                var arrayLikeValue = value instanceof Set ? Array.from(value) : value;\n                arrayLikeValue.forEach(function (subValue, index) {\n                    _this.performValidations(value, subValue, index.toString(), [], metadatas, errors);\n                });\n            }\n            else if (value instanceof Object) {\n                var targetSchema = typeof metadata.target === 'string' ? metadata.target : metadata.target.name;\n                _this.execute(value, targetSchema, errors);\n            }\n            else {\n                var error = new ValidationError();\n                error.value = value;\n                error.property = metadata.propertyName;\n                error.target = metadata.target;\n                var _b = _this.createValidationError(metadata.target, value, metadata), type = _b[0], message = _b[1];\n                error.constraints = (_a = {},\n                    _a[type] = message,\n                    _a);\n                errors.push(error);\n            }\n        });\n    };\n    ValidationExecutor.prototype.mapContexts = function (object, value, metadatas, error) {\n        var _this = this;\n        return metadatas.forEach(function (metadata) {\n            if (metadata.context) {\n                var customConstraint = void 0;\n                if (metadata.type === ValidationTypes.CUSTOM_VALIDATION) {\n                    var customConstraints = _this.metadataStorage.getTargetValidatorConstraints(metadata.constraintCls);\n                    customConstraint = customConstraints[0];\n                }\n                var type = _this.getConstraintType(metadata, customConstraint);\n                if (error.constraints[type]) {\n                    if (!error.contexts) {\n                        error.contexts = {};\n                    }\n                    error.contexts[type] = Object.assign(error.contexts[type] || {}, metadata.context);\n                }\n            }\n        });\n    };\n    ValidationExecutor.prototype.createValidationError = function (object, value, metadata, customValidatorMetadata) {\n        var targetName = object.constructor ? object.constructor.name : undefined;\n        var type = this.getConstraintType(metadata, customValidatorMetadata);\n        var validationArguments = {\n            targetName: targetName,\n            property: metadata.propertyName,\n            object: object,\n            value: value,\n            constraints: metadata.constraints,\n        };\n        var message = metadata.message || '';\n        if (!metadata.message &&\n            (!this.validatorOptions || (this.validatorOptions && !this.validatorOptions.dismissDefaultMessages))) {\n            if (customValidatorMetadata && customValidatorMetadata.instance.defaultMessage instanceof Function) {\n                message = customValidatorMetadata.instance.defaultMessage(validationArguments);\n            }\n        }\n        var messageString = ValidationUtils.replaceMessageSpecialTokens(message, validationArguments);\n        return [type, messageString];\n    };\n    ValidationExecutor.prototype.getConstraintType = function (metadata, customValidatorMetadata) {\n        var type = customValidatorMetadata && customValidatorMetadata.name ? customValidatorMetadata.name : metadata.type;\n        return type;\n    };\n    return ValidationExecutor;\n}());\nexport { ValidationExecutor };\n//# sourceMappingURL=ValidationExecutor.js.map","/**\n * Convert Map, Set to Array\n */\nexport function convertToArray(val) {\n    if (val instanceof Map) {\n        return Array.from(val.values());\n    }\n    return Array.isArray(val) ? val : Array.from(val);\n}\n//# sourceMappingURL=convert-to-array.util.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ValidationExecutor } from './ValidationExecutor';\n/**\n * Validator performs validation of the given object based on its metadata.\n */\nvar Validator = /** @class */ (function () {\n    function Validator() {\n    }\n    /**\n     * Performs validation of the given object based on decorators or validation schema.\n     */\n    Validator.prototype.validate = function (objectOrSchemaName, objectOrValidationOptions, maybeValidatorOptions) {\n        return this.coreValidate(objectOrSchemaName, objectOrValidationOptions, maybeValidatorOptions);\n    };\n    /**\n     * Performs validation of the given object based on decorators or validation schema and reject on error.\n     */\n    Validator.prototype.validateOrReject = function (objectOrSchemaName, objectOrValidationOptions, maybeValidatorOptions) {\n        return __awaiter(this, void 0, void 0, function () {\n            var errors;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.coreValidate(objectOrSchemaName, objectOrValidationOptions, maybeValidatorOptions)];\n                    case 1:\n                        errors = _a.sent();\n                        if (errors.length)\n                            return [2 /*return*/, Promise.reject(errors)];\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Performs validation of the given object based on decorators or validation schema.\n     */\n    Validator.prototype.validateSync = function (objectOrSchemaName, objectOrValidationOptions, maybeValidatorOptions) {\n        var object = typeof objectOrSchemaName === 'string' ? objectOrValidationOptions : objectOrSchemaName;\n        var options = typeof objectOrSchemaName === 'string' ? maybeValidatorOptions : objectOrValidationOptions;\n        var schema = typeof objectOrSchemaName === 'string' ? objectOrSchemaName : undefined;\n        var executor = new ValidationExecutor(this, options);\n        executor.ignoreAsyncValidations = true;\n        var validationErrors = [];\n        executor.execute(object, schema, validationErrors);\n        return executor.stripEmptyErrors(validationErrors);\n    };\n    // -------------------------------------------------------------------------\n    // Private Properties\n    // -------------------------------------------------------------------------\n    /**\n     * Performs validation of the given object based on decorators or validation schema.\n     * Common method for `validateOrReject` and `validate` methods.\n     */\n    Validator.prototype.coreValidate = function (objectOrSchemaName, objectOrValidationOptions, maybeValidatorOptions) {\n        var object = typeof objectOrSchemaName === 'string' ? objectOrValidationOptions : objectOrSchemaName;\n        var options = typeof objectOrSchemaName === 'string' ? maybeValidatorOptions : objectOrValidationOptions;\n        var schema = typeof objectOrSchemaName === 'string' ? objectOrSchemaName : undefined;\n        var executor = new ValidationExecutor(this, options);\n        var validationErrors = [];\n        executor.execute(object, schema, validationErrors);\n        return Promise.all(executor.awaitingPromises).then(function () {\n            return executor.stripEmptyErrors(validationErrors);\n        });\n    };\n    return Validator;\n}());\nexport { Validator };\n//# sourceMappingURL=Validator.js.map","/**\n * Container to be used by this library for inversion control. If container was not implicitly set then by default\n * container simply creates a new instance of the given class.\n */\nvar defaultContainer = new (/** @class */ (function () {\n    function class_1() {\n        this.instances = [];\n    }\n    class_1.prototype.get = function (someClass) {\n        var instance = this.instances.find(function (instance) { return instance.type === someClass; });\n        if (!instance) {\n            instance = { type: someClass, object: new someClass() };\n            this.instances.push(instance);\n        }\n        return instance.object;\n    };\n    return class_1;\n}()))();\nvar userContainer;\nvar userContainerOptions;\n/**\n * Sets container to be used by this library.\n */\nexport function useContainer(iocContainer, options) {\n    userContainer = iocContainer;\n    userContainerOptions = options;\n}\n/**\n * Gets the IOC container used by this library.\n */\nexport function getFromContainer(someClass) {\n    if (userContainer) {\n        try {\n            var instance = userContainer.get(someClass);\n            if (instance)\n                return instance;\n            if (!userContainerOptions || !userContainerOptions.fallback)\n                return instance;\n        }\n        catch (error) {\n            if (!userContainerOptions || !userContainerOptions.fallbackOnErrors)\n                throw error;\n        }\n    }\n    return defaultContainer.get(someClass);\n}\n//# sourceMappingURL=container.js.map","import { getFromContainer } from '../container';\n/**\n * This metadata interface contains information for custom validators.\n */\nvar ConstraintMetadata = /** @class */ (function () {\n    // -------------------------------------------------------------------------\n    // Constructor\n    // -------------------------------------------------------------------------\n    function ConstraintMetadata(target, name, async) {\n        if (async === void 0) { async = false; }\n        this.target = target;\n        this.name = name;\n        this.async = async;\n    }\n    Object.defineProperty(ConstraintMetadata.prototype, \"instance\", {\n        // -------------------------------------------------------------------------\n        // Accessors\n        // -------------------------------------------------------------------------\n        /**\n         * Instance of the target custom validation class which performs validation.\n         */\n        get: function () {\n            return getFromContainer(this.target);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ConstraintMetadata;\n}());\nexport { ConstraintMetadata };\n//# sourceMappingURL=ConstraintMetadata.js.map","import { registerDecorator } from '../../register-decorator';\nexport function buildMessage(impl, validationOptions) {\n    return function (validationArguments) {\n        var eachPrefix = validationOptions && validationOptions.each ? 'each value in ' : '';\n        return impl(eachPrefix, validationArguments);\n    };\n}\nexport function ValidateBy(options, validationOptions) {\n    return function (object, propertyName) {\n        registerDecorator({\n            name: options.name,\n            target: object.constructor,\n            propertyName: propertyName,\n            options: validationOptions,\n            constraints: options.constraints,\n            validator: options.validator,\n        });\n    };\n}\n//# sourceMappingURL=ValidateBy.js.map","import { ConstraintMetadata } from './metadata/ConstraintMetadata';\nimport { ValidationMetadata } from './metadata/ValidationMetadata';\nimport { ValidationTypes } from './validation/ValidationTypes';\nimport { getFromContainer } from './container';\nimport { MetadataStorage, getMetadataStorage } from './metadata/MetadataStorage';\n/**\n * Registers a custom validation decorator.\n */\nexport function registerDecorator(options) {\n    var constraintCls;\n    if (options.validator instanceof Function) {\n        constraintCls = options.validator;\n        var constraintClasses = getFromContainer(MetadataStorage).getTargetValidatorConstraints(options.validator);\n        if (constraintClasses.length > 1) {\n            throw \"More than one implementation of ValidatorConstraintInterface found for validator on: \" + options.target.name + \":\" + options.propertyName;\n        }\n    }\n    else {\n        var validator_1 = options.validator;\n        constraintCls = /** @class */ (function () {\n            function CustomConstraint() {\n            }\n            CustomConstraint.prototype.validate = function (value, validationArguments) {\n                return validator_1.validate(value, validationArguments);\n            };\n            CustomConstraint.prototype.defaultMessage = function (validationArguments) {\n                if (validator_1.defaultMessage) {\n                    return validator_1.defaultMessage(validationArguments);\n                }\n                return '';\n            };\n            return CustomConstraint;\n        }());\n        getMetadataStorage().addConstraintMetadata(new ConstraintMetadata(constraintCls, options.name, options.async));\n    }\n    var validationMetadataArgs = {\n        type: options.name && ValidationTypes.isValid(options.name) ? options.name : ValidationTypes.CUSTOM_VALIDATION,\n        target: options.target,\n        propertyName: options.propertyName,\n        validationOptions: options.options,\n        constraintCls: constraintCls,\n        constraints: options.constraints,\n    };\n    getMetadataStorage().addValidationMetadata(new ValidationMetadata(validationMetadataArgs));\n}\n//# sourceMappingURL=register-decorator.js.map","import { buildMessage, ValidateBy } from '../common/ValidateBy';\nexport var IS_STRING = 'isString';\n/**\n * Checks if a given value is a real string.\n */\nexport function isString(value) {\n    return value instanceof String || typeof value === 'string';\n}\n/**\n * Checks if a given value is a real string.\n */\nexport function IsString(validationOptions) {\n    return ValidateBy({\n        name: IS_STRING,\n        validator: {\n            validate: function (value, args) { return isString(value); },\n            defaultMessage: buildMessage(function (eachPrefix) { return eachPrefix + '$property must be a string'; }, validationOptions),\n        },\n    }, validationOptions);\n}\n//# sourceMappingURL=IsString.js.map","import { reactive, watch } from 'vue'\nimport { ClassConstructor, classToPlain, plainToClass } from 'class-transformer'\nimport { validateSync } from 'class-validator'\nimport { throttle } from 'lodash-es'\n\n// @ts-expect-error\nexport const useStorageObject = <U, T extends { new () } = unknown>(\n  DTO: T,\n  storageKey: string,\n  fixWrongPropertyData = true,\n) => {\n  const getObjectStorage = () => {\n    const saved = localStorage.getItem(storageKey)\n    if (!saved) {\n      return null\n    }\n    try {\n      const parsed = JSON.parse(saved)\n      const classify = plainToClass(DTO as any as ClassConstructor<T>, parsed)\n      const err = validateSync(classify)\n      if (err.length > 0) {\n        if (fixWrongPropertyData) {\n          const instanceDto = new DTO()\n          err.forEach((e) => {\n            const propertyName = e.property\n            parsed[propertyName] = instanceDto[propertyName]\n\n            localStorage.setItem(storageKey, JSON.stringify(parsed))\n          })\n        }\n        if (__DEV__) {\n          console.log(err)\n          console.log(\n            'wrong property key: ',\n            err.map((e) => e.property).toString(),\n          )\n          fixWrongPropertyData &&\n            console.log('after fix wrong property: ', parsed)\n        }\n        return fixWrongPropertyData ? parsed : null\n      }\n      return parsed\n    } catch (e) {\n      console.log(e)\n\n      return null\n    }\n  }\n\n  const objectStorage = reactive<T>(\n    getObjectStorage() ?? classToPlain(new DTO()),\n  )\n  watch(\n    () => objectStorage,\n    throttle(\n      (n) => {\n        localStorage.setItem(storageKey, JSON.stringify(n))\n      },\n      400,\n      { trailing: true },\n    ),\n    { deep: true },\n  )\n\n  return {\n    storage: objectStorage as U,\n    reset: () => {\n      Object.assign(objectStorage, classToPlain(new DTO()))\n    },\n    clear() {\n      localStorage.removeItem(storageKey)\n    },\n  }\n}\n","import { getMetadataStorage } from './metadata/MetadataStorage';\nimport { Validator } from './validation/Validator';\nimport { getFromContainer } from './container';\n// -------------------------------------------------------------------------\n// Export everything api users needs\n// -------------------------------------------------------------------------\nexport * from './container';\nexport * from './decorator/decorators';\nexport * from './decorator/ValidationOptions';\nexport * from './validation/ValidatorConstraintInterface';\nexport * from './validation/ValidationError';\nexport * from './validation/ValidatorOptions';\nexport * from './validation/ValidationArguments';\nexport * from './validation/ValidationTypes';\nexport * from './validation/Validator';\nexport * from './validation-schema/ValidationSchema';\nexport * from './register-decorator';\nexport * from './metadata/MetadataStorage';\n/**\n * Validates given object by object's decorators or given validation schema.\n */\nexport function validate(schemaNameOrObject, objectOrValidationOptions, maybeValidatorOptions) {\n    if (typeof schemaNameOrObject === 'string') {\n        return getFromContainer(Validator).validate(schemaNameOrObject, objectOrValidationOptions, maybeValidatorOptions);\n    }\n    else {\n        return getFromContainer(Validator).validate(schemaNameOrObject, objectOrValidationOptions);\n    }\n}\n/**\n * Validates given object by object's decorators or given validation schema and reject on error.\n */\nexport function validateOrReject(schemaNameOrObject, objectOrValidationOptions, maybeValidatorOptions) {\n    if (typeof schemaNameOrObject === 'string') {\n        return getFromContainer(Validator).validateOrReject(schemaNameOrObject, objectOrValidationOptions, maybeValidatorOptions);\n    }\n    else {\n        return getFromContainer(Validator).validateOrReject(schemaNameOrObject, objectOrValidationOptions);\n    }\n}\n/**\n * Validates given object by object's decorators or given validation schema.\n * Note that this method completely ignores async validations.\n * If you want to properly perform validation you need to call validate method instead.\n */\nexport function validateSync(schemaNameOrObject, objectOrValidationOptions, maybeValidatorOptions) {\n    if (typeof schemaNameOrObject === 'string') {\n        return getFromContainer(Validator).validateSync(schemaNameOrObject, objectOrValidationOptions, maybeValidatorOptions);\n    }\n    else {\n        return getFromContainer(Validator).validateSync(schemaNameOrObject, objectOrValidationOptions);\n    }\n}\n/**\n * Registers a new validation schema.\n */\nexport function registerSchema(schema) {\n    getMetadataStorage().addValidationSchema(schema);\n}\n//# sourceMappingURL=index.js.map","import { useSaveConfirm } from 'hooks/use-save-confirm'\nimport { NInput } from 'naive-ui'\nimport { defineComponent, ref, toRaw, watch } from 'vue'\nimport { editorBaseProps } from './universal/base'\n\nexport const PlainEditor = defineComponent({\n  props: { ...editorBaseProps },\n  setup(props) {\n    const textRef = ref<HTMLTextAreaElement>()\n\n    let memoInitialValue: string = toRaw(props.text)\n\n    watch(\n      () => props.text,\n      (n) => {\n        if (!memoInitialValue && n) {\n          memoInitialValue = n\n        }\n      },\n    )\n\n    useSaveConfirm(props.unSaveConfirm, () => memoInitialValue === props.text)\n\n    return () => (\n      <div>\n        <NInput\n          ref={textRef}\n          type=\"textarea\"\n          onInput={(e) => void props.onChange(e)}\n          value={props.text}\n          style={{ height: 'calc(100vh - 18rem)' }}\n        ></NInput>\n      </div>\n    )\n  },\n})\n","import { buildMessage, ValidateBy } from '../common/ValidateBy';\nexport var IS_INT = 'isInt';\n/**\n * Checks if value is an integer.\n */\nexport function isInt(val) {\n    return typeof val === 'number' && Number.isInteger(val);\n}\n/**\n * Checks if value is an integer.\n */\nexport function IsInt(validationOptions) {\n    return ValidateBy({\n        name: IS_INT,\n        validator: {\n            validate: function (value, args) { return isInt(value); },\n            defaultMessage: buildMessage(function (eachPrefix) { return eachPrefix + '$property must be an integer number'; }, validationOptions),\n        },\n    }, validationOptions);\n}\n//# sourceMappingURL=IsInt.js.map","import { IsBoolean, IsInt, IsString } from 'class-validator'\n\nexport class GeneralSettingDto {\n  @IsInt()\n  fontSize = 14\n\n  @IsString()\n  fontFamily =\n    '\"Helvetica Neue\",\"Luxi Sans\",\"DejaVu Sans\",\"Hiragino Sans GB\",\"Microsoft Yahei\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Noto Color Emoji\",\"Segoe UI Symbol\",\"Android Emoji\",\"EmojiSymbols\"'\n}\n\nexport class VditorSettingDto {\n  @IsBoolean()\n  typewriterMode = false\n}\n","import { buildMessage, ValidateBy } from '../common/ValidateBy';\nexport var IS_BOOLEAN = 'isBoolean';\n/**\n * Checks if a given value is a boolean.\n */\nexport function isBoolean(value) {\n    return value instanceof Boolean || typeof value === 'boolean';\n}\n/**\n * Checks if a value is a boolean.\n */\nexport function IsBoolean(validationOptions) {\n    return ValidateBy({\n        name: IS_BOOLEAN,\n        validator: {\n            validate: function (value, args) { return isBoolean(value); },\n            defaultMessage: buildMessage(function (eachPrefix) { return eachPrefix + '$property must be a boolean value'; }, validationOptions),\n        },\n    }, validationOptions);\n}\n//# sourceMappingURL=IsBoolean.js.map","/**\n * 编辑器切换\n *\n */\n\n// TODO: auto save & temp cache\nimport RefreshCircle from '@vicons/ionicons5/es/RefreshCircle'\nimport Settings from '@vicons/tabler/es/Settings'\nimport { Icon } from '@vicons/utils'\nimport { useStorageObject } from 'hooks/use-storage'\nimport { useLayout } from 'layouts/content'\nimport { throttle } from 'lodash-es'\nimport { editor } from 'monaco-editor'\n\nimport {\n  NButton,\n  NCard,\n  NForm,\n  NFormItem,\n  NH5,\n  NInput,\n  NInputNumber,\n  NModal,\n  NP,\n  NPopover,\n  NSelect,\n  NSpin,\n  NSwitch,\n  NText,\n} from 'naive-ui'\nimport Vditor from 'vditor'\n\nimport {\n  defineAsyncComponent,\n  defineComponent,\n  onMounted,\n  ref,\n  watch,\n} from 'vue'\nimport { MonacoEditor } from '../monaco'\nimport { PlainEditor } from '../plain'\nimport { VditorEditor } from '../vditor'\nimport { editorBaseProps } from './base'\nimport { GeneralSettingDto, VditorSettingDto } from './config'\nimport './toggle.css'\nconst StorageKeys = {\n  editor: 'editor-pref',\n  general: 'editor-general',\n\n  vditor: 'editor-vditor-pref',\n} as const\nenum Editor {\n  monaco = 'monaco',\n  vditor = 'vditor',\n  plain = 'plain',\n}\n\nexport const EditorToggleWrapper = defineAsyncComponent({\n  loader: () =>\n    Promise.resolve(\n      defineComponent({\n        props: {\n          ...editorBaseProps,\n          loading: {\n            type: Boolean,\n            required: true,\n          },\n        },\n        setup(props) {\n          const getPrefEditor = () => {\n            const prefValue = localStorage.getItem(StorageKeys.editor)\n            if (!prefValue) {\n              return null\n            }\n            try {\n              const pref = JSON.parse(prefValue)\n\n              // valid\n\n              const valid = Object.keys(Editor).includes(pref)\n              if (valid) {\n                return pref\n              } else {\n                return null\n              }\n            } catch {\n              return null\n            }\n          }\n\n          const currentEditor = ref<Editor>(getPrefEditor() ?? Editor.monaco)\n          const modalOpen = ref(false)\n          const layout = useLayout()\n          onMounted(() => {\n            layout.addFloatButton(\n              <button\n                onClick={() => {\n                  modalOpen.value = true\n                }}\n              >\n                <Icon size={18}>\n                  <Settings />\n                </Icon>\n              </button>,\n            )\n          })\n\n          watch(\n            () => currentEditor.value,\n            throttle(\n              (n) => {\n                localStorage.setItem(StorageKeys.editor, JSON.stringify(n))\n              },\n              300,\n              { trailing: true },\n            ),\n          )\n\n          const monacoRef = ref<editor.IStandaloneCodeEditor>()\n          const vditorRef = ref<Vditor>()\n\n          const { storage: generalSetting, reset: resetGeneralSetting } =\n            useStorageObject<GeneralSettingDto>(\n              GeneralSettingDto,\n              StorageKeys.general,\n            )\n\n          // watch(\n          //   () => generalSetting,\n          //   (n) => {\n          //     if (!monacoRef.value) {\n          //       return\n          //     }\n          //     monacoRef.value.updateOptions({\n          //       fontFamily: n.fontFamily,\n          //       fontSize: n.fontSize,\n          //     })\n          //   },\n          //   { deep: true, immediate: true },\n          // )\n\n          const GeneralSetting = defineComponent(() => {\n            return () => (\n              <Fragment>\n                <NH5 class=\"!flex items-center !mt-0\">\n                  通用设置\n                  <ResetIconButton resetFn={resetGeneralSetting} />\n                </NH5>\n                <NFormItem label=\"字体设定\">\n                  <NInput\n                    onInput={(e) => void (generalSetting.fontFamily = e)}\n                    value={generalSetting.fontFamily}\n                  />\n                </NFormItem>\n                <NFormItem label=\"字号设定\">\n                  <NInputNumber\n                    onUpdateValue={(e) =>\n                      void (generalSetting.fontSize = e ?? 14)\n                    }\n                    value={generalSetting.fontSize}\n                  />\n                </NFormItem>\n                <NFormItem label=\"注意: \" labelAlign=\"right\">\n                  <NP>以上设定暂时不适于 Monaco Editor</NP>\n                </NFormItem>\n              </Fragment>\n            )\n          })\n\n          const { storage: vditorSetting, reset: resetVditorSetting } =\n            useStorageObject<VditorSettingDto>(\n              VditorSettingDto,\n              StorageKeys.vditor,\n            )\n\n          // vditor 监听\n          // FIXME: vditor bug, can't re-set option on instance\n          {\n            watch(\n              () => vditorSetting.typewriterMode,\n              (n) => {\n                const vRef = vditorRef.value\n                if (!vRef) {\n                  return\n                }\n                const options = vRef.vditor.options\n\n                options.typewriterMode = n\n              },\n            )\n          }\n\n          const VditorSetting = defineComponent(() => {\n            return () => (\n              <>\n                <NH5 class=\"!flex items-center !mt-0\">\n                  Vditor 设定\n                  <ResetIconButton resetFn={resetVditorSetting} />\n                </NH5>\n                <NForm labelWidth=\"8rem\" labelAlign=\"right\">\n                  <NFormItem label=\"打字机模式\" labelPlacement=\"left\">\n                    <NSwitch\n                      value={vditorSetting.typewriterMode}\n                      onUpdateValue={(e) =>\n                        void (vditorSetting.typewriterMode = e)\n                      }\n                    ></NSwitch>\n                  </NFormItem>\n                </NForm>\n              </>\n            )\n          })\n\n          return () => (\n            <div\n              style={\n                {\n                  '--editor-font-size': generalSetting.fontSize\n                    ? generalSetting.fontSize + 'px'\n                    : '',\n                  '--editor-font-family': generalSetting.fontFamily,\n                } as any\n              }\n              class={'editor-wrapper'}\n            >\n              {(() => {\n                if (props.loading) {\n                  return (\n                    <div\n                      class=\"w-full flex items-center justify-center\"\n                      style={{ height: 'calc(100vh - 18rem)' }}\n                    >\n                      <NSpin strokeWidth={14} show rotate />\n                    </div>\n                  )\n                }\n                switch (currentEditor.value) {\n                  case 'monaco':\n                    // @ts-expect-error\n                    return <MonacoEditor {...props} innerRef={monacoRef} />\n\n                  case 'vditor':\n                    // @ts-expect-error\n                    return <VditorEditor {...props} innerRef={vditorRef} />\n\n                  case 'plain':\n                    return <PlainEditor {...props} />\n                  default:\n                    return null\n                }\n              })()}\n\n              <NModal\n                show={modalOpen.value}\n                onUpdateShow={(s) => void (modalOpen.value = s)}\n              >\n                <NCard\n                  closable\n                  onClose={() => {\n                    modalOpen.value = false\n                  }}\n                  title=\"编辑器设定\"\n                  style=\"max-width: 90vw;width: 500px; max-height: 65vh; overflow: auto\"\n                  bordered={false}\n                >\n                  <NP class=\"text-center\">\n                    <NText depth=\"3\">此设定仅存储在本地!</NText>\n                  </NP>\n                  <NForm\n                    labelPlacement=\"left\"\n                    labelWidth=\"8rem\"\n                    labelAlign=\"right\"\n                  >\n                    <NFormItem label=\"编辑器选择\">\n                      <NSelect\n                        value={currentEditor.value}\n                        onUpdateValue={(e) => void (currentEditor.value = e)}\n                        options={Object.keys(Editor).map((i) => ({\n                          key: i,\n                          label: i,\n                          value: i,\n                        }))}\n                      ></NSelect>\n                    </NFormItem>\n\n                    <GeneralSetting />\n\n                    {currentEditor.value == Editor.vditor && <VditorSetting />}\n                  </NForm>\n                </NCard>\n              </NModal>\n            </div>\n          )\n        },\n      }),\n    ),\n  loadingComponent: <NSpin show strokeWidth={14} rotate />,\n  suspensible: true,\n})\n\nconst ResetIconButton = defineComponent({\n  props: {\n    resetFn: {\n      type: Function,\n      required: true,\n    },\n  },\n  setup(props) {\n    return () => (\n      <NPopover trigger=\"hover\">\n        {{\n          trigger() {\n            return (\n              <NButton text class=\"ml-2\" onClick={() => props.resetFn()}>\n                <Icon\n                  size=\"20\"\n                  class=\"opacity-40 hover:opacity-100 transition-opacity duration-500\"\n                >\n                  <RefreshCircle />\n                </Icon>\n              </NButton>\n            )\n          },\n          default() {\n            return '将会重置这些设定'\n          },\n        }}\n      </NPopover>\n    )\n  },\n})\n","import { PropType } from 'vue'\n\nexport const inputBaseProps = {\n  type: {\n    type: String,\n  },\n  value: {\n    type: String,\n    required: true,\n  },\n  placeholder: {\n    type: String,\n  },\n  onChange: {\n    type: Function as PropType<(value: string) => void>,\n    required: true,\n  },\n} as const\n","import clsx from 'clsx'\nimport { defineComponent, onMounted, PropType, ref } from 'vue'\nimport { inputBaseProps } from './base'\nimport styles from './material.module.css'\nexport const MaterialInput = defineComponent({\n  props: {\n    ...inputBaseProps,\n    label: {\n      type: String,\n      required: true,\n    },\n  },\n  emits: ['compositionend', 'compositionstart'],\n  setup(props, { emit }) {\n    const inputRef = ref<HTMLInputElement>()\n\n    onMounted(() => {\n      if (!inputRef.value) {\n        return\n      }\n      inputRef.value.addEventListener('compositionstart', () => {\n        emit('compositionstart')\n      })\n\n      inputRef.value.addEventListener('compositionend', () => {\n        emit('compositionend')\n      })\n    })\n\n    return () => (\n      <div class={clsx(styles['root'], styles['group'])}>\n        <input\n          required\n          ref={inputRef}\n          type={props.type ?? 'text'}\n          value={props.value}\n          onInput={(e) => props.onChange((e.target as any).value)}\n        />\n        <span class={styles['bar']}></span>\n        <label>{props.label}</label>\n      </div>\n    )\n  },\n})\n","'use strict'\nObject.defineProperty(exports, '__esModule', { value: true })\nconst vue_1 = require('vue')\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 448 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ vue_1.createVNode(\n  'path',\n  {\n    d: 'M446.2 270.4c-6.2-19-26.9-29.1-46-22.9l-45.4 15.1l-30.3-90l45.4-15.1c19.1-6.2 29.1-26.8 23-45.9c-6.2-19-26.9-29.1-46-22.9l-45.4 15.1l-15.7-47c-6.2-19-26.9-29.1-46-22.9c-19.1 6.2-29.1 26.8-23 45.9l15.7 47l-93.4 31.2l-15.7-47c-6.2-19-26.9-29.1-46-22.9c-19.1 6.2-29.1 26.8-23 45.9l15.7 47l-45.3 15c-19.1 6.2-29.1 26.8-23 45.9c5 14.5 19.1 24 33.6 24.6c6.8 1 12-1.6 57.7-16.8l30.3 90L78 354.8c-19 6.2-29.1 26.9-23 45.9c5 14.5 19.1 24 33.6 24.6c6.8 1 12-1.6 57.7-16.8l15.7 47c5.9 16.9 24.7 29 46 22.9c19.1-6.2 29.1-26.8 23-45.9l-15.7-47l93.6-31.3l15.7 47c5.9 16.9 24.7 29 46 22.9c19.1-6.2 29.1-26.8 23-45.9l-15.7-47l45.4-15.1c19-6 29.1-26.7 22.9-45.7zm-254.1 47.2l-30.3-90.2l93.5-31.3l30.3 90.2l-93.5 31.3z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexports.default = vue_1.defineComponent({\n  name: 'SlackHash',\n  render: function render(_ctx, _cache) {\n    return vue_1.openBlock(), vue_1.createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","import SlackHash from '@vicons/fa/SlackHash'\nimport { HeaderActionButton } from 'components/button/rounded-button'\nimport { MonacoEditor } from 'components/editor/monaco'\nimport { NButton, NCard, NModal, NSpace } from 'naive-ui'\nimport { defineComponent, PropType, ref } from 'vue'\n\nexport const ParseContentButton = defineComponent({\n  props: {\n    data: {\n      type: Object as PropType<{ title: string; text: string }>,\n      required: true,\n    },\n  },\n  setup(props) {\n    const parseContentDialogShow = ref(false)\n    const unparsedValue = ref('')\n    const handleParseContent = (value: string) => {\n      const str = value.trim()\n      const lines = str.split('\\n')\n      const title = lines.slice(0, 1)[0]\n\n      const res = title.replace('# ', '')\n\n      props.data.title = res\n      lines.shift()\n\n      props.data.text = lines.filter(Boolean).join('\\n\\n')\n\n      parseContentDialogShow.value = false\n    }\n\n    return () => (\n      <>\n        <HeaderActionButton\n          icon={<SlackHash />}\n          variant=\"info\"\n          onClick={() => (parseContentDialogShow.value = true)}\n        ></HeaderActionButton>\n\n        <NModal\n          show={parseContentDialogShow.value}\n          onUpdateShow={(s) => (parseContentDialogShow.value = s)}\n        >\n          <NCard title=\"解析 Markdown\" class=\"modal-card\">\n            <NSpace vertical size={'large'}>\n              <MonacoEditor\n                onChange={(e) => void (unparsedValue.value = e)}\n                text={unparsedValue.value}\n              />\n              <NSpace justify=\"end\">\n                <NButton\n                  round\n                  type=\"primary\"\n                  onClick={() => handleParseContent(unparsedValue.value)}\n                >\n                  确定\n                </NButton>\n                <NButton\n                  onClick={(_) => {\n                    unparsedValue.value = ''\n                  }}\n                  round\n                >\n                  重置\n                </NButton>\n              </NSpace>\n            </NSpace>\n          </NCard>\n        </NModal>\n      </>\n    )\n  },\n})\n"],"names":["_hoisted_1","xmlns","viewBox","_hoisted_2","d","fill","defineComponent","name","render","_ctx","_cache","_openBlock","_createBlock","__webpack_modules__","module2","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","Diff","op","text","prototype","diff_main","text1","text2","opt_checklines","opt_deadline","this","Number","MAX_VALUE","Date","getTime","deadline","Error","checklines","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","length","diffs","diff_compute_","unshift","push","diff_cleanupMerge","longtext","shorttext","i","indexOf","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","concat","diff_lineMode_","diff_bisect_","a","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","splice","subDiff","j","pop","text1_length","text2_length","max_d","Math","ceil","v_offset","v_length","v1","Array","v2","x","delta","front","k1start","k1end","k2start","k2end","k1","k1_offset","y1","x1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","y","text1a","text2a","text1b","text2b","diffsb","lineHash","chars","lineStart","lineEnd","lineArrayLength","line","hasOwnProperty","String","fromCharCode","maxLines","diff_linesToCharsMunge_","charCodeAt","join","pointermin","pointermax","min","pointermid","pointerstart","floor","pointerend","diff_commonOverlap_","text_length","best","pattern","found","dmp","longtext2","shorttext2","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","diff_halfMatchI_","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","max","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","one","two","char1","char2","nonAlphaNumeric1","match","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","diff_cleanupSemanticScore_","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","replace","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","data","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","tokens","split","param","decodeURI","ex","n","parseInt","isNaN","match_main","match_bitap_","s","match_alphabet_","e","accuracy","proximity","abs","score_threshold","best_loc","match_bitapScore_","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","start","finish","rd","charMatch","patch_addContext_","patch","start2","length1","padding","prefix","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","shift","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","m","sign","toString","exports","DIFF_INSERT","DIFF_EQUAL","__unused_webpack_module","__webpack_exports__2","__webpack_require__2","default","method","abcRender","adapterRender","chartRender","codeRender","flowchartRender","graphvizRender","highlightRender","lazyLoadImageRender","element","document","loadImg","it","testImage","createElement","src","getAttribute","addEventListener","naturalHeight","naturalWidth","querySelector","clientWidth","innerHeight","window","style","height","removeAttribute","querySelectorAll","forEach","imgElement","vditorImageIntersectionObserver","disconnect","observe","IntersectionObserver","entries","entrie","isIntersecting","intersectionRatio","target","mathRender","mediaRender","mermaidRender","mindmapRender","outlineRender","plantumlRender","constants","setContentTheme","addScript","hasClosest","merge","setLute","selection","speechRender","lang","speechSynthesis","SpeechSynthesisUtterance","playSVG","pauseSVG","speechDom","className","body","insertAdjacentElement","getVoice","currentVoice","defaultVoice","getVoices","item","onvoiceschanged","voice_1","onclick","utterThis","voice","onend","cancel","innerHTML","speak","speaking","paused","resume","pause","Hc","vditorSpeechRange","getSelection","trim","display","event","getRangeAt","cloneRange","rect","getBoundingClientRect","top","scrollTop","left","screenX","setAttribute","__awaiter2","thisArg","_arguments","P","generator","Promise","resolve","reject","value","next","result","done","then","fulfilled","rejected","apply","__generator2","f","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","TypeError","call","step","mergeOptions","options","defaultOption","anchor","cdn","CDN","customEmoji","emojiPath","hljs","HLJS_OPTIONS","icon","markdown","MARKDOWN_OPTIONS","math","MATH_OPTIONS","mode","speech","enable","theme","THEME_OPTIONS","T","md2html","mdText","mergedOptions","G","lute","X","autoSpace","codeBlockPreview","emojiSite","emojis","fixTermTypo","footnotes","headingAnchor","inlineMathDigit","inlineDigit","lazyLoadImage","linkBase","linkPrefix","listStyle","mark","mathBlockPreview","paragraphBeginningSpace","sanitize","toc","renderers","SetJSRenderers","Md2HTML","SetHeadingID","previewRender","previewElement","_a","transform","classList","add","i18n","VditorI18n","includes","J","Z","current","path","O","H","p","B","Q","Y","type","id","substr","getElementById","offsetTop","onhashchange","decodeURIComponent","location","hash","after","spanElement","lG","fb","headingElement","scrollTo","scrollX","preview_image","setCodeTheme","previewImage","E","k","preview","Vditor3","_VDITOR_VERSION","Constants","ZWSP","DROP_EDITOR","MOBILE_WIDTH","CLASS_MENU_DISABLED","EDIT_TOOLBARS","CODE_THEME","CODE_LANGUAGES","lineNumber","engine","macros","list","dark","light","wechat","Constants2","_constants__WEBPACK_IMPORTED_MODULE_0__","_util_addScript__WEBPACK_IMPORTED_MODULE_2__","_adapterRender__WEBPACK_IMPORTED_MODULE_1__","abcElements","abcRenderAdapter","getElements","parentElement","contains","renderAbc","getCode","overflowX","r","mathRenderAdapter","mermaidRenderAdapter","mindmapRenderAdapter","chartRenderAdapter","graphvizRenderAdapter","flowchartRenderAdapter","plantumlRenderAdapter","mathElement","textContent","el","innerText","echartsElements","option","JSON","parse","init","setOption","error","_util_code160to32__WEBPACK_IMPORTED_MODULE_0__","maxHeight","codeText","codeElement","remove","divElement","copy","copied","textarea","before","outerHeight","flowchartElements","flowchartObj","flowchart","drawSVG","graphvizElements","code","blob","Blob","blobUrl","URL","webkitURL","createObjectURL","worker","Worker","Viz","renderSVGElement","outerHTML","catch","e2","_util_addStyle__WEBPACK_IMPORTED_MODULE_1__","hljsOption","vditorHljsStyle","href","c","block","highlightElement","linenNumberTemp","whiteSpace","getComputedStyle","isSoftWrap","lineNumberHTML","lineList","map","lineHeight","insertAdjacentHTML","_util_addScript__WEBPACK_IMPORTED_MODULE_3__","_util_addStyle__WEBPACK_IMPORTED_MODULE_2__","_util_code160to32__WEBPACK_IMPORTED_MODULE_4__","mathElements","defaultOptions2","Object","assign","katex","renderToString","displayMode","tagName","output","message","stopPropagation","preventDefault","vditorMathElement","currentTarget","closest","clipboardData","setData","MathJax","loader","paths","mathjax","startup","typeset","tex","renderMath_1","mathOptions","getMetricsFor","tex2svgPromise","node","append","clear","updateDocument","errorTextElement","promise","chains","_loop_1","i2","fns","curr","last","fn","aElement","url","youtubeMatch","youkuMatch","qqMatch","coubMatch","facebookMatch","dailymotionMatch","bilibiliMatch","tedMatch","encodeURIComponent","mermaidElements","config","altFontFamily","htmlLabels","useMaxWidth","fontFamily","gantt","leftPadding","rightPadding","securityLevel","sequence","boxMargin","diagramMarginX","diagramMarginY","startOnLoad","themeVariables","activationBkgColor","activationBorderColor","activeTaskBkgColor","activeTaskBorderColor","actorBkg","actorBorder","actorLineColor","actorTextColor","altBackground","altSectionBkgColor","arrowheadColor","background","border1","border2","classText","clusterBkg","clusterBorder","critBkgColor","critBorderColor","darkTextColor","defaultLinkColor","doneTaskBkgColor","doneTaskBorderColor","edgeLabelBackground","errorBkgColor","errorTextColor","fillType0","fillType1","fillType2","fillType3","fillType4","fillType5","fillType6","fillType7","fontSize","gridColor","labelBackground","labelBoxBkgColor","labelBoxBorderColor","labelColor","labelTextColor","lineColor","loopTextColor","mainBkg","mainContrastColor","nodeBkg","nodeBorder","noteBkgColor","noteBorderColor","noteTextColor","primaryBorderColor","primaryColor","primaryTextColor","secondBkg","secondaryBorderColor","secondaryColor","secondaryTextColor","sectionBkgColor","sectionBkgColor2","sequenceNumberColor","signalColor","signalTextColor","taskBkgColor","taskBorderColor","taskTextClickableColor","taskTextColor","taskTextDarkColor","taskTextLightColor","taskTextOutsideColor","tertiaryBorderColor","tertiaryColor","tertiaryTextColor","textColor","titleColor","todayLineColor","initialize","mindmapElements","series","initialTreeDepth","itemStyle","borderWidth","color","backgroundColor","borderColor","borderRadius","offset","position","lineStyle","width","roam","symbol","params","children","tooltip","trigger","triggerOn","_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__","_mathRender__WEBPACK_IMPORTED_MODULE_0__","contentElement","targetElement","vditor2","tocHTML","ids","from","W","lastIndex","tempElement","SetToC","currentMode","HTML2VditorDOM","SpinVditorIRDOM","SpinVditorDOM","Lute","New","headingsElement","firstElementChild","nextElementSibling","isEqualNode","idElement","windowScrollY","toolbarConfig","pin","toolbar","offsetHeight","scrollY","plantumlElements","plantumlEncoder","encode","PutEmojis","SetEmojiSite","SetHeadingAnchor","SetInlineMathAllowDigitAfterOpenMarker","SetAutoSpace","SetFootnotes","SetFixTermTypo","SetVditorCodeBlockPreview","SetVditorMathBlockPreview","SetSanitize","SetChineseParagraphBeginningSpace","SetRenderListStyle","SetLinkBase","SetLinkPrefix","SetMark","SetImageLazyLoading","oldImgElement","oldImgRect","spin","close","overflow","translate3d","innerWidth","scrollWidth","scrollHeight","clientHeight","btnElement","deg","codeTheme","_util_addStyle__WEBPACK_IMPORTED_MODULE_0__","contentTheme","vditorContentTheme","cssPath","addScriptSync","xhrObj","XMLHttpRequest","open","setRequestHeader","send","scriptElement","responseText","head","appendChild","async","onload","addStyle","styleElement","rel","getElementsByTagName","code160to32","G6","isSafari","vU","isFirefox","pK","accessLocalStorage","Le","getEventName","yl","isCtrl","ns","updateHotkeyTip","i7","isChrome","navigator","userAgent","toLowerCase","localStorage","platform","toUpperCase","metaKey","ctrlKey","hotkey","test","startsWith","vendor","JQ","hasTopClosestByClassName","E2","hasTopClosestByTag","O9","getTopList","a1","hasClosestByAttribute","F9","hasClosestBlock","hasClosestByMatchTag","hasClosestByClassName","DX","getLastNode","_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__","parentClosest","findTop","nodeName","S","topUlElement","topOlElement","topListElement","attr","nodeType","isClosest","blockElement","lastChild","hasClosestByTag","hasClosestByHeadings","_i","arguments","merger","obj","prop","zh","getEditorRange","Ny","getCursorPosition","Gb","selectIsEditor","setSelectionFocus","im","getSelectPosition","$j","setSelectionByPosition","ib","setRangeByWbr","oC","insertHTML","_compatibility__WEBPACK_IMPORTED_MODULE_2__","_hasClosest__WEBPACK_IMPORTED_MODULE_1__","range","rangeCount","startContainer","focus","ownerDocument","createRange","setStart","collapse","editor","cursorRect","parentRect","getClientRects","parent_1","startOffset","childNodes","selectNode","setEnd","endContainer","endOffset","container","commonAncestorContainer","removeAllRanges","addRange","selectElement","editorElement","end","preSelectionRange","selectNodeContents","charIndex","pNode","foundStart","stop","nextCharIndex","nextSibling","setStartBefore","setStartAfter","setEndBefore","setEndAfter","wbrElement","previousElementSibling","isSameNode","previousSibling","insertNode","createTextNode","tempBlockElement","pasteElement","preventInput","execCommand","lastElementChild","pasteTemplate","content","cloneNode","__webpack_module_cache__","moduleId","cachedModule","__webpack_require__","exports2","definition","key","o","defineProperty","enumerable","get","toStringTag","__webpack_exports__","extendStatics","templateObject_1","getMarkdown","sv","VditorDOM2Md","wysiwyg","VditorIRDOM2Md","ir","DevTools","renderEchart","_this","devtools","ASTChart","echarts","RenderEChartsJSON","align","verticalAlign","orient","toolbox","bottom","emphasis","iconStyle","feature","restore","show","saveAsImage","right","resize","DevTools2","compatibility","removeCurrentToolbar","names","itemElement","setCurrentToolbar","enableToolbar","disableToolbar","hideToolbar","showToolbar","hidePanel","panels","exceptElement","elements","emoji","hint","popover","toggleSubMenu","panelElement","actionBtn","level","log","method2","print","processCodeRender","previewPanel","language","renderToc","outline","clickToc","keydownToc","insertBeforeBlock","trimRight","insertAfterBlock","tocElement","input","ignoreSpace","isHrMD","isHeadingMD","startSpace","endSpace","previousNode","previewRenderElement","firstLinkRefDefElement","isIRElement","footnoteElement","blockquoteElement","listPrevElement","listNextElement","inputType","debugger","footnoteItemElement","footnoteItemText","marker","footnoteRefElement","firstFootnoteElement","allLinkRefDefsElement","allFootnoteElement","enableAddUndoStack","enableHint","enableInput","matchHotKey","hotKey","altKey","shiftKey","hotKeys","keyCode","hasShift","expandMarker","nodeElement","nodeElementEnd","collapsed","nextNode","nodeValue","markerElement","parentNextNode","nextIsNode","previousIsNode","inputEvent","codeBlockMarkerElement","openMarkerElement","getSideByType","mathBlockMarkerElement","mathBlockCloseElement","Caret","isSVElement","processSpinVditorSVDOM","setTheme","setPadding","minPadding","maxWidth","paddingLeft","offsetWidth","setTypewriterPosition","typewriterMode","minHeight","setProperty","afterRender","initValue","getItem","cache","originalInnerHTML","HTML2Md","highlightToolbarIR","hlToolbarTimeoutId","setTimeout","typeElement","liElement","afterRenderEvent","afterRenderTimeoutId","composingLock","counter","setItem","undo","addToUndoStack","undoDelay","getNextHTML","getPreviousHTML","modifyPre","find","pElement","cloneRangeOffset","parentNode","insertBefore","firstChild","setHeading","removeHeading","showCode","first","previousElement","removeBlockElement","click","highlightToolbarWYSIWYG","footnotesElement","commentElement","ids_1","nextIds_1","tableElement","updateTable_1","oldRow","rows","oldColumn","cells","row","input_1","column","input2_1","columnDiff","rowDiff","rowHTML","l","setAlign_1","td","th","alignType","left_1","alignLeft","center_1","alignCenter","right_1","alignRight","insertRowElement","insertRowBelow","cellElement","insertRowBElement","insertRowAbove","insertColumnElement","insertColumnRight","insertColumnBElement","insertColumnLeft","deleteRowElement","deleteColumnElement","inputWrap","textAlign","oninput","onkeydown","isComposing","select","input2Wrap","linkRefElement","footnotesRefElement","footnoteRef","input_2","blockRenderElement","languageWrap","language_1","codeElement_1","recentLanguage","onkeyup","matchLangData","selectionStart","keyName","genHTML","input_3","backslashElement","setPopoverPosition","offsetLeft","genLinkRefPopover","updateLinkRef","input2","input1","textIsNotEmpty","input1Wrap","linkRef","genUp","upElement","up","genDown","nextElement","downElement","down","genClose","linkHotkey","nextInputElement","genAPopover","updateA","input22","link","tooltipText","highlightToolbar","renderDomByMd","md","Md2VditorDOM","cancelBES","commandName","jump","lastTagName","lastEndTagName","splitHTML","previousHTML","nextHTML","beforeHTML","afterHTML","splitElement","lastBeforeHTML","lastAfterHTML","MenuItem","menuItem","tip","iconElement","tipPosition","CustomEvent","useHighlight","useRender","quoteElement","inlineCodeElement","surroundContents","deleteContents","textInputElement","textInputElements","tableHTML_1","tableText","delimiter_1","header","subIndex","cell","hrHTML","__extends","b","setPrototypeOf","__proto__","d2","b2","constructor","create","__","setEditMode","markdownText","SetVditorIR","SetVditorWYSIWYG","SetVditorSV","Md2VditorIRDOM","svHTML","resetIcon","toggle","EditMode","_super","instantRendering","splitView","_bindEvent","EditMode2","getSelectText","focusEvent","dblclickEvent","blurEvent","expandElement","selectPopover","relatedTarget","hideComment","blur","dropEvent","dataTransfer","getData","types","pasteCode","copyEvent","cutEvent","comment","getComments","scrollCenter","adjustTop","cursorTop","hotkeyEvent","extend","_b","_c","_d","_e","recordFirstPosition","textElement","blockquoteMarkerElement","listMarkerElement","taskMarkerElement","listLastMarkerElement","startIndex","isTask","listFirstMarkerElement","fixTab","isFirst","newLineMatch","newLineText","processPreviousMarkers","extractContents","previousLastElement","processKeydown_processKeydown","fixGSKeyBackspace","fixMarkdown","fixList","fixTable","codeRenderElement","inputElemment","fixCodeBlock","fixBlockquote","topBQElement","pTempElement","fixTask","linRefElement","inputElement","fixDelete","rangeStart","rangeStartOffset","nextIsCode","fixFirefoxArrowUpTable","wysiwyg_processKeydown_processKeydown","newlineElement","beforeMarkerElement","afterMarkerElement","preRenderElement","preBeforeElement","isFirstCell","table2Element","isLastCell","headingMarkerElement","headingLength","processKeydown","ctrlEnter","redo","esc","repeat","subMenuItem","dispatchEvent","selectEvent","onmouseup","selectText","showComment","processPaste","Md2VditorSVDOM","spanNode","isPrevious","sideElement","SpinVditorSVDOM","spanType","markerText","hasNL","previousType","previousText","openMarker","processAfterRender","processTimeoutId","processHeading","processToolbar","newLine","insertAdjacentText","getElement","setHeaders","xhr","upload","headers","keys","Upload","isUploading","uploadFiles","files","fileList","filesMax","fileItem","isValidate","validateResult","formData","extraData","iMax","multiple","DataTransferItem","getAsFile","handler","file","validate","hide","uploadFileList","errorTip","uploadingStr","iMax2","nameEmpty","size","over","fileExt","filename","accept","some","fileTypeError","uploading","validateFile","FormData","fieldName","token","withCredentials","onreadystatechange","readyState","DONE","status","success","format","response","msg","errFiles","uploadError","succFileText","succMap","onprogress","lengthComputable","progress","loaded","total","input_input","previousAEmptyElement","previoueIsEmptyA","wbr","html_1","firstLinkRefDefElement_1","isWYSIWYGElement","firstFootnoteElement_1","triggerRemoveComment","fixBrowserBehavior_awaiter","fixBrowserBehavior_generator","fixCJKPosition","pLiElement","zwspNode","fixCursorDownInlineMath","inlineElement","insertEmptyBlock","goPreviousCell","isSelected","listToggle","pHTML","childElementCount","trimLeft","replaceChild","listIndent","liElements_1","cloneContents","liParentElement","liHTML_1","slice","tempTopListElement","listOutdent","liParentLiElement","liParentAfterElement","liElements_2","isMatch_1","afterHTML_1","reverse","setTableAlign","columnCnt","rowCnt","currentColumn","textArray","execAfterRender","endsWith","tab","pText","raw","cooked","pTextList","tableHeaderMD","pInnerHTML","innerHTMLList","lastElement","insertRow","theadHTML","insertColumn","deleteRow","tbodyElement","deleteColumn","brElement","trElement","codePosition","isEmpty","taskItemElement","checked","afterHTML_2","beforeHTML_1","isAfter_1","taskItem","parentTagName","dataMarker","startAttribute","rangeElement","lastCellElement","fixHR","paste","callback","textHTML","textPlain","renderLinkDest","doc","items","entering","WalkContinue","src2","TokensStr","__internal_object__","Parent","Type","linkToImgUrl","xhr_1","linkToImgFormat","responseJSON_1","original_1","originalURL","linkToImgCallback","stringify","DOMParser","parseFromString","isCode","pres","processPasteCode","HTML2VditorIRDOM","processHint","matchLangData_1","key_1","process_processAfterRender","process_processHeading","removeInline","process_processToolbar","aTextElement","Hint","hintExtends","splitChar","fillEmoji","preElement","timeId","focusNode","currentLineValue","getKey","emojiHint_1","GetEmojis","matchEmojiData_1","delay","textareaPosition","hintsHTML","hintData","replaceHtml","replaceIndex","defaultView","getPropertyValue","currentHintElement","length_1","currentLastIndex","lastItem","preChar","Hint2","IR","placeholder","bindEvent","linkElement","lastRect","IR2","getHTML","VditorDOM2HTML","VditorIRDOM2HTML","Outline","outlineLabel","Outline2","Preview","classes","copyToX","actions","actionElement","actionHtml","action","btn","actionCustom","w","mdTimeoutId","renderStartTime","responseJSON","html2","startTime","time","performanceTip","cmtFocusElement","copyElement","backgroundImage","Preview2","Resize","documentSelf","clientY","ondragstart","captureEvents","onmousemove","moveEvent","paddingBottom","onselectstart","onselect","Resize2","Editor2","textScrollTop","textHeight","textScrollHeight","parseFloat","Editor3","Tip","Tip2","setPreviewMode","Both_extends","Both","Both2","Br","CodeTheme_extends","CodeTheme","CodeTheme2","ContentTheme_extends","ContentTheme","ContentTheme2","Counter","Counter2","Custom_extends","Custom","Custom2","Devtools_extends","Devtools","Devtools2","Divider","Emoji_extends","Emoji","commonEmojiHTML","emojiValue","tailHTML","emojiTail","Emoji2","download","downloadTip","Export_extends","Export","generate","iframe","contentDocument","write","contentWindow","postMessage","Export2","Fullscreen_extends","Fullscreen","Fullscreen2","zIndex","svgElement","fullscreen","index","Headings_extends","Headings","heading1","heading2","heading3","heading4","heading5","heading6","Headings2","Help_extends","Help","Help2","Indent_extends","Indent","Indent2","Info_extends","Info","Version","Info2","InsertAfter_extends","InsertAfter","InsertAfter2","InsertBefore_extends","InsertBefore","InsertBefore2","Outdent_extends","Outdent","Outdent2","Outline_extends","Outline_Outline","Preview_extends","Preview_Preview","toolbars","RecordMedia","context","SAMPLE_RATE","isRecording","readyFlag","leftChannel","rightChannel","recordingLength","AudioContext","webkitAudioContext","DEFAULT_SAMPLE_RATE","sampleRate","volume","createGain","createMediaStreamSource","connect","recorder","createScriptProcessor","onaudioprocess","destination","cloneChannelData","leftChannelData","rightChannelData","Float32Array","startRecordingNewWavFile","stopRecording","buildWavFileBlob","leftBuffer","mergeBuffers","rightBuffer","interleaved","downSampleBuffer","totalByteCount","buffer","ArrayBuffer","view","DataView","writeUTFBytes","setUint32","setUint16","subChunk2ByteCount","lng","setInt16","rate","sampleRateRatio","newLength","round","offsetResult","offsetBuffer","nextOffsetBuffer","accum","count","desiredChannelBuffer","set","setUint8","RecordMedia2","Record_extends","Record","Record2","mediaRecorder","File","recording","mediaDevices","getUserMedia","audio","mediaStream","inputBuffer","getChannelData","Redo_extends","Redo","Redo2","Undo_extends","Undo","Undo2","Upload_extends","Upload_Upload","inputHTML","Upload2","Toolbar","genItem","panelElement_1","subI","menuItemObj","Toolbar2","undo_Undo","stackSize","resetStack","clearStack","undoStack","redoStack","state","renderDiff","hasUndo","addCaret","lastText","diff","patchList","isRedo","redoPatchList","setFocus","Options","defaultOptions","confused","eyes","heart","rocket","smile","tada","mergeToolbar","toolbarItem","toolbarResult","currentMenuItem","defaultMenuItem","Options2","WYSIWYG","commentIds","blockStartElement","blockEndElement","NewNodeID","rangeClone","contents","removeStart","removeEnd","wrap","startElement","endElement","Set","comments_1","oldIds","removedIds","filter","has","codeEndElement","aEndElement","aTitle","popoverTop1","popoverTop","scroll","topPx","checkElement","updateImg","alt","title","imageURL","elementEvent","altWrap","alternateText","titleWrap","blockCodeElement","getRenderElementNextNode","nextRenderElement","WYSIWYG2","src_extends","version","contentThemePath","vditor","getValue","getCurrentMode","disabled","renderPreview","clearCache","removeItem","disabledCache","enableCache","html2md","exportJSON","RenderJSON","deleteValue","isCollapsed","updateValue","insertValue","render5","tmpElement","setValue","destroy","getCommentIds","hlCommentIds","hlItem","unHlCommentIds","unHlItem","removeCommentIds","removeIds","removeId","_lutePath","export","visualViewport","pendingUpdate_1","viewportHandler","layoutViewport","VditorEditor","defineAsyncComponent","props","editorBaseProps","innerRef","setup","vRef","ref","instance","Vditor","isDark","val","onChange","memoInitialValue","toRaw","unSaveConfirm","useInjector","UIStore","isDark2","stroke","cx","cy","TransformationType","TransformationType2","defaultMetadataStorage","_typeMetadatas","Map","_transformMetadatas","_exposeMetadatas","_excludeMetadatas","_ancestorsMap","addTypeMetadata","metadata","propertyName","addTransformMetadata","addExposeMetadata","addExcludeMetadata","findTransformMetadatas","transformationType","findMetadatas","toClassOnly","toPlainOnly","CLASS_TO_CLASS","PLAIN_TO_CLASS","CLASS_TO_PLAIN","findExcludeMetadata","findMetadata","findExposeMetadata","findExposeMetadataByCustomName","getExposedMetadatas","findTypeMetadata","getStrategy","excludeMap","exclude","exposeMap","expose","getMetadata","getExcludedMetadatas","getExposedProperties","getExcludedProperties","metadatas","metadataFromTarget","metadataFromTargetMap","values","meta","metadataFromAncestors","getAncestors","ancestor","ancestorMetadataMap","metadataFromAncestor","ancestorResult","metadataFromAncestorsTarget","ancestors","baseClass","getPrototypeOf","MetadataStorage2","TransformOperationExecutor","recursionStack","source","targetType","arrayType","isMap","isArray","newValue_1","array","instantiateArrayType","subValue","subSource","enableCircularCheck","isCircular","realTargetType","discriminator","property","subTypes","subType","newObject","object","newType","typeFunction","keepDiscriminatorProperty","value_1","Boolean","valueOf","globalThis","global","self","Buffer","getKeys","newValue","key2","valueKey","newValueKey","this_1","ignoreDecorators","exposeMetadata","Function","isSubValueMap","metadata_1","reflectedType","targetMaps","properties","enableImplicitConversion","Reflect","arrayType_1","getReflectedType","descriptor","getOwnPropertyDescriptor","finalValue","applyCustomTransformations","exposeUnsetFields","transformKey","exposeDefaultValues","keys_1","delete","checkVersion","since","until","groups","checkGroups","transformFn","strategy","exposedProperties","excludeExtraneousValues","excludedProperties_1","excludePrefixes","every","self2","decision","optionGroup","TransformOperationExecutor2","__assign","classTransformer","classToPlain","classToPlainFromExist","plainObject","plainToClass","cls","plain","plainToClassFromExist","clsObject","classToClass","classToClassFromExist","fromObject","serialize","deserialize","json","jsonObject","deserializeArray","ClassTransformer2","ValidationMetadata","args","each","constraints","constraintCls","validationTypeOptions","validationOptions","always","ValidationSchemaToMetadataTransformer","schema","validation","ValidationSchemaToMetadataTransformer2","MetadataStorage","validationMetadatas","constraintMetadatas","configurable","addValidationSchema","validationMetadata","addValidationMetadata","addConstraintMetadata","groupByPropertyName","grouped","metadata2","getTargetValidationMetadatas","targetConstructor","targetSchema","strictGroups","includeMetadataBecauseOfAlwaysOption","excludeMetadataBecauseOfStrictGroupsOption","originalMetadatas","group2","uniqueInheritedMetadatas","inheritedMetadata","originalMetadata","getTargetValidatorConstraints","global2","classValidatorMetadataStorage","ValidationError","shouldDecorate","hasParent","parentPath","boldStart","boldEnd","propConstraintFailed","formattedProperty_1","isInteger","childError","ValidationError2","ValidationTypes","isValid","CUSTOM_VALIDATION","NESTED_VALIDATION","PROMISE_VALIDATION","CONDITIONAL_VALIDATION","WHITELIST","IS_DEFINED","ValidationTypes2","ValidationUtils","replaceMessageSpecialTokens","validationArguments","messageString","constraint","RegExp","constraintToString","targetName","ValidationUtils2","ValidationExecutor","validator","validatorOptions","awaitingPromises","ignoreAsyncValidations","metadataStorage","getMetadataStorage","execute","validationErrors","hasValidationMetaData","enableDebugMessages","warn","targetMetadatas","groupedMetadatas","forbidUnknownValues","validationError","unknownValue","whitelist","definedMetadatas","resolvedValue","performValidations","notAllowedProperties","forbidNonWhitelisted","generateValidationError","stripEmptyErrors","errors","customValidationMetadatas","nestedValidationMetadatas","conditionalValidationMetadatas","conditionalValidations","customValidations","mapContexts","skipUndefinedProperties","skipNullProperties","skipMissingProperties","nestedValidations","reduce","resultA","resultB","customConstraintMetadata","stopAtFirstError","validatedSubValues","validatedSubValue","isPromise","asyncValidatedSubValues","asyncValidationIsFinishedPromise","all","flatValidatedValues","_a2","createValidationError","type2","message2","contexts","validatedValue","customConstraint","getConstraintType","customValidatorMetadata","dismissDefaultMessages","defaultMessage","ValidationExecutor2","__awaiter","__generator","Validator","objectOrSchemaName","objectOrValidationOptions","maybeValidatorOptions","coreValidate","validateOrReject","validateSync","executor","Validator2","defaultContainer","instances","someClass","instance2","class_1","ConstraintMetadata","ConstraintMetadata2","getFromContainer","impl","eachPrefix","validator_1","CustomConstraint","validationMetadataArgs","ValidateBy","isString","buildMessage","useStorageObject","DTO","storageKey","fixWrongPropertyData","objectStorage","reactive","saved","parsed","classify","err","schemaNameOrObject","instanceDto","throttle","trailing","deep","storage","reset","PlainEditor","textRef","NInput","onInput","__decorateClass","GeneralSettingDto","IsString","isBoolean","IsBoolean","VditorSettingDto","StorageKeys","Editor","EditorToggleWrapper","loading","required","currentEditor","prefValue","pref","monaco","modalOpen","layout","useLayout","addFloatButton","onClick","Icon","Settings","monacoRef","vditorRef","generalSetting","resetGeneralSetting","GeneralSetting","Fragment","NH5","class","ResetIconButton","resetFn","NFormItem","NInputNumber","onUpdateValue","labelAlign","NP","vditorSetting","resetVditorSetting","VditorSetting","NForm","labelWidth","labelPlacement","NSwitch","NSpin","strokeWidth","rotate","MonacoEditor","NModal","onUpdateShow","NCard","closable","onClose","bordered","NText","depth","NSelect","loadingComponent","suspensible","NPopover","NButton","RefreshCircle","MaterialInput","inputBaseProps","emits","emit","inputRef","clsx","styles","SlackHash","vue_1","require$$0","createVNode","openBlock","createBlock","ParseContentButton","parseContentDialogShow","unparsedValue","HeaderActionButton","variant","NSpace","vertical","justify","lines","res","handleParseContent"],"mappings":"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"}