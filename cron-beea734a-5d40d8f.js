import{T as e}from"./index-e55115a4-5d40d8f.js";import{u as a}from"./use-table-2460233e-5d40d8f.js";import{R as t,a as s}from"./index-5d40d8f.js";import{t as i}from"./index-503452d9-5d40d8f.js";import{d as n,o,h as d,v as r,G as l,aW as m,J as p}from"./vendor-8847080f-5d40d8f.js";var c=n({setup(){const{data:n,checkedRowKeys:c,fetchDataFn:u,loading:y}=a((e=>async()=>{const a=await t.api.health.cron.get();e.value=Array.from(Object.values(a.data).map((e=>({...e,_name:e.name,name:i(e.name)}))))}));return o((async()=>{await u()})),()=>d(s,null,d(e,{noPagination:!0,data:n,loading:y.value,nTableProps:{maxHeight:"calc(100vh - 17rem)"},maxWidth:500,columns:[{title:"任务",key:"name",ellipsis:{tooltip:!0},width:150},{title:"描述",key:"description",width:250,ellipsis:{tooltip:!0}},{title:"状态",key:"status"},{title:"下次执行",key:"",render(e){const a=e.nextDate;return a?r(new Date(a),"MM/dd/yyyy hh:mm:ss"):"N/A"}},{title:"操作",key:"",render:e=>d(l,null,d(m,{onPositiveClick:()=>{t.api.health.cron.run(e._name).post()}},{trigger:()=>d(p,{size:"tiny",text:!0,type:"success"},"执行"),default:()=>d("span",{style:{maxWidth:"12rem"}},"确定要执行?")}))}]}))}});export{c as default};
//# sourceMappingURL=cron-beea734a-5d40d8f.js.map
